[
    {
        "content": "<p>Hi everyone,</p>\n<p>I'm curious about the current state of TLS (Thread Local Storage) support in wasm-ld when building PIE (Position Independent Executable) binaries. Could anyone share insights or updates on how well this is supported at the moment? Are there any known limitations or ongoing improvements in this area?</p>\n<p>Thanks in advance!</p>",
        "id": 499615278,
        "sender_full_name": "Dennis Zhang",
        "timestamp": 1739494901
    },
    {
        "content": "<p>I'm absolutely not the right person to answer this question, but until the right person comes along:</p>\n<ul>\n<li>Are you using WASI or referring to an emscripten-based Wasm project? </li>\n<li>Have you seen <a href=\"https://github.com/WebAssembly/wasi-libc/issues/456\">this exchange about thread local support in wasi-libc</a>?</li>\n</ul>",
        "id": 499627529,
        "sender_full_name": "Victor Adossi",
        "timestamp": 1739502083
    },
    {
        "content": "<p>Just saw this; thanks <span class=\"user-mention\" data-user-id=\"598440\">@Victor Adossi</span> for answering, those are good questions that we still could use answers to. A brief overview of TLS:</p>\n<ul>\n<li>in the \"instance per thread\" model (e.g., wasi-threads, browser), WebAssembly globals are great slots for TLS storage</li>\n<li>however, not much testing has gone into the toolchain side of this; if you're using wasi-libc/wasi-sdk, you might consider writing (or bringing in) some TLS tests: <a href=\"https://github.com/WebAssembly/wasi-libc/tree/main/test\">https://github.com/WebAssembly/wasi-libc/tree/main/test</a></li>\n<li>in the new model, the <code>shared-everything-threads</code> proposal, TLS is actively being debated in the W3C threads subgroup; you can see an older version of this <a href=\"https://github.com/WebAssembly/shared-everything-threads/blob/main/proposals/shared-everything-threads/Overview.md#thread-local-storage-tls\">here</a>; let me know if you're interested in attending the subgroup meeting</li>\n</ul>\n<p>Beyond <span class=\"user-mention\" data-user-id=\"598440\">@Victor Adossi</span>'s good questions, I think it would also be helpful to hear what you need TLS for; e.g., what does your use case look like?</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/WebAssembly/wasi-libc/tree/main/test\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/738aedf0dd8710d2e253927b46a99cb2cbc8d74b/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f376131633534363635646366393333336630396338633863393033643039623465313739366533613134343663396266343734306636303536633566353639302f576562417373656d626c792f776173692d6c696263&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/WebAssembly/wasi-libc/tree/main/test\" title=\"wasi-libc/test at main 路 WebAssembly/wasi-libc\">wasi-libc/test at main 路 WebAssembly/wasi-libc</a></div><div class=\"message_embed_description\">WASI libc implementation for WebAssembly. Contribute to WebAssembly/wasi-libc development by creating an account on GitHub.</div></div></div><div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/WebAssembly/shared-everything-threads/blob/main/proposals/shared-everything-threads/Overview.md#thread-local-storage-tls\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/92ad9536358da6fc4a6dff9d9ffed08c8fbdfa79/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f633166306432373237323038363939663461636431623339343631376630366566653638323438326566366330623933346233316631363963303730353966352f576562417373656d626c792f7368617265642d65766572797468696e672d74687265616473&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/WebAssembly/shared-everything-threads/blob/main/proposals/shared-everything-threads/Overview.md#thread-local-storage-tls\" title=\"shared-everything-threads/proposals/shared-everything-threads/Overview.md at main 路 WebAssembly/shared-everything-threads\">shared-everything-threads/proposals/shared-everything-threads/Overview.md at main 路 WebAssembly/shared-everything-threads</a></div><div class=\"message_embed_description\">A draft proposal for spawning threads in WebAssembly - WebAssembly/shared-everything-threads</div></div></div>",
        "id": 501153161,
        "sender_full_name": "Andrew Brown",
        "timestamp": 1740158975
    }
]