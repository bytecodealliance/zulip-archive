[
    {
        "content": "<p>From to the <a href=\"https://component-model.bytecodealliance.org/language-support/c.html\">component model book</a> </p>\n<blockquote>\n<p>You can also use your installed system or <a href=\"https://emscripten.org/\">Emscripten</a> <code>clang</code> by building with <code>--target=wasm32-wasi</code>, but you will need some artifacts from WASI SDK to enable and link that build target (see the text about <code>libclang_rt.*.a</code> objects in <a href=\"https://github.com/webassembly/wasi-sdk?tab=readme-ov-file#about-this-repository\">the WASI SDK README</a>).</p>\n</blockquote>\n<p>I don't think that this is actually true for p2. But if it is, can anyone give me any pointers on how to do this?</p>\n<p>I'm trying to get a large project (onnx runtime) to compile to p2. It already has support for web via Emscripten, and I'm really struggling trying to add wasi-sdk as a new toolchain, so if I can somehow use Emscripten that would help a lot.</p>",
        "id": 542181312,
        "sender_full_name": "Mendy Berger",
        "timestamp": 1759206552
    },
    {
        "content": "<p>you're right that Emscripten only supports wasip1, yes. Unfortunately even with that, it doesn't help make use of any Emscripten specific web support for a p2 target: the APIs and ABI are very different at that point, so I don't think you'll be able to get around the need for source changes</p>",
        "id": 542487871,
        "sender_full_name": "Till Schneidereit",
        "timestamp": 1759323388
    },
    {
        "content": "<p>Thanks!<br>\nWe gotta update the docs then</p>",
        "id": 542489185,
        "sender_full_name": "Mendy Berger",
        "timestamp": 1759323709
    },
    {
        "content": "<p>agreed, yes. Mind filing an issue (or opening a PR)?</p>",
        "id": 542489661,
        "sender_full_name": "Till Schneidereit",
        "timestamp": 1759323837
    },
    {
        "content": "<p><a href=\"https://github.com/bytecodealliance/component-docs/pull/320\">https://github.com/bytecodealliance/component-docs/pull/320</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/component-docs/pull/320\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/5338e2b251a6f5a2803e942a18e91a12a59ebd80/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f663131353337363264393061313065386533623036396530626165353631323838323763313765353964653666326539326562623737323964356332336236652f62797465636f6465616c6c69616e63652f636f6d706f6e656e742d646f63732f70756c6c2f333230&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/component-docs/pull/320\" title=\"Emscripten does not support the component model by MendyBerger 路 Pull Request #320 路 bytecodealliance/component-docs\">Emscripten does not support the component model by MendyBerger 路 Pull Request #320 路 bytecodealliance/component-docs</a></div><div class=\"message_embed_description\">@tschneidereit wrote on the BA Zulip\n\nEmscripten only supports wasip1</div></div></div>",
        "id": 542490404,
        "sender_full_name": "Mendy Berger",
        "timestamp": 1759324009
    },
    {
        "content": "<p>Thanks for making the PR <span class=\"user-mention\" data-user-id=\"419274\">@Mendy Berger</span> ! it's merged in now. </p>\n<p>While I considered a bit about whether we should leave the hint that p1 support is available in there, it's probably worth just taking out to avoid misleading people</p>",
        "id": 542500102,
        "sender_full_name": "Victor Adossi",
        "timestamp": 1759326440
    },
    {
        "content": "<p><span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 542500203,
        "sender_full_name": "Mendy Berger",
        "timestamp": 1759326465
    },
    {
        "content": "<p>I spent a lot of time trying to get it to work before realizing that it's not really true, so I agree with removing it</p>",
        "id": 542500608,
        "sender_full_name": "Mendy Berger",
        "timestamp": 1759326563
    }
]