[
    {
        "content": "<p>Hey all,</p>\n<p>I'm getting an error while trying to use resources with componentize-dotnet that I am unsure how to deal with.</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">noct</span><span class=\"o\">@</span><span class=\"n\">ubuntu</span><span class=\"p\">:</span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">noct</span><span class=\"o\">/</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">projects</span><span class=\"o\">/</span><span class=\"n\">gamedev</span><span class=\"o\">/</span><span class=\"n\">wac_test_2</span><span class=\"o\">/</span><span class=\"n\">DatabasePlugin</span><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">dotnet</span><span class=\"w\"> </span><span class=\"n\">build</span>\n<span class=\"n\">Restore</span><span class=\"w\"> </span><span class=\"n\">complete</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">0.3</span><span class=\"n\">s</span><span class=\"p\">)</span>\n<span class=\"w\">  </span><span class=\"n\">DatabasePlugin</span><span class=\"w\"> </span><span class=\"n\">net10</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">0.1</span><span class=\"n\">s</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">noct</span><span class=\"o\">/</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">projects</span><span class=\"o\">/</span><span class=\"n\">gamedev</span><span class=\"o\">/</span><span class=\"n\">wac_test_2</span><span class=\"o\">/</span><span class=\"n\">DatabasePlugin</span><span class=\"o\">/</span><span class=\"n\">obj</span><span class=\"o\">/</span><span class=\"n\">Debug</span><span class=\"o\">/</span><span class=\"n\">net10</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">wasm</span><span class=\"o\">/</span><span class=\"n\">wit_bindgen</span><span class=\"o\">/</span><span class=\"n\">DatabasePluginWorld</span><span class=\"p\">.</span><span class=\"n\">wit</span><span class=\"p\">.</span><span class=\"n\">exports</span><span class=\"p\">.</span><span class=\"n\">serverSandbox</span><span class=\"p\">.</span><span class=\"n\">pluginMod</span><span class=\"p\">.</span><span class=\"n\">IDatabasePluginExportsToLogicPlugin</span><span class=\"p\">.</span><span class=\"n\">cs</span><span class=\"p\">(</span><span class=\"mi\">13</span><span class=\"p\">,</span><span class=\"mi\">25</span><span class=\"p\">):</span><span class=\"w\"> </span><span class=\"nc\">error</span><span class=\"w\"> </span><span class=\"n\">CS0246</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">The</span><span class=\"w\"> </span><span class=\"k\">type</span><span class=\"w\"> </span><span class=\"nc\">or</span><span class=\"w\"> </span><span class=\"n\">namespace</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">RepTable</span><span class=\"o\">&lt;&gt;'</span><span class=\"w\"> </span><span class=\"n\">could</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">you</span><span class=\"w\"> </span><span class=\"n\">missing</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">using</span><span class=\"w\"> </span><span class=\"n\">directive</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"n\">assembly</span><span class=\"w\"> </span><span class=\"n\">reference</span><span class=\"o\">?</span><span class=\"p\">)</span>\n\n<span class=\"n\">Build</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"n\">s</span>\n</code></pre></div>\n<p>This occurs with the following project/source files:</p>\n<p>DatabasePlugin.csproj:</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code><span class=\"nt\">&lt;Project</span><span class=\"w\"> </span><span class=\"na\">Sdk=</span><span class=\"s\">\"Microsoft.NET.Sdk\"</span><span class=\"nt\">&gt;</span>\n\n<span class=\"w\">  </span><span class=\"nt\">&lt;PropertyGroup&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;OutputType&gt;</span>library<span class=\"nt\">&lt;/OutputType&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;TargetFramework&gt;</span>net10.0<span class=\"nt\">&lt;/TargetFramework&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;ImplicitUsings&gt;</span>enable<span class=\"nt\">&lt;/ImplicitUsings&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;Nullable&gt;</span>enable<span class=\"nt\">&lt;/Nullable&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;RuntimeIdentifier&gt;</span>wasi-wasm<span class=\"nt\">&lt;/RuntimeIdentifier&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;UseAppHost&gt;</span>false<span class=\"nt\">&lt;/UseAppHost&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;PublishTrimmed&gt;</span>true<span class=\"nt\">&lt;/PublishTrimmed&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;InvariantGlobalization&gt;</span>true<span class=\"nt\">&lt;/InvariantGlobalization&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;SelfContained&gt;</span>true<span class=\"nt\">&lt;/SelfContained&gt;</span>\n<span class=\"w\">  </span><span class=\"nt\">&lt;/PropertyGroup&gt;</span>\n\n<span class=\"w\">  </span><span class=\"nt\">&lt;ItemGroup&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;PackageReference</span><span class=\"w\"> </span><span class=\"na\">Include=</span><span class=\"s\">\"BytecodeAlliance.Componentize.DotNet.Wasm.SDK\"</span><span class=\"w\"> </span><span class=\"na\">Version=</span><span class=\"s\">\"0.7.0-preview00010\"</span><span class=\"w\"> </span><span class=\"nt\">/&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;PackageReference</span><span class=\"w\"> </span><span class=\"na\">Include=</span><span class=\"s\">\"runtime.linux-x64.microsoft.dotnet.ilcompiler.llvm\"</span><span class=\"w\"> </span><span class=\"na\">Version=</span><span class=\"s\">\"10.0.0-preview.2.25509.1\"</span><span class=\"w\"> </span><span class=\"nt\">/&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;Wit</span><span class=\"w\"> </span><span class=\"na\">Update=</span><span class=\"s\">\"database_plugin.wit\"</span><span class=\"w\"> </span><span class=\"na\">World=</span><span class=\"s\">\"database-plugin\"</span><span class=\"w\"> </span><span class=\"nt\">/&gt;</span>\n<span class=\"w\">  </span><span class=\"nt\">&lt;/ItemGroup&gt;</span>\n\n<span class=\"nt\">&lt;/Project&gt;</span>\n</code></pre></div>\n<p>DatabasePlugin.cs:</p>\n<div class=\"codehilite\" data-code-language=\"C#\"><pre><span></span><code><span class=\"k\">namespace</span><span class=\"w\"> </span><span class=\"nn\">DatabasePluginWorld</span><span class=\"p\">;</span>\n\n<span class=\"k\">public</span><span class=\"w\"> </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">DatabasePluginExportsToLogicPluginImpl</span>\n<span class=\"p\">{</span>\n<span class=\"w\">     </span><span class=\"k\">public</span><span class=\"w\"> </span><span class=\"k\">static</span><span class=\"w\"> </span><span class=\"k\">void</span><span class=\"w\"> </span><span class=\"nf\">PrintDatabasePlugin</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">caller</span><span class=\"p\">)</span>\n<span class=\"w\">     </span><span class=\"p\">{</span>\n<span class=\"w\">         </span><span class=\"n\">Console</span><span class=\"p\">.</span><span class=\"n\">WriteLine</span><span class=\"p\">(</span><span class=\"s\">\"PrintDatabasePlugin: caller: {caller}\"</span><span class=\"p\">);</span>\n<span class=\"w\">     </span><span class=\"p\">}</span>\n\n<span class=\"w\">     </span><span class=\"k\">public</span><span class=\"w\"> </span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">UnitTable</span>\n<span class=\"w\">     </span><span class=\"p\">{</span>\n<span class=\"w\">         </span><span class=\"k\">public</span><span class=\"w\"> </span><span class=\"k\">static</span><span class=\"w\"> </span><span class=\"kt\">int</span><span class=\"w\"> </span><span class=\"nf\">Insert</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"p\">)</span>\n<span class=\"w\">         </span><span class=\"p\">{</span>\n<span class=\"w\">             </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"mi\">12345</span><span class=\"p\">;</span>\n<span class=\"w\">         </span><span class=\"p\">}</span>\n<span class=\"w\">     </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>database_plugin.wit:</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>package server-sandbox:plugin-mod;\n\ninterface database-plugin-exports-to-logic-plugin {\n    print-database-plugin: func(caller: string);\n\n    resource unit-table {\n        insert: static func(name: string) -&gt; int;\n    }\n}\n\n\nworld database-plugin {\n    export database-plugin-exports-to-logic-plugin;\n}\n</code></pre></div>\n<p>Like said, I am not really sure what I am doing wrong.  I've noticed there is a RepTable defined in the wit-bindgen repository for C#, which has me wondering if that was supposed to be included somewhere in the generation process?</p>\n<p>Other than that, I didn't find any examples of how to use resources in C#, so I've basically been trying to puzzle it out on my own; are there any examples that I could take a look at?</p>",
        "id": 567359515,
        "sender_full_name": "godotdot",
        "timestamp": 1768097046
    }
]