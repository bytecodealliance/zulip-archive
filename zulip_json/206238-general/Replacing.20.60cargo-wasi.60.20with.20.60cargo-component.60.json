[
    {
        "content": "<p>Hey there -- I am curious about how to replace <code>cargo wasi run</code> with <code>cargo-component</code> or something else?</p>",
        "id": 538734387,
        "sender_full_name": "Aryeh Hillman",
        "timestamp": 1757536396
    },
    {
        "content": "<p>You can use <code>cargo run --target wasm32-wasip2</code> for this and also setting <code>CARGO_TARGET_WASM32_WASIP2_RUNNER=wasmtime</code></p>",
        "id": 538734762,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1757536592
    },
    {
        "content": "<p>This is super helpful! Can <code>CARGO_TARGET_WASM32_WASIP2_RUNNER=wasmtime</code> be set as a default in <code>Cargo.toml</code>/ <code>.cargo/config.toml</code>?</p>",
        "id": 538734903,
        "sender_full_name": "Aryeh Hillman",
        "timestamp": 1757536659
    },
    {
        "content": "<p>yeah there it'd be:</p>\n<div class=\"codehilite\" data-code-language=\"TOML\"><pre><span></span><code><span class=\"k\">[target.wasm32-wasip2]</span>\n<span class=\"n\">runner</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s1\">'wasmtime'</span>\n</code></pre></div>",
        "id": 538734984,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1757536697
    },
    {
        "content": "<p>er, that's in <code>.cargo/config.toml</code>, not <code>Cargo.toml</code></p>",
        "id": 538735004,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1757536709
    },
    {
        "content": "<p>tysm!</p>",
        "id": 538735467,
        "sender_full_name": "Aryeh Hillman",
        "timestamp": 1757536941
    },
    {
        "content": "<p>Is there an explanation of what <code>CARGO_TARGET_WASM32_WASIP2_RUNNER=wasmtime</code>changes exactly as I have been building my components without it and have not noticed any issues?</p>",
        "id": 541460147,
        "sender_full_name": "Celarye",
        "timestamp": 1758807353
    },
    {
        "content": "<p>The runner is an executable that will be used by cargo when doing <code>cargo run</code>, <code>cargo test</code> or <code>cargo bench</code> to run the compiled executable. Without setting the runner to wasmtime these things would fail as your OS doesn't know how to execute wasm.</p>",
        "id": 541464785,
        "sender_full_name": "bjorn3",
        "timestamp": 1758808438
    },
    {
        "content": "<p>That makes sense, all I was doing was building anyways.</p>",
        "id": 541622898,
        "sender_full_name": "Celarye",
        "timestamp": 1758878745
    }
]