[
    {
        "content": "<p><code>rustup target add wasm32-wasip1</code> this line from the readme fails for me on mac os 15.4.1</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">toolchain</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">stable</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"o\">-</span><span class=\"n\">apple</span><span class=\"o\">-</span><span class=\"n\">darwin</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">does</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">support</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasip1</span><span class=\"o\">'</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">did</span><span class=\"w\"> </span><span class=\"n\">you</span><span class=\"w\"> </span><span class=\"n\">mean</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"o\">'?</span>\n</code></pre></div>\n<p>rustup --version gives:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">rustup</span><span class=\"w\"> </span><span class=\"mf\">1.27.1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">54</span><span class=\"n\">dd3d00f</span><span class=\"w\"> </span><span class=\"mi\">2024</span><span class=\"o\">-</span><span class=\"mi\">04</span><span class=\"o\">-</span><span class=\"mi\">24</span><span class=\"p\">)</span>\n<span class=\"n\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">This</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">rustup</span><span class=\"w\"> </span><span class=\"n\">toolchain</span><span class=\"w\"> </span><span class=\"n\">manager</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">rustc</span><span class=\"w\"> </span><span class=\"n\">compiler</span><span class=\"p\">.</span>\n<span class=\"n\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">The</span><span class=\"w\"> </span><span class=\"n\">currently</span><span class=\"w\"> </span><span class=\"n\">active</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">rustc</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">rustc</span><span class=\"w\"> </span><span class=\"mf\">1.77.2</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">25</span><span class=\"n\">ef9e3d8</span><span class=\"w\"> </span><span class=\"mi\">2024</span><span class=\"o\">-</span><span class=\"mi\">04</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"p\">)</span><span class=\"err\">`</span>\n</code></pre></div>\n<p>am I doing something wrong?</p>",
        "id": 515689021,
        "sender_full_name": "stephen",
        "timestamp": 1746183890
    },
    {
        "content": "<p>What does <code>rustc -V</code> show? You may be using a stable release from a year ago or so. Try <code>rustup update stable</code>.<br>\nEdit: Yeah, rustup says you are using a year old rustc (1.77.2)</p>",
        "id": 515692630,
        "sender_full_name": "bjorn3",
        "timestamp": 1746185230
    },
    {
        "content": "<p>yea, that fixed it.. maybe the readme should say to have a recent rustup, personally I don't really update it.</p>",
        "id": 515694105,
        "sender_full_name": "stephen",
        "timestamp": 1746185832
    },
    {
        "content": "<p>I also question why the instructions to get wasmtime in the readme are only provided as using the install script. If I'm in the README.md I've likely synced the code and I want to build from source to do development on wastime or cranelift sources contained in the repo.</p>",
        "id": 515694556,
        "sender_full_name": "stephen",
        "timestamp": 1746186020
    },
    {
        "content": "<p>that readme is for wasmtime-the-application, not wasmtime-the-rust-library, and technically the step that failed for you is \"compiling some rust code to wasm\" which is out of scope for wasmtime, as it is only concerned with running wasm binaries (and linking, transpiling from wat to wasm etc), but not at all with how to compile rust to wasm</p>\n<p>if you're curious, <a href=\"https://blog.rust-lang.org/2024/04/09/updates-to-rusts-wasi-targets/\">this change</a> has forced you to update your compiler version, it is a very unusual thing to change the names of target triplets but there was a good reason this one time</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://blog.rust-lang.org/2024/04/09/updates-to-rusts-wasi-targets/\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/147ecc3caab69e5abda8478c67ed1c5c29a30233/68747470733a2f2f7777772e727573742d6c616e672e6f72672f7374617469632f696d616765732f727573742d736f6369616c2d776964652e6a7067&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://blog.rust-lang.org/2024/04/09/updates-to-rusts-wasi-targets/\" title=\"Changes to Rust's WASI targets | Rust Blog\">Changes to Rust's WASI targets | Rust Blog</a></div><div class=\"message_embed_description\">Empowering everyone to build reliable and efficient software.</div></div></div>",
        "id": 515713513,
        "sender_full_name": "Ramon Klass",
        "timestamp": 1746192306
    }
]