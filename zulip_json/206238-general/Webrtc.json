[
    {
        "content": "<p>Is there any webrtc library that supports compiling to wasi? Webrtc rust is not compiling because of socket2 and tokio. I need to impleament realtime audio communication.</p>",
        "id": 531467689,
        "sender_full_name": "blender man",
        "timestamp": 1753738973
    },
    {
        "content": "<p>I don't think so. (Don't take that as definitive.) For now at least I would suggest managing the WebRTC connection in JavaScript and ferry bytes across the JS/Wasm boundary.</p>",
        "id": 531494726,
        "sender_full_name": "Jeff Parsons",
        "timestamp": 1753754339
    },
    {
        "content": "<p>Note that there are some examples of <code>tokio</code> that do work with <code>wasi:sockets</code>:</p>\n<p><a href=\"https://github.com/tokio-rs/tokio/pull/6893\">https://github.com/tokio-rs/tokio/pull/6893</a></p>\n<p>There are other prototypes and experiments out there, but you may be able to get sockets &amp; tokio working</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/tokio-rs/tokio/pull/6893\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/bc86be412b35aef0ac59a8a807b0d1188141d25a/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f643966663135336462346631303930363063353138663361373334313531353364653039636532336139666438333633336662383735323664623136356133382f746f6b696f2d72732f746f6b696f2f70756c6c2f36383933&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/tokio-rs/tokio/pull/6893\" title=\"add wasm32-wasip2 support by dicej 路 Pull Request #6893 路 tokio-rs/tokio\">add wasm32-wasip2 support by dicej 路 Pull Request #6893 路 tokio-rs/tokio</a></div><div class=\"message_embed_description\">Motivation\n\nThis adds support for the new wasm32-wasip2 target platform, which includes more extensive support for sockets than wasm32-wasip1 (formerly known as wasm32-wasi).\nSolution\n\nThe bulk of ...</div></div></div>",
        "id": 531563750,
        "sender_full_name": "Victor Adossi",
        "timestamp": 1753782701
    },
    {
        "content": "<p>There is also <a href=\"https://gist.github.com/pimeys/856846ff8718247d79f1557ed82d80f7\">https://gist.github.com/pimeys/856846ff8718247d79f1557ed82d80f7</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://gist.github.com/pimeys/856846ff8718247d79f1557ed82d80f7\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/91f9baed8f4fc08c462d1a4de5a8c23942d45e97/68747470733a2f2f6769746875622e6769746875626173736574732e636f6d2f6173736574732f676973742d6f672d696d6167652d3534666437646330373133652e706e67&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://gist.github.com/pimeys/856846ff8718247d79f1557ed82d80f7\" title=\"async-wasi.md\">async-wasi.md</a></div><div class=\"message_embed_description\">GitHub Gist: instantly share code, notes, and snippets.</div></div></div>",
        "id": 531568942,
        "sender_full_name": "Ludea",
        "timestamp": 1753784210
    },
    {
        "content": "<p>in short, we await v0.3.0.x for direct compilation here.</p>",
        "id": 531590128,
        "sender_full_name": "Ralph",
        "timestamp": 1753790515
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"268586\">Ralph</span> <a href=\"#narrow/channel/206238-general/topic/Webrtc/near/531590128\">said</a>:</p>\n<blockquote>\n<p>in short, we await v0.3.0.x for direct compilation here.</p>\n</blockquote>\n<p>I doubt 0.3.x will make any difference regarding wasi-sockets support in <code>mio</code>, <code>tokio</code> and <code>socket2</code>.  There are no technical obstacles to supporting WASIp2 sockets in any of those libraries, and I don't expect WASIp3 sockets to be significantly more or less difficult to support in comparison.  What might help is WASI 1.0, though -- it would be a sign of stability and make the platform more attractive to library maintainers.</p>",
        "id": 531615319,
        "sender_full_name": "Joel Dice",
        "timestamp": 1753797030
    },
    {
        "content": "<p>Thank you for the suggestions and in my case where I am using wasm components as plugins and wasmtime as host and I cant really use web or host implementations but the good thing is as suggested, I can use the forks of tokio and socket2 which works with wasi sockets and by using them hopefully I should able to compile webrtc crate, which is perfect for my case as I needed plugin only implementation and using custom forks should be fine temporarily as I am using it for demo purposes only, tho it would be great if they get merged in crates itself.</p>",
        "id": 531712675,
        "sender_full_name": "blender man",
        "timestamp": 1753829788
    },
    {
        "content": "<p>Would be great if you shared that progress here (whatever you can open source) -- I'm sure people would love to <span aria-label=\"eye\" class=\"emoji emoji-1f441\" role=\"img\" title=\"eye\">:eye:</span> <span aria-label=\"eye\" class=\"emoji emoji-1f441\" role=\"img\" title=\"eye\">:eye:</span>  the code!</p>",
        "id": 531761971,
        "sender_full_name": "Victor Adossi",
        "timestamp": 1753858192
    },
    {
        "content": "<p>I am not able to compile webrtc because of udp sockets, is udp not implemented yet for mio and tokio?</p>",
        "id": 531867191,
        "sender_full_name": "blender man",
        "timestamp": 1753888125
    },
    {
        "content": "<p>Sorry, no -- my <code>mio</code> PR only supports TCP sockets so far.  Adding UDP support <em>should</em> be straightforward, though -- it's supported in <code>wasi-libc</code>, so it should just be a matter of hooking that up to <code>mio</code>.</p>",
        "id": 531868898,
        "sender_full_name": "Joel Dice",
        "timestamp": 1753888604
    },
    {
        "content": "<p>Ah, that's unfortunate-but makes sense. Honestly, I'm not super deep into sockets or wasi-libc myself, so I might be missing some of the knowledge required there. If anyone more familiar with this stuff is up for it, a PR adding UDP support would be massively appreciated!</p>",
        "id": 532013205,
        "sender_full_name": "blender man",
        "timestamp": 1753950977
    }
]