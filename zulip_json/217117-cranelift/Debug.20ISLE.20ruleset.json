[
    {
        "content": "<p>Hi,</p>\n<p>I'm wondering if there is any tool to check a specific rule is triggered during mid-end optimization with ISLE ruleset, or see what rules are triggered.</p>\n<p>Otherwise, just short guidance which part to modify/update to see which rules are fired will be appreciated.</p>\n<p>Thanks!</p>",
        "id": 548286821,
        "sender_full_name": "Bongjun Jang",
        "timestamp": 1761985189
    },
    {
        "content": "<p>That's a great question -- I've hacked this up locally before by adding a <code>println</code> to each rule right-hand side body generated by islec, but that's not very usable. It would be a useful feature for someone to add tracing or stats/counters per case!</p>",
        "id": 548333307,
        "sender_full_name": "Chris Fallin",
        "timestamp": 1762025914
    },
    {
        "content": "<p>we should probably add a feature to the <code>isle</code> crate to emit <code>log::trace!(...)</code> incovations for each LHS predicate part and for <code>log::debug!(...)</code>s for each RHS that actually gets matched and then plumb that through into a cranelift/wasmtime feature</p>\n<p>I can file an issue</p>",
        "id": 553431886,
        "sender_full_name": "fitzgen (he/him)",
        "timestamp": 1762188675
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"253990\">fitzgen (he/him)</span> <a href=\"#narrow/channel/217117-cranelift/topic/Debug.20ISLE.20ruleset/near/553431886\">said</a>:</p>\n<blockquote>\n<p>I can file an issue</p>\n</blockquote>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/issues/11971\">https://github.com/bytecodealliance/wasmtime/issues/11971</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/wasmtime/issues/11971\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/70a4e1244603e8f9736a8c6c06a61d72484ff7d4/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f623765653935616533323836373434383538383637333635303465666363646131326134333133373738363035343761376464383636656533373366366533342f62797465636f6465616c6c69616e63652f7761736d74696d652f6973737565732f3131393731&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/wasmtime/issues/11971\" title=\"ISLE: debugging feature to emit logging in the generated code 路 Issue #11971 路 bytecodealliance/wasmtime\">ISLE: debugging feature to emit logging in the generated code 路 Issue #11971 路 bytecodealliance/wasmtime</a></div><div class=\"message_embed_description\">To assist with debugging ISLE (e.g. you expect a rule to match but it doesn't), the isle crate should have an option to emit log macro invocations in the generated code. I'm imagining we would emit...</div></div></div>",
        "id": 553435101,
        "sender_full_name": "fitzgen (he/him)",
        "timestamp": 1762189510
    },
    {
        "content": "<p>Thanks for writing that out!</p>",
        "id": 553435201,
        "sender_full_name": "Chris Fallin",
        "timestamp": 1762189538
    },
    {
        "content": "<p>Thanks for the follow-ups!</p>",
        "id": 553742582,
        "sender_full_name": "Bongjun Jang",
        "timestamp": 1762303574
    }
]