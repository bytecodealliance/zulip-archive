[
    {
        "content": "<p>I'm trying to debug ISLE-generated code by enabling the <code>isle-in-source-tree</code> feature for <code>cranelift-codegen</code>, as mentioned in <a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/docs/isle-integration.md#how-does-isle-integrate-with-the-build-system\">the documentation</a>. However, when running it, I encounter the following error:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">the</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">cranelift</span><span class=\"o\">-</span><span class=\"n\">codegen</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">does</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">contain</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">feature</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">isle</span><span class=\"o\">-</span><span class=\"k\">in</span><span class=\"o\">-</span><span class=\"n\">source</span><span class=\"o\">-</span><span class=\"n\">tree</span>\n</code></pre></div>\n<p>After searching through the project, I couldn't find any feature named <code>isle-in-source-tree</code> in the codebase.</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/docs/isle-integration.md#how-does-isle-integrate-with-the-build-system\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/0129978905432fe2ef8325776a637f96dde249a7/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f326431376339666535313231326566303831383339656536343764626531306436616133386431616434383864623766383039343432633732646564646332352f62797465636f6465616c6c69616e63652f7761736d74696d65&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/docs/isle-integration.md#how-does-isle-integrate-with-the-build-system\" title=\"wasmtime/cranelift/docs/isle-integration.md at main · bytecodealliance/wasmtime\">wasmtime/cranelift/docs/isle-integration.md at main · bytecodealliance/wasmtime</a></div><div class=\"message_embed_description\">A lightweight WebAssembly runtime that is fast, secure, and standards-compliant - bytecodealliance/wasmtime</div></div></div>",
        "id": 508028830,
        "sender_full_name": "ping ping",
        "timestamp": 1742910832
    },
    {
        "content": "<p>That flag was removed in <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9633\">https://github.com/bytecodealliance/wasmtime/pull/9633</a>. Instead you can set the <code>ISLE_SOURCE_DIR</code> env var to some location where you want the generated code to be written to when compiling cranelift-codegen.</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/wasmtime/pull/9633\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/930e0bc0547364e49b0e0fc55e95ea861b3379c3/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f386633643261656133613036396633393964353339323665616666633765626361623837623837306134366262393638393562613462393133626163303366632f62797465636f6465616c6c69616e63652f7761736d74696d652f70756c6c2f39363333&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/wasmtime/pull/9633\" title=\"Cranelift: rework isle-in-source-tree functionality. by cfallin · Pull Request #9633 · bytecodealliance/wasmtime\">Cranelift: rework isle-in-source-tree functionality. by cfallin · Pull Request #9633 · bytecodealliance/wasmtime</a></div><div class=\"message_embed_description\">Per #9625 and #9588, a downstream user of Cranelift was misusing the isle-in-source-tree feature, enabling it indiscriminately even in published crates (wasmerio/wasmer#5202). This went against the...</div></div></div>",
        "id": 508038006,
        "sender_full_name": "bjorn3",
        "timestamp": 1742912721
    },
    {
        "content": "<p>Posted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10466\">https://github.com/bytecodealliance/wasmtime/pull/10466</a> just now to update the docs. Sorry about the confusion <span class=\"user-mention\" data-user-id=\"597032\">@ping ping</span> !</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/wasmtime/pull/10466\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/e4ea753b46b398bb72c10228fcf4952b1df1967a/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f353430383965613438303237663964343064653565303039356238613562313435666536626564656135623038363132303733333563616466373235636235352f62797465636f6465616c6c69616e63652f7761736d74696d652f70756c6c2f3130343636&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/wasmtime/pull/10466\" title=\"Cranelift: tweak the ISLE-source-dir build script functionality. by cfallin · Pull Request #10466 · bytecodealliance/wasmtime\">Cranelift: tweak the ISLE-source-dir build script functionality. by cfallin · Pull Request #10466 · bytecodealliance/wasmtime</a></div><div class=\"message_embed_description\">Add a cargo:rerun-if-env-changed clause for the ISLE_SOURCE_DIR environment variable to properly rebuild if the config changes.\nUpdate docs to point to the new env-var-based approach rather than th...</div></div></div>",
        "id": 508064452,
        "sender_full_name": "Chris Fallin",
        "timestamp": 1742918437
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"254389\">@Chris Fallin</span> <span class=\"user-mention\" data-user-id=\"264278\">@bjorn3</span> Thanks for the quick fix! Really appreciate the documentation update and your help clarifying this.</p>",
        "id": 508219253,
        "sender_full_name": "ping ping",
        "timestamp": 1742980940
    }
]