[
    {
        "content": "<p>I messed up, doing a 38.0.1 release now. Will post more here when out of a meeting</p>",
        "id": 546015311,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1760974793
    },
    {
        "content": "<p>tl;dr; -- I saw this button in our github settings -- <a href=\"/user_uploads/15107/NaczWt3ABKUSxGNzln7Ziq6n/Screenshot-2025-10-20-at-10.42.05AM.png\">Screenshot 2025-10-20 at 10.42.05 AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/15107/NaczWt3ABKUSxGNzln7Ziq6n/Screenshot-2025-10-20-at-10.42.05AM.png\" title=\"Screenshot 2025-10-20 at 10.42.05 AM.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"928x254\" src=\"/user_uploads/thumbnail/15107/NaczWt3ABKUSxGNzln7Ziq6n/Screenshot-2025-10-20-at-10.42.05AM.png/840x560.webp\"></a></div>",
        "id": 546016034,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1760974939
    },
    {
        "content": "<p>I checked that thinking \"oh surely this would be good for us\"</p>",
        "id": 546016093,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1760974952
    },
    {
        "content": "<p>turns out: no, it is not, and it broke the release. I've un-checked the box and the 38.0.1 release is to fix that</p>",
        "id": 546016166,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1760974966
    },
    {
        "content": "<p>Also, my mistakes here means that the 38.0.0 release is deleted (I thought I could recreate it in CI) and can never be created again (apparently github remembers it was an \"immutable\" release).</p>\n<p>Now though 38.0.1 is out and should be good</p>",
        "id": 546032762,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1760978893
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"253994\">Alex Crichton</span> <a href=\"#narrow/channel/217126-wasmtime/topic/38.2E0.2E0.20release/near/546016166\">said</a>:</p>\n<blockquote>\n<p>turns out: no, it is not, and it broke the release. I've un-checked the box and the 38.0.1 release is to fix that</p>\n</blockquote>\n<p>Out of curiosity, how did it break the release? Did you upload files post-release (I'm assuming uploading to a draft release is okay)?</p>",
        "id": 546073090,
        "sender_full_name": "Brett Cannon",
        "timestamp": 1760987731
    },
    {
        "content": "<p>Yeah it looks like automation makes a release, then publishes artifacts, and that separation of steps broke things</p>",
        "id": 546073315,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1760987817
    },
    {
        "content": "<p>it would probably make sense to do the pre-release idea and require a human to go hit \"publish\"</p>",
        "id": 546073371,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1760987834
    },
    {
        "content": "<p>oh, but this made me revisit the docs and our setup, and realize that immutable releases <em>should</em> be working for us. I thought they would make the moving <code>dev</code> release impossible, but since that's a prerelease it's fine to mutate</p>",
        "id": 546238529,
        "sender_full_name": "Till Schneidereit",
        "timestamp": 1761053621
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"253994\">@Alex Crichton</span> why would this require a human to publish? I think we should be able to create releases as drafts, attach artifacts, then mark them as final to make them immutable. Or do you just want to have someone in the loop in case something goes wrong and the, now immutable, release would be wrong?</p>",
        "id": 546238846,
        "sender_full_name": "Till Schneidereit",
        "timestamp": 1761053707
    },
    {
        "content": "<p>Yeah mostly just the latter part, but I don't think it would be required. If starting as a draft, attaching things, then making public -- if that works then we should switch to doing that</p>",
        "id": 546253735,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1761057244
    },
    {
        "content": "<p>looks like that should work: <a href=\"https://docs.github.com/en/code-security/supply-chain-security/understanding-your-software-supply-chain/immutable-releases#best-practices-for-publishing-immutable-releases\">https://docs.github.com/en/code-security/supply-chain-security/understanding-your-software-supply-chain/immutable-releases#best-practices-for-publishing-immutable-releases</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://docs.github.com/en/code-security/supply-chain-security/understanding-your-software-supply-chain/immutable-releases#best-practices-for-publishing-immutable-releases\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/925459b3a6433f997b3d9c542120ddaa75c05a53/68747470733a2f2f646f63732e6769746875622e636f6d2f6173736574732f63622d3334352f696d616765732f736f6369616c2d63617264732f636f64652d73656375726974792e706e67&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://docs.github.com/en/code-security/supply-chain-security/understanding-your-software-supply-chain/immutable-releases#best-practices-for-publishing-immutable-releases\" title=\"Immutable releases - GitHub Docs\">Immutable releases - GitHub Docs</a></div><div class=\"message_embed_description\">Learn about immutable releases and how they can help you maintain the integrity of your software supply chain.</div></div></div>",
        "id": 546273107,
        "sender_full_name": "Till Schneidereit",
        "timestamp": 1761062033
    },
    {
        "content": "<p><a href=\"/user_uploads/15107/GRh1JWzPxd7ONpmzcY84WIcu/Screenshot-2025-10-22-at-9.57.03AM.png\">Screenshot 2025-10-22 at 9.57.03 AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/15107/GRh1JWzPxd7ONpmzcY84WIcu/Screenshot-2025-10-22-at-9.57.03AM.png\" title=\"Screenshot 2025-10-22 at 9.57.03 AM.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"438x82\" src=\"/user_uploads/thumbnail/15107/GRh1JWzPxd7ONpmzcY84WIcu/Screenshot-2025-10-22-at-9.57.03AM.png/840x560.webp\"></a></div><p>ok immutable things are now enabled</p>",
        "id": 546480293,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1761145031
    }
]