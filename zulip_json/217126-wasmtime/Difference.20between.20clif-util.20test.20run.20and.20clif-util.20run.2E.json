[
    {
        "content": "<p>I was testing <code>cranelift/filetests/filetests/runtests/*.clif</code> with the riscv64 target on x86-64, and I thought the clif-util test (test run) command and the clif-util run command would produce the same result, but I noticed that their behavior is different. For example, when I tested <a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/filetests/filetests/runtests/bb-padding.clif\">bb-padding.clif</a>, the test command passed, but running run resulted in an error. Could you explain why this happens?</p>\n<p>clif-util test:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>wasmtime$<span class=\"w\"> </span>qemu-riscv64<span class=\"w\"> </span>-L<span class=\"w\"> </span>/usr/riscv64-linux-gnu<span class=\"w\"> </span>-E<span class=\"w\"> </span>LD<span class=\"se\">\\_</span>LIBRARY<span class=\"se\">\\_</span>PATH<span class=\"o\">=</span>/usr/riscv64-linux-gnu/lib<span class=\"w\"> </span>target/riscv64gc-unknown-linux-gnu/debug/clif-util<span class=\"w\"> </span><span class=\"nb\">test</span><span class=\"w\"> </span>-v<span class=\"w\"> </span>./cranelift/filetests/filetests/runtests/bb-padding.clif\n<span class=\"m\">0</span>.581<span class=\"w\"> </span>./cranelift/filetests/filetests/runtests/bb-padding.clif\n<span class=\"m\">1</span><span class=\"w\"> </span>tests\n</code></pre></div>\n<p>clif-util run:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>wasmtime$<span class=\"w\"> </span>qemu-riscv64<span class=\"w\"> </span>-L<span class=\"w\"> </span>/usr/riscv64-linux-gnu<span class=\"w\"> </span>-E<span class=\"w\"> </span>LD<span class=\"se\">\\_</span>LIBRARY<span class=\"se\">\\_</span>PATH<span class=\"o\">=</span>/usr/riscv64-linux-gnu/lib<span class=\"w\"> </span>target/riscv64gc-unknown-linux-gnu/debug/clif-util<span class=\"w\"> </span>run<span class=\"w\"> </span>-v<span class=\"w\"> </span>./cranelift/filetests/filetests/runtests/bb-padding.clif\n./cranelift/filetests/filetests/runtests/bb-padding.clif:<span class=\"w\"> </span>Compilation<span class=\"w\"> </span>error:<span class=\"w\"> </span>Unsupported<span class=\"w\"> </span>feature:<span class=\"w\"> </span>should<span class=\"w\"> </span>be<span class=\"w\"> </span>implemented<span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span>ISLE:<span class=\"w\"> </span><span class=\"nv\">inst</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"sb\">`</span><span class=\"nv\">v0</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span>vconst.i64x2<span class=\"w\"> </span>const0<span class=\"sb\">`</span>,<span class=\"w\"> </span><span class=\"nb\">type</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"sb\">`</span>Some<span class=\"o\">(</span>types::I64X2<span class=\"o\">)</span><span class=\"sb\">`</span>\n<span class=\"m\">1</span><span class=\"w\"> </span>file\nError:<span class=\"w\"> </span><span class=\"m\">1</span><span class=\"w\"> </span>failure\n</code></pre></div>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/filetests/filetests/runtests/bb-padding.clif\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/922c09d1f87ae162202166254587fe08c44b8290/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f636236633535363863346564663438353366356262393766643236633664656630626434646531636335663362653963333038313865636333393237643539632f62797465636f6465616c6c69616e63652f7761736d74696d65&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/filetests/filetests/runtests/bb-padding.clif\" title=\"wasmtime/cranelift/filetests/filetests/runtests/bb-padding.clif at main · bytecodealliance/wasmtime\">wasmtime/cranelift/filetests/filetests/runtests/bb-padding.clif at main · bytecodealliance/wasmtime</a></div><div class=\"message_embed_description\">A lightweight WebAssembly runtime that is fast, secure, and standards-compliant - bytecodealliance/wasmtime</div></div></div>",
        "id": 538830445,
        "sender_full_name": "Masashi Yoshimura",
        "timestamp": 1757589362
    },
    {
        "content": "<p>This topic was moved to <a class=\"stream-topic\" data-stream-id=\"217117\" href=\"/#narrow/channel/217117-cranelift/topic/Difference.20between.20clif-util.20test.20run.20and.20clif-util.20run.2E/with/538858903\">#cranelift &gt; Difference between clif-util test run and clif-util run.</a> by <span class=\"user-mention silent\" data-user-id=\"234973\">Till Schneidereit</span>.</p>",
        "id": 538858904,
        "sender_full_name": "Notification Bot",
        "timestamp": 1757597199
    }
]