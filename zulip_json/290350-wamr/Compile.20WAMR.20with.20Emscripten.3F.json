[
    {
        "content": "<p>I am working on a small hobby project which intends to run WAMR on an ESP32 exposing a small set of custom native functions for applications to work with on the ESP32. I would also like to build a small web front-end to demo applications and test... to that end I was hoping to build the exact same runtime (WAMR) on both the ESP32 and for the Web (using Emscripten) with the same native functions wired up in both environments. Cross-compiling to Emscripten does not work out of the box but #if 0/#endif out the contents of platform_wasi_types.h and selecting <code>WAMR_BUILD_INVOKE_NATIVE_GENERAL</code> in CMake does make everything compile.. unfortunately it does not work when run.</p>\n<p>I suspect that the general invokeNative does not work for Emscripten but am at a bit of a loss on how I could make it work with the JS runtime... any advice would be greatly appreciated. I have experience with embedded systems but not much with WASM.</p>\n<p>P.S. I am only trying to run in interpreted mode right now.</p>",
        "id": 534077038,
        "sender_full_name": "Jordan Werthman",
        "timestamp": 1755049063
    },
    {
        "content": "<p>I'm not entirely clear on the part about \"building WAMR for the web with emscripten.\" Is it suggesting that WAMR is translated into a WebAssembly application using emscripten?</p>",
        "id": 535094765,
        "sender_full_name": "lum1n0us",
        "timestamp": 1755597828
    },
    {
        "content": "<p>as wasm is strict on function types, i don't think there is a reasonable way to implement invokeNative as of today for wasm.</p>",
        "id": 535472142,
        "sender_full_name": "YAMAMOTO Takashi",
        "timestamp": 1755771319
    },
    {
        "content": "<p>Sorry! wanted to open a new issue.</p>",
        "id": 539954193,
        "sender_full_name": "mainrs",
        "timestamp": 1758096839
    }
]