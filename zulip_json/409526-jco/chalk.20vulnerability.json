[
    {
        "content": "<p>Hey all, I think many may have seen this floating around the internet lately -- the vulnerabilities snuck into <code>chalk</code> and related packages:</p>\n<p><a href=\"https://github.com/chalk/chalk/issues/656\">https://github.com/chalk/chalk/issues/656</a><br>\n<a href=\"https://github.com/duckdb/duckdb-node/security/advisories/GHSA-w62p-hx95-gf2c\">https://github.com/duckdb/duckdb-node/security/advisories/GHSA-w62p-hx95-gf2c</a></p>\n<p>Jco wasn't affected by this update, though we use <code>chalk-template</code> mostly because we don't update that dependency that frequently (see the <code>pacakge-lock.json</code> in the repo). It's technically possible that someone updated their versions as a requirement of another unrelated package, but at least due to the use of <code>jco</code> itself there is no spreading of the compromise.</p>\n<p>I've taken the initiative to remove <code>chalk-template</code> at this point while we're here:<br>\n<a href=\"https://github.com/bytecodealliance/jco/pull/1010\">https://github.com/bytecodealliance/jco/pull/1010</a></p>\n<p>I've been meaning to do this for a while as <a href=\"https://nodejs.org/api/util.html#utilstyletextformat-text-options\"><code>node:util</code>'s <code>styleText</code></a> exists (though it's only for node 20.x and above). At this point I've added a polyfill that is <em>kind of</em> a breaking change (Node 18.x will lose some colored output), <em>but</em> I think that's a worthwhile tradeoff.</p>\n<p>Will be releasing a new Jco version this week along with other changes that have gone in during the meantime!</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/chalk/chalk/issues/656\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/9a5bf0aa968e24912dcba6ea914c2569694cd4c7/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f376138393338376263323432363464323734316166633665343834373438363437306664373435383834663139646465613837663032653761363262383761342f6368616c6b2f6368616c6b2f6973737565732f363536&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/chalk/chalk/issues/656\" title=\"Version 5.6.1 published to npm is compromised (RESOLVED) · Issue #656 · chalk/chalk\">Version 5.6.1 published to npm is compromised (RESOLVED) · Issue #656 · chalk/chalk</a></div><div class=\"message_embed_description\">Same as debug-js/debug#1005 Malicious payload is on line 11 of src/index.js.</div></div></div><div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/duckdb/duckdb-node/security/advisories/GHSA-w62p-hx95-gf2c\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/7aa5f8e67c90af745948f0dce0166675ee858d9b/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f633466653131643139633561666233623638346237383634386432613730303364386135643430333533386132663038376438376136393333623862306136332f6475636b64622f6475636b64622d6e6f64652f73656375726974792f61647669736f726965732f474853412d773632702d687839352d67663263&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/duckdb/duckdb-node/security/advisories/GHSA-w62p-hx95-gf2c\" title=\"DuckDB NPM packages 1.3.3 and 1.29.2 compromised with malware\">DuckDB NPM packages 1.3.3 and 1.29.2 compromised with malware</a></div><div class=\"message_embed_description\">The DuckDB distribution for [Node.js](http://node.js/) on [npm](https://www.npmjs.com/) was compromised with malware (along with [several other packages](https://www.aikido.dev/blog/npm-debug-and-c...</div></div></div><div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/jco/pull/1010\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/935f650ca26eb7c610a7aa0325f79ff334e2650a/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f613334313135393438646365323366336363613531353536656539336462653634356462656530616137326539623635353538626639313863613136363637622f62797465636f6465616c6c69616e63652f6a636f2f70756c6c2f31303130&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/jco/pull/1010\" title=\"refactor(jco): remove chalk dependency by vados-cosmonic · Pull Request #1010 · bytecodealliance/jco\">refactor(jco): remove chalk dependency by vados-cosmonic · Pull Request #1010 · bytecodealliance/jco</a></div><div class=\"message_embed_description\">This commit removes the chalk dependency. While we were not vulnerable to the upstream malicious code injection that happened to chalk and related deps, the chalk dependency is no longer needed whe...</div></div></div>",
        "id": 538517045,
        "sender_full_name": "Victor Adossi",
        "timestamp": 1757446040
    }
]