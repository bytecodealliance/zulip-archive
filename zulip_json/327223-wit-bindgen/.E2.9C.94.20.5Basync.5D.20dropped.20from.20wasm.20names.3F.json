[
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"395878\">Scott Waye</span> has marked this topic as resolved.</p>",
        "id": 562534501,
        "sender_full_name": "Notification Bot",
        "timestamp": 1765218403
    },
    {
        "content": "<p>I know I marked this as resolved, but can I have a follow up?  I  can reproduce <span class=\"user-mention\" data-user-id=\"509936\">@Joel Dice</span>  output for the <code>c</code> generation, and I think I have the <code>c#</code> the same.  The export side for the runner looks ok, but I now have an issue with its imports, e.g. <code>one-argument</code>.  I see that the <code>c</code> generates these as </p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">__attribute__</span><span class=\"p\">((</span><span class=\"n\">__import_module__</span><span class=\"p\">(</span><span class=\"s\">\"a:b/i\"</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">__import_name__</span><span class=\"p\">(</span><span class=\"s\">\"[async-lower]one-argument\"</span><span class=\"p\">)))</span>\n<span class=\"k\">extern</span><span class=\"w\"> </span><span class=\"n\">int32_t</span><span class=\"w\"> </span><span class=\"n\">__wasm_import_a_b_i_one_argument</span><span class=\"p\">(</span><span class=\"n\">int32_t</span><span class=\"p\">);</span>\n</code></pre></div>\n<p>Which looks simple enough, and the c# generates</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">            </span><span class=\"p\">[</span><span class=\"n\">global</span><span class=\"p\">::</span><span class=\"n\">System</span><span class=\"p\">.</span><span class=\"n\">Runtime</span><span class=\"p\">.</span><span class=\"n\">InteropServices</span><span class=\"p\">.</span><span class=\"n\">DllImportAttribute</span><span class=\"p\">(</span><span class=\"s\">\"a:b/i\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">EntryPoint</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"[async-lower]one-argument\"</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">global</span><span class=\"p\">::</span><span class=\"n\">System</span><span class=\"p\">.</span><span class=\"n\">Runtime</span><span class=\"p\">.</span><span class=\"n\">InteropServices</span><span class=\"p\">.</span><span class=\"n\">WasmImportLinkageAttribute</span><span class=\"p\">]</span>\n<span class=\"w\">            </span><span class=\"n\">public</span><span class=\"w\"> </span><span class=\"k\">static</span><span class=\"w\"> </span><span class=\"k\">extern</span><span class=\"w\"> </span><span class=\"n\">uint</span><span class=\"w\"> </span><span class=\"n\">wasmImportOneArgument</span><span class=\"p\">(</span><span class=\"n\">int</span><span class=\"w\"> </span><span class=\"n\">p0</span><span class=\"p\">);</span>\n</code></pre></div>\n<p>Which seems correct.  The object files produce (sorry for mixing windows and linux)</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">scott</span><span class=\"o\">@</span><span class=\"n\">surface7</span><span class=\"p\">:</span><span class=\"o\">/</span><span class=\"n\">mnt</span><span class=\"o\">/</span><span class=\"n\">c</span><span class=\"o\">/</span><span class=\"n\">github</span><span class=\"o\">/</span><span class=\"n\">wit</span><span class=\"o\">-</span><span class=\"n\">bindgen</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">artifacts</span><span class=\"o\">/</span><span class=\"n\">simple</span><span class=\"o\">-</span><span class=\"n\">import</span><span class=\"o\">-</span><span class=\"n\">params</span><span class=\"o\">-</span><span class=\"n\">results</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">-</span><span class=\"n\">csharp</span><span class=\"o\">/</span><span class=\"n\">bindings</span><span class=\"o\">/</span><span class=\"n\">obj</span><span class=\"o\">/</span><span class=\"n\">Debug</span><span class=\"o\">/</span><span class=\"n\">net9</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">wasm</span><span class=\"o\">/</span><span class=\"n\">native</span><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"o\">~/</span><span class=\"n\">github</span><span class=\"o\">/</span><span class=\"n\">emsdk</span><span class=\"o\">/</span><span class=\"n\">upstream</span><span class=\"o\">/</span><span class=\"n\">bin</span><span class=\"o\">/</span><span class=\"n\">llvm</span><span class=\"o\">-</span><span class=\"n\">nm</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"p\">.</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">grep</span><span class=\"w\"> </span><span class=\"n\">one</span><span class=\"o\">-</span><span class=\"n\">argument</span>\n<span class=\"w\">         </span><span class=\"n\">U</span><span class=\"w\"> </span><span class=\"n\">cell</span><span class=\"p\">.</span><span class=\"n\">__wasm_import_a</span><span class=\"p\">:</span><span class=\"nc\">b</span><span class=\"o\">/</span><span class=\"n\">i_</span><span class=\"p\">[</span><span class=\"k\">async</span><span class=\"o\">-</span><span class=\"n\">lower</span><span class=\"p\">]</span><span class=\"n\">one</span><span class=\"o\">-</span><span class=\"n\">argument</span>\n<span class=\"w\">         </span><span class=\"n\">U</span><span class=\"w\"> </span><span class=\"n\">cell</span><span class=\"p\">.</span><span class=\"n\">__wasm_import_a</span><span class=\"p\">:</span><span class=\"nc\">b</span><span class=\"o\">/</span><span class=\"n\">i_</span><span class=\"p\">[</span><span class=\"k\">async</span><span class=\"o\">-</span><span class=\"n\">lower</span><span class=\"p\">]</span><span class=\"n\">one</span><span class=\"o\">-</span><span class=\"n\">argument</span><span class=\"o\">-</span><span class=\"n\">and</span><span class=\"o\">-</span><span class=\"n\">result</span>\n<span class=\"w\">         </span><span class=\"n\">U</span><span class=\"w\"> </span><span class=\"n\">__wasm_import_a</span><span class=\"p\">:</span><span class=\"nc\">b</span><span class=\"o\">/</span><span class=\"n\">i_</span><span class=\"p\">[</span><span class=\"k\">async</span><span class=\"o\">-</span><span class=\"n\">lower</span><span class=\"p\">]</span><span class=\"n\">one</span><span class=\"o\">-</span><span class=\"n\">argument</span>\n<span class=\"w\">         </span><span class=\"n\">U</span><span class=\"w\"> </span><span class=\"n\">__wasm_import_a</span><span class=\"p\">:</span><span class=\"nc\">b</span><span class=\"o\">/</span><span class=\"n\">i_</span><span class=\"p\">[</span><span class=\"k\">async</span><span class=\"o\">-</span><span class=\"n\">lower</span><span class=\"p\">]</span><span class=\"n\">one</span><span class=\"o\">-</span><span class=\"n\">argument</span><span class=\"o\">-</span><span class=\"n\">and</span><span class=\"o\">-</span><span class=\"n\">result</span>\n<span class=\"mi\">00000000</span><span class=\"w\"> </span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"n\">cell</span><span class=\"p\">.</span><span class=\"n\">__wasm_import_a</span><span class=\"p\">:</span><span class=\"nc\">b</span><span class=\"o\">/</span><span class=\"n\">i_</span><span class=\"p\">[</span><span class=\"k\">async</span><span class=\"o\">-</span><span class=\"n\">lower</span><span class=\"p\">]</span><span class=\"n\">one</span><span class=\"o\">-</span><span class=\"n\">argument</span>\n<span class=\"mi\">00000000</span><span class=\"w\"> </span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"n\">cell</span><span class=\"p\">.</span><span class=\"n\">__wasm_import_a</span><span class=\"p\">:</span><span class=\"nc\">b</span><span class=\"o\">/</span><span class=\"n\">i_</span><span class=\"p\">[</span><span class=\"k\">async</span><span class=\"o\">-</span><span class=\"n\">lower</span><span class=\"p\">]</span><span class=\"n\">one</span><span class=\"o\">-</span><span class=\"n\">argument</span><span class=\"o\">-</span><span class=\"n\">and</span><span class=\"o\">-</span><span class=\"n\">result</span>\n<span class=\"n\">scott</span><span class=\"o\">@</span><span class=\"n\">surface7</span><span class=\"p\">:</span><span class=\"o\">/</span><span class=\"n\">mnt</span><span class=\"o\">/</span><span class=\"n\">c</span><span class=\"o\">/</span><span class=\"n\">github</span><span class=\"o\">/</span><span class=\"n\">wit</span><span class=\"o\">-</span><span class=\"n\">bindgen</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">artifacts</span><span class=\"o\">/</span><span class=\"n\">simple</span><span class=\"o\">-</span><span class=\"n\">import</span><span class=\"o\">-</span><span class=\"n\">params</span><span class=\"o\">-</span><span class=\"n\">results</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">-</span><span class=\"n\">csharp</span><span class=\"o\">/</span><span class=\"n\">bindings</span><span class=\"o\">/</span><span class=\"n\">obj</span><span class=\"o\">/</span><span class=\"n\">Debug</span><span class=\"o\">/</span><span class=\"n\">net9</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">wasm</span><span class=\"o\">/</span><span class=\"n\">native</span><span class=\"cp\">$</span>\n</code></pre></div>\n<p>But the <code>clang</code> link stage fails with </p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"o\">------</span><span class=\"w\"> </span><span class=\"n\">Failure</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">simple</span><span class=\"o\">-</span><span class=\"n\">import</span><span class=\"o\">-</span><span class=\"n\">params</span><span class=\"o\">-</span><span class=\"n\">results</span><span class=\"w\"> </span><span class=\"o\">--------</span>\n<span class=\"w\">  </span><span class=\"n\">component</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">runner</span>\n<span class=\"w\">  </span><span class=\"n\">path</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">tests</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">-</span><span class=\"k\">async</span><span class=\"o\">/</span><span class=\"k\">async</span><span class=\"err\">\\</span><span class=\"n\">simple</span><span class=\"o\">-</span><span class=\"n\">import</span><span class=\"o\">-</span><span class=\"n\">params</span><span class=\"o\">-</span><span class=\"n\">results</span><span class=\"err\">\\</span><span class=\"n\">runner</span><span class=\"p\">.</span><span class=\"n\">cs</span>\n<span class=\"w\">  </span><span class=\"n\">error</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">compile</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"s\">\"tests/runtime-async/async</span><span class=\"se\">\\\\</span><span class=\"s\">simple-import-params-results</span><span class=\"se\">\\\\</span><span class=\"s\">runner.cs\"</span>\n\n<span class=\"w\">  </span><span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"p\">:</span>\n<span class=\"w\">      </span><span class=\"nc\">command</span><span class=\"w\"> </span><span class=\"n\">execution</span><span class=\"w\"> </span><span class=\"n\">failed</span>\n<span class=\"w\">      </span><span class=\"n\">command</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"dotnet\"</span><span class=\"w\"> </span><span class=\"s\">\"publish\"</span><span class=\"w\"> </span><span class=\"s\">\"C:</span><span class=\"se\">\\\\</span><span class=\"s\">github</span><span class=\"se\">\\\\</span><span class=\"s\">wit-bindgen</span><span class=\"se\">\\\\</span><span class=\"s\">target/artifacts</span><span class=\"se\">\\\\</span><span class=\"s\">simple-import-params-results</span><span class=\"se\">\\\\</span><span class=\"s\">runner-csharp</span><span class=\"se\">\\\\</span><span class=\"s\">bindings</span><span class=\"se\">\\\\</span><span class=\"s\">RunnerWorld.csproj\"</span><span class=\"w\"> </span><span class=\"s\">\"-r\"</span><span class=\"w\"> </span><span class=\"s\">\"wasi-wasm\"</span><span class=\"w\"> </span><span class=\"s\">\"-c\"</span><span class=\"w\"> </span><span class=\"s\">\"Debug\"</span><span class=\"w\"> </span><span class=\"s\">\"/p:PlatformTarget=AnyCPU\"</span><span class=\"w\"> </span><span class=\"s\">\"/p:MSBuildEnableWorkloadResolver=false\"</span><span class=\"w\"> </span><span class=\"s\">\"--self-contained\"</span><span class=\"w\"> </span><span class=\"s\">\"/p:UseAppHost=false\"</span><span class=\"w\"> </span><span class=\"s\">\"-o\"</span><span class=\"w\"> </span><span class=\"s\">\"C:</span><span class=\"se\">\\\\</span><span class=\"s\">github</span><span class=\"se\">\\\\</span><span class=\"s\">wit-bindgen</span><span class=\"se\">\\\\</span><span class=\"s\">target/artifacts</span><span class=\"se\">\\\\</span><span class=\"s\">simple-import-params-results</span><span class=\"se\">\\\\</span><span class=\"s\">runner-csharp</span><span class=\"se\">\\\\</span><span class=\"s\">bindings</span><span class=\"se\">\\\\</span><span class=\"s\">csharp-testcase\"</span><span class=\"w\"> </span><span class=\"s\">\"/p:_hostArchitecture=x64\"</span>\n<span class=\"w\">      </span><span class=\"n\">status</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">exit</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">      </span><span class=\"n\">stdout</span><span class=\"p\">:</span>\n<span class=\"w\">          </span><span class=\"nc\">Determining</span><span class=\"w\"> </span><span class=\"n\">projects</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">restore</span><span class=\"o\">..</span><span class=\"p\">.</span>\n<span class=\"w\">          </span><span class=\"n\">All</span><span class=\"w\"> </span><span class=\"n\">projects</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">up</span><span class=\"o\">-</span><span class=\"n\">to</span><span class=\"o\">-</span><span class=\"n\">date</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">restore</span><span class=\"p\">.</span>\n<span class=\"w\">          </span><span class=\"n\">RunnerWorld</span><span class=\"w\"> </span><span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"nc\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">github</span><span class=\"err\">\\</span><span class=\"n\">wit</span><span class=\"o\">-</span><span class=\"n\">bindgen</span><span class=\"err\">\\</span><span class=\"n\">target</span><span class=\"err\">\\</span><span class=\"n\">artifacts</span><span class=\"err\">\\</span><span class=\"n\">simple</span><span class=\"o\">-</span><span class=\"n\">import</span><span class=\"o\">-</span><span class=\"n\">params</span><span class=\"o\">-</span><span class=\"n\">results</span><span class=\"err\">\\</span><span class=\"n\">runner</span><span class=\"o\">-</span><span class=\"n\">csharp</span><span class=\"err\">\\</span><span class=\"n\">bindings</span><span class=\"err\">\\</span><span class=\"n\">bin</span><span class=\"err\">\\</span><span class=\"n\">Debug</span><span class=\"err\">\\</span><span class=\"n\">net9</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"err\">\\</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">wasm</span><span class=\"err\">\\</span><span class=\"n\">csharp</span><span class=\"o\">-</span><span class=\"n\">testcase</span><span class=\"p\">.</span><span class=\"n\">dll</span>\n<span class=\"w\">          </span><span class=\"n\">Generating</span><span class=\"w\"> </span><span class=\"n\">native</span><span class=\"w\"> </span><span class=\"n\">code</span>\n<span class=\"w\">          </span><span class=\"n\">LLVM</span><span class=\"w\"> </span><span class=\"n\">compilation</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">IR</span><span class=\"w\"> </span><span class=\"n\">finished</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"mf\">1.21</span><span class=\"w\"> </span><span class=\"n\">seconds</span>\n<span class=\"w\">          </span><span class=\"n\">LLVM</span><span class=\"w\"> </span><span class=\"n\">generation</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">bitcode</span><span class=\"w\"> </span><span class=\"n\">finished</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"mf\">0.18</span><span class=\"w\"> </span><span class=\"n\">seconds</span>\n<span class=\"w\">          </span><span class=\"n\">LLVM</span><span class=\"w\"> </span><span class=\"n\">generation</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">debug</span><span class=\"w\"> </span><span class=\"n\">info</span><span class=\"w\"> </span><span class=\"n\">finished</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"mf\">0.12</span><span class=\"w\"> </span><span class=\"n\">seconds</span>\n<span class=\"w\">          </span><span class=\"n\">Object</span><span class=\"w\"> </span><span class=\"n\">writing</span><span class=\"w\"> </span><span class=\"n\">finished</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"mf\">0.17</span><span class=\"w\"> </span><span class=\"n\">seconds</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">allocated</span><span class=\"w\"> </span><span class=\"mf\">35.43</span><span class=\"w\"> </span><span class=\"n\">MB</span>\n<span class=\"w\">        </span><span class=\"n\">EXEC</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">error</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">encode</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">github</span><span class=\"err\">\\</span><span class=\"n\">wit</span><span class=\"o\">-</span><span class=\"n\">bindgen</span><span class=\"err\">\\</span><span class=\"n\">target</span><span class=\"err\">\\</span><span class=\"n\">artifacts</span><span class=\"err\">\\</span><span class=\"n\">simple</span><span class=\"o\">-</span><span class=\"n\">import</span><span class=\"o\">-</span><span class=\"n\">params</span><span class=\"o\">-</span><span class=\"n\">results</span><span class=\"err\">\\</span><span class=\"n\">runner</span><span class=\"o\">-</span><span class=\"n\">csharp</span><span class=\"err\">\\</span><span class=\"n\">bindings</span><span class=\"err\">\\</span><span class=\"n\">RunnerWorld</span><span class=\"p\">.</span><span class=\"n\">csproj</span><span class=\"p\">]</span>\n\n<span class=\"w\">          </span><span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"p\">:</span>\n<span class=\"w\">              </span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">decode</span><span class=\"w\"> </span><span class=\"n\">world</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">module</span>\n<span class=\"w\">              </span><span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">module</span><span class=\"w\"> </span><span class=\"n\">was</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">valid</span>\n<span class=\"w\">              </span><span class=\"mi\">2</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">resolve</span><span class=\"w\"> </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">a</span><span class=\"p\">:</span><span class=\"nc\">b</span><span class=\"o\">/</span><span class=\"n\">i</span><span class=\"p\">::[</span><span class=\"k\">async</span><span class=\"o\">-</span><span class=\"n\">lower</span><span class=\"p\">]</span><span class=\"n\">one</span><span class=\"o\">-</span><span class=\"n\">argument</span><span class=\"err\">`</span>\n<span class=\"w\">              </span><span class=\"mi\">3</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">import</span><span class=\"w\"> </span><span class=\"n\">interface</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">a</span><span class=\"p\">:</span><span class=\"nc\">b</span><span class=\"o\">/</span><span class=\"n\">i</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">missing</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">one</span><span class=\"o\">-</span><span class=\"n\">argument</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">that</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">required</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">module</span>\n<span class=\"w\">        </span><span class=\"n\">clang</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">error</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">linker</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"n\">exit</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">use</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">see</span><span class=\"w\"> </span><span class=\"n\">invocation</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">github</span><span class=\"err\">\\</span><span class=\"n\">wit</span><span class=\"o\">-</span><span class=\"n\">bindgen</span><span class=\"err\">\\</span><span class=\"n\">target</span><span class=\"err\">\\</span><span class=\"n\">artifacts</span><span class=\"err\">\\</span><span class=\"n\">simple</span><span class=\"o\">-</span><span class=\"n\">import</span><span class=\"o\">-</span><span class=\"n\">params</span><span class=\"o\">-</span><span class=\"n\">results</span><span class=\"err\">\\</span><span class=\"n\">runner</span><span class=\"o\">-</span><span class=\"n\">csharp</span><span class=\"err\">\\</span><span class=\"n\">bindings</span><span class=\"err\">\\</span><span class=\"n\">RunnerWorld</span><span class=\"p\">.</span><span class=\"n\">csproj</span><span class=\"p\">]</span>\n<span class=\"w\">        </span><span class=\"n\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">github</span><span class=\"err\">\\</span><span class=\"n\">wit</span><span class=\"o\">-</span><span class=\"n\">bindgen</span><span class=\"err\">\\</span><span class=\"n\">target</span><span class=\"err\">\\</span><span class=\"n\">artifacts</span><span class=\"err\">\\</span><span class=\"p\">.</span><span class=\"n\">packages</span><span class=\"err\">\\</span><span class=\"n\">microsoft</span><span class=\"p\">.</span><span class=\"n\">dotnet</span><span class=\"p\">.</span><span class=\"n\">ilcompiler</span><span class=\"p\">.</span><span class=\"n\">llvm</span><span class=\"err\">\\</span><span class=\"mf\">10.0.0</span><span class=\"o\">-</span><span class=\"n\">preview</span><span class=\"p\">.</span><span class=\"mf\">2.25509.1</span><span class=\"err\">\\</span><span class=\"n\">build</span><span class=\"err\">\\</span><span class=\"n\">Microsoft</span><span class=\"p\">.</span><span class=\"n\">NETCore</span><span class=\"p\">.</span><span class=\"n\">Native</span><span class=\"p\">.</span><span class=\"n\">targets</span><span class=\"p\">(</span><span class=\"mi\">625</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">):</span><span class=\"w\"> </span><span class=\"nc\">error</span><span class=\"w\"> </span><span class=\"n\">MSB3073</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">The</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"s\">\"\"</span><span class=\"n\">c</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">github</span><span class=\"err\">\\</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">sdk27</span><span class=\"o\">/</span><span class=\"n\">bin</span><span class=\"o\">/</span><span class=\"n\">clang</span><span class=\"s\">\" @obj\\Debug</span><span class=\"se\">\\n</span><span class=\"s\">et9.0\\wasi-wasm</span><span class=\"se\">\\n</span><span class=\"s\">ative\\link.rsp \"</span><span class=\"w\"> </span><span class=\"n\">exited</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"w\"> </span><span class=\"mf\">1.</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">github</span><span class=\"err\">\\</span><span class=\"n\">wit</span><span class=\"o\">-</span><span class=\"n\">bindgen</span><span class=\"err\">\\</span><span class=\"n\">target</span><span class=\"err\">\\</span><span class=\"n\">artifacts</span><span class=\"err\">\\</span><span class=\"n\">simple</span><span class=\"o\">-</span><span class=\"n\">import</span><span class=\"o\">-</span><span class=\"n\">params</span><span class=\"o\">-</span><span class=\"n\">results</span><span class=\"err\">\\</span><span class=\"n\">runner</span><span class=\"o\">-</span><span class=\"n\">csharp</span><span class=\"err\">\\</span><span class=\"n\">bindings</span><span class=\"err\">\\</span><span class=\"n\">RunnerWorld</span><span class=\"p\">.</span><span class=\"n\">csproj</span><span class=\"p\">]</span>\n</code></pre></div>",
        "id": 562828791,
        "sender_full_name": "Scott Waye",
        "timestamp": 1765325684
    },
    {
        "content": "<p>So it appears not to be able to resolve the symbol with the wit supplied to <code>clang</code> with <code>-Wl,--component-type,RunnerWorld_component_type.wit</code></p>",
        "id": 562829270,
        "sender_full_name": "Scott Waye",
        "timestamp": 1765325906
    },
    {
        "content": "<p>This is a result of merging the latest main into the PR, which was green before, so I suspect I've got some more work to do as a result of the merge.</p>",
        "id": 562829794,
        "sender_full_name": "Scott Waye",
        "timestamp": 1765326135
    },
    {
        "content": "<p>Does the C# toolchain itself provide a <code>wasm-component-ld</code> being used? That error is from <code>wasm-component-ld</code> (as opposed to LLVM, <code>wasm-ld</code>, or <code>clang</code>), and that looks like <code>wasm-component-ld</code> is too old</p>",
        "id": 562843693,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1765333397
    },
    {
        "content": "<p>Thanks, that was it!</p>",
        "id": 563089331,
        "sender_full_name": "Scott Waye",
        "timestamp": 1765416096
    }
]