[
    {
        "content": "<p>I'm looking to get the Wasm version (e.g. <code>wasm32</code>), WASI version (e.g. <code>0.2</code>), and WASI SDK version (e.g. <code>29</code>) at compile time for some C code (specifically CPython). Neither <a href=\"https://github.com/WebAssembly/wasi-sdk\">https://github.com/WebAssembly/wasi-sdk</a> nor <a href=\"https://github.com/WebAssembly/wasi-libc\">https://github.com/WebAssembly/wasi-libc</a> list any predefined macros in any docs that I can find (e.g. <code>__WASI_VERSION__</code> or something). Do such macros exist?</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/WebAssembly/wasi-sdk\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/bcef5c149139a73b289f2755f8de7b518630890b/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f333632386163303437613266383032376464343261663238363162373661636535373638386334343937343739333832383064653763396335343566646636342f576562417373656d626c792f776173692d73646b&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/WebAssembly/wasi-sdk\" title=\"GitHub - WebAssembly/wasi-sdk: WASI-enabled WebAssembly C/C++ toolchain\">GitHub - WebAssembly/wasi-sdk: WASI-enabled WebAssembly C/C++ toolchain</a></div><div class=\"message_embed_description\">WASI-enabled WebAssembly C/C++ toolchain. Contribute to WebAssembly/wasi-sdk development by creating an account on GitHub.</div></div></div><div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/WebAssembly/wasi-libc\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/c5608989d5a1ab9e00dc2954df89d4ae963ababb/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f646634313164353639666263306436316565343032326637326533376637326630396566333662363038653631343039376237353661626138383532613134342f576562417373656d626c792f776173692d6c696263&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/WebAssembly/wasi-libc\" title=\"GitHub - WebAssembly/wasi-libc: WASI libc implementation for WebAssembly\">GitHub - WebAssembly/wasi-libc: WASI libc implementation for WebAssembly</a></div><div class=\"message_embed_description\">WASI libc implementation for WebAssembly. Contribute to WebAssembly/wasi-libc development by creating an account on GitHub.</div></div></div>",
        "id": 561723197,
        "sender_full_name": "Brett Cannon",
        "timestamp": 1764785640
    },
    {
        "content": "<p>wasm32/wasm64 is <code>__wasm32__</code> and <code>__wasm64__</code> I believe, but the libc/sdk versions aren't present in macros -- would be reasonable to add though!</p>",
        "id": 561724698,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1764786150
    },
    {
        "content": "<p>The reason I ask is I will need to embed that data in Python wheels and it probably wouldn't hurt to expose it in Python itself.</p>\n<p>Where should I open an issue? WASI SDK or wasi-libc?</p>",
        "id": 561727847,
        "sender_full_name": "Brett Cannon",
        "timestamp": 1764787170
    },
    {
        "content": "<p>wasi-libc is probably the best spot since that's where the headers will be located and #defines and such</p>",
        "id": 561728413,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1764787333
    },
    {
        "content": "<p>and definitely agree it'd be good to have these</p>",
        "id": 561728461,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1764787350
    },
    {
        "content": "<p><a href=\"https://github.com/WebAssembly/wasi-libc/issues/688\">https://github.com/WebAssembly/wasi-libc/issues/688</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/WebAssembly/wasi-libc/issues/688\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/c263804b37ce2891d0e4f4c7418f852d044e0ef4/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f373034336362346130306165336534313936376237633135396537653238653661393630346434393136396132393461393930616239653238666632663339352f576562417373656d626c792f776173692d6c6962632f6973737565732f363838&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/WebAssembly/wasi-libc/issues/688\" title=\"Provide macros to get the WASI and WASI SDK versions 路 Issue #688 路 WebAssembly/wasi-libc\">Provide macros to get the WASI and WASI SDK versions 路 Issue #688 路 WebAssembly/wasi-libc</a></div><div class=\"message_embed_description\">Brought up on Zulip#wasi &gt; How to get the Wasm, WASI, &amp; SDK version via C macros, having a way to get the compile-time values of the WASI version (e.g. 0.2) as well as the WASI SDK version (e.g. 29...</div></div></div>",
        "id": 561730535,
        "sender_full_name": "Brett Cannon",
        "timestamp": 1764788030
    }
]