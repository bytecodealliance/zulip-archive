[
    {
        "content": "<p>It could be that there are permissions issues in the webassembly org but <a href=\"https://github.com/fermyon/wasi-hyperium/pkgs/container/wasm-pkg%2Ffermyon%2Fwasi-http-dump\">here</a> I was able to associate a package with a repo with a completely different name.</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/fermyon/wasi-hyperium/pkgs/container/wasm-pkg%2Ffermyon%2Fwasi-http-dump\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/33bfd30bde61bfd938502e4c1fdeaa24486f1e2b/68747470733a2f2f6769746875622e6769746875626173736574732e636f6d2f6173736574732f6769746875622d6f63746f6361742d3133633836623862333336642e706e67&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/fermyon/wasi-hyperium/pkgs/container/wasm-pkg%2Ffermyon%2Fwasi-http-dump\" title=\"Build software better, together\">Build software better, together</a></div><div class=\"message_embed_description\">GitHub is where people build software. More than 150 million people use GitHub to discover, fork, and contribute to over 420 million projects.</div></div></div>",
        "id": 540276943,
        "sender_full_name": "Lann Martin",
        "timestamp": 1758213218
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"421591\">@Bailey Hayes</span> <span class=\"user-mention\" data-user-id=\"344849\">@Yosh Wuyts</span></p>",
        "id": 540276964,
        "sender_full_name": "Lann Martin",
        "timestamp": 1758213226
    },
    {
        "content": "<p>It's more for the downstream consumers. They point to wasi:http and wkg defaults to WebAssembly/wasi</p>",
        "id": 540277269,
        "sender_full_name": "Bailey Hayes",
        "timestamp": 1758213322
    },
    {
        "content": "<p>Can the existing Github packages be changed to point at their respective repos without renaming them?</p>",
        "id": 540277671,
        "sender_full_name": "Lann Martin",
        "timestamp": 1758213431
    },
    {
        "content": "<p>We use oci labels to associate repos. We want a different URI path so that we aren't publishing to org level</p>",
        "id": 540278030,
        "sender_full_name": "Bailey Hayes",
        "timestamp": 1758213553
    },
    {
        "content": "<p>Ah I see what you're saying, but that isn't quite how <code>wkg</code> is constructing the OCI reference. The <code>wasi.dev</code> registry just resolves to the prefix <code>ghcr.io/webassembly/</code> (<a href=\"https://wasi.dev/.well-known/wasm-pkg/registry.json\">here</a>); the <code>wasi/</code> part is derived from the <code>wasi:*</code> package namespace. I couldn't use <code>:</code> because it is reserved in OCI so I went with <code>/</code> <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>",
        "id": 540279919,
        "sender_full_name": "Lann Martin",
        "timestamp": 1758214143
    },
    {
        "content": "<p>AFAIK in Github Packages everything after <code>ghcr.io/&lt;org&gt;/</code> is opaque; the <code>wasi/</code> there isn't meaningful to GH or OCI.</p>",
        "id": 540280151,
        "sender_full_name": "Lann Martin",
        "timestamp": 1758214218
    },
    {
        "content": "<p>For <a href=\"https://github.com/fermyon/wasi-hyperium/pkgs/container/wasm-pkg%2Ffermyon%2Fwasi-http-dump\">this example package</a> I can do <code>wkg get fermyon:wasi-http-dump --registry fermyon.com</code>; the registry <code>fermyon.com</code> leads to a lookup of <a href=\"https://www.fermyon.com/.well-known/wasm-pkg/registry.json\">https://www.fermyon.com/.well-known/wasm-pkg/registry.json</a> which is used to construct the OCI reference <code>ghcr.io/fermyon/wasm-pkg/fermyon/wasi-http-dump</code> which is completely different from the linked repository <a href=\"https://github.com/fermyon/wasi-hyperium\">https://github.com/fermyon/wasi-hyperium</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/fermyon/wasi-hyperium/pkgs/container/wasm-pkg%2Ffermyon%2Fwasi-http-dump\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/33bfd30bde61bfd938502e4c1fdeaa24486f1e2b/68747470733a2f2f6769746875622e6769746875626173736574732e636f6d2f6173736574732f6769746875622d6f63746f6361742d3133633836623862333336642e706e67&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/fermyon/wasi-hyperium/pkgs/container/wasm-pkg%2Ffermyon%2Fwasi-http-dump\" title=\"Build software better, together\">Build software better, together</a></div><div class=\"message_embed_description\">GitHub is where people build software. More than 150 million people use GitHub to discover, fork, and contribute to over 420 million projects.</div></div></div><div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/fermyon/wasi-hyperium\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/09510d50a8a4aaa1710b64bf482f6c5e8eca693f/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f383665663635363430636336373361303636643064316439313332623832623232383866373061346237316166346662376562383063663635343461633131392f6665726d796f6e2f776173692d687970657269756d&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/fermyon/wasi-hyperium\" title=\"GitHub - fermyon/wasi-hyperium\">GitHub - fermyon/wasi-hyperium</a></div><div class=\"message_embed_description\">Contribute to fermyon/wasi-hyperium development by creating an account on GitHub.</div></div></div>",
        "id": 540281165,
        "sender_full_name": "Lann Martin",
        "timestamp": 1758214532
    },
    {
        "content": "<p>with well known, is it possible to configure more than just the prefix like a map? We could hardcode the paths to each wasi package. For example if the namespace prefix was just \"WebAssembly\" and path to artifact \"wasi-http/wit\"</p>",
        "id": 540282433,
        "sender_full_name": "Bailey Hayes",
        "timestamp": 1758214951
    },
    {
        "content": "<p>Not currently</p>",
        "id": 540282714,
        "sender_full_name": "Lann Martin",
        "timestamp": 1758215011
    },
    {
        "content": "<p>The <code>&lt;namespace&gt;/&lt;name&gt;:&lt;version&gt;</code> suffix is fixed</p>",
        "id": 540283032,
        "sender_full_name": "Lann Martin",
        "timestamp": 1758215090
    },
    {
        "content": "<p>Could you say more about wanting to customize the OCI namespace?</p>",
        "id": 540283235,
        "sender_full_name": "Lann Martin",
        "timestamp": 1758215155
    }
]