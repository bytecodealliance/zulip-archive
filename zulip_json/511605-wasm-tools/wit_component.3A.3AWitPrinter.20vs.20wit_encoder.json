[
    {
        "content": "<p>Is the (apparent) duplication between <a href=\"https://docs.rs/wit-component/0.238.0/wit_component/struct.WitPrinter.html\"><code>wit_component::WitPrinter</code></a> and <a href=\"https://docs.rs/wit-encoder/0.238.0/wit_encoder/\"><code>wit_encoder</code></a> intentional?</p>",
        "id": 536830320,
        "sender_full_name": "Lann Martin",
        "timestamp": 1756487153
    },
    {
        "content": "<p>it is yeah, sort of reflecting the historical development trends too</p>",
        "id": 536831691,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1756487749
    },
    {
        "content": "<p>they input is somewhat different where <code>WitPrinter</code> takes a <code>Resolve</code> while <code>wit_encoder</code> takes programmatic API-based input from callers (which may or may not be <code>Resolve</code>)</p>",
        "id": 536831744,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1756487772
    },
    {
        "content": "<p>I see; so in theory it might be nice to deduplicate the two but it would require some major refactor or gnarly AST transform?</p>",
        "id": 536832728,
        "sender_full_name": "Lann Martin",
        "timestamp": 1756488146
    },
    {
        "content": "<p>Context is <a href=\"https://github.com/bytecodealliance/wasm-pkg-tools/issues/172\">https://github.com/bytecodealliance/wasm-pkg-tools/issues/172</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/wasm-pkg-tools/issues/172\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/a3617d3ec4f94755edc93cc5dc114a5561fc3e04/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f383765626630373937653835326636356264356231393939343065613566653366393462343938613736353739346366303063386235326135646330656264652f62797465636f6465616c6c69616e63652f7761736d2d706b672d746f6f6c732f6973737565732f313732&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/wasm-pkg-tools/issues/172\" title=\"wkg wit output does not preserve comments in worlds 路 Issue #172 路 bytecodealliance/wasm-pkg-tools\">wkg wit output does not preserve comments in worlds 路 Issue #172 路 bytecodealliance/wasm-pkg-tools</a></div><div class=\"message_embed_description\">Steps to reproduce: mkdir wit cat &gt; wit/world.wit &lt;&lt;EOF package test:test; world test { include wasi:http/proxy@0.3.0-rc-2025-08-15; } EOF wkg wit fetch Expected results: wit/deps/wasi-http-0.3.0-r...</div></div></div>",
        "id": 536832867,
        "sender_full_name": "Lann Martin",
        "timestamp": 1756488192
    },
    {
        "content": "<p>Well I guess the context is I'm debugging that and got side-tracked</p>",
        "id": 536833039,
        "sender_full_name": "Lann Martin",
        "timestamp": 1756488262
    },
    {
        "content": "<p>yeah lots of refactoring would be required</p>",
        "id": 536835593,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1756489363
    }
]