[
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-wasi-reviewers\">wasmtime-wasi-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384\">PR #11384</a>.</p>",
        "id": 532962794,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754416095
    },
    {
        "content": "<p>alexcrichton opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384\">PR #11384</a> from <code>alexcrichton:refactor-wasi-udp-socket</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>This commit refactors the implementation of <code>wasi:sockets</code> for WASIp2 and WASIp3 to use the same underlying host data structure for the <code>UdpSocket</code> resource in WIT. Previously each version of WASI had its own socket which resulted in duplicated code. There's some minor differences between WASIp2 and WASIp3 but it's easy enough to paper over with the same socket type. This is intended to help with the maintainability of this going forward to only have one type to operate on rather than two (which also ensures that bugfixes for one should affect the other).</p>\n<p>One other change made in this commit is that sprinkled checks for whether or not UDP is allowed are all removed and canonicalized during UDP socket creation. This means that UDP socket creation is the only location that checks for whether UDP is allowed. Once a UDP socket is created it can be used freely regardless of whether the UDP setting is enabled or disabled. This is not intended to have a large practical effect but it does mean the behavior of hosts that deny UDP but manually give access to a UDP socket resource to a component may behave subtly differently.</p>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 532962795,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754416095
    },
    {
        "content": "<p>rvolosatovs submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384#pullrequestreview-3089212126\">PR review</a>.</p>",
        "id": 532965209,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754417010
    },
    {
        "content": "<p>rvolosatovs created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384#discussion_r2254992491\">PR review comment</a>:</p>\n<blockquote>\n<p>Could we clone the \"check\" from context here and avoid having to <code>Arc::clone</code> on each p3 usage of it?</p>\n</blockquote>",
        "id": 532965210,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754417011
    },
    {
        "content": "<p>rvolosatovs created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384#discussion_r2254990312\">PR review comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>        socket.set_socket_addr_check(Some(check));\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 532965211,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754417011
    },
    {
        "content": "<p>rvolosatovs edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384#discussion_r2254992491\">PR review comment</a>.</p>",
        "id": 532965516,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754417125
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384\">PR #11384</a>.</p>",
        "id": 532976155,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754421586
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384\">PR #11384</a>.</p>",
        "id": 532976612,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754421754
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384#pullrequestreview-3089432062\">PR review</a>.</p>",
        "id": 532976859,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754421855
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384#discussion_r2255146397\">PR review comment</a>:</p>\n<blockquote>\n<p>Unfortunately no because the check will live in the store no matter what and we can't borrow the store across awaits, so it's got to get moved out.  This is mostly just here to handle how in WASIp2 the socket check is inherited from the <code>Network</code> type rather than unconditionally from <code>WasiCtx</code>. While esoteric it's possible for embedders to push their own <code>Network</code> without using <code>WasiCtx</code> which has a distinct check than the one in <code>WasiCtx</code> itself, although we might want to remove such a feature eventually (which would remove the need for this field here)</p>\n</blockquote>",
        "id": 532976860,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754421855
    },
    {
        "content": "<p>alexcrichton has enabled auto merge for <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384\">PR #11384</a>.</p>",
        "id": 532976870,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754421859
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/pchickey\">pchickey</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384\">PR #11384</a>.</p>",
        "id": 532982756,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754424381
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384\">PR #11384</a>.</p>",
        "id": 532982758,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754424381
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384\">PR #11384</a>.</p>",
        "id": 532982759,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754424381
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384\">PR #11384</a>.</p>",
        "id": 533004523,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754438627
    },
    {
        "content": "<p>rvolosatovs merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11384\">PR #11384</a>.</p>",
        "id": 533093241,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754483895
    }
]