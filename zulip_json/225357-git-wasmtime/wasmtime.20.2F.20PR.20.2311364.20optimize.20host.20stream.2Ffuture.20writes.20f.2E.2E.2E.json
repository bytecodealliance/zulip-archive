[
    {
        "content": "<p><strong>dicej</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11364\">PR #11364</a>.</p>",
        "id": 532143882,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1753986999
    },
    {
        "content": "<p>dicej opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11364\">PR #11364</a> from <code>dicej:optimize-flat-lowerings</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>When we know statically that a payload will not require any guest realloc calls to lower, there's no need to defer the lowering to a fiber -- we can just do it immediately.</p>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 532143885,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1753986999
    },
    {
        "content": "<p><strong>dicej</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11364\">PR #11364</a>.</p>",
        "id": 532143886,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1753986999
    },
    {
        "content": "<p>dicej <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11364#issuecomment-3140979892\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11364\">PR #11364</a>:</p>\n<blockquote>\n<p>One possible hole in this is that <code>LowerContext::options</code> is a public field, so someone could call <code>options.realloc</code> directly without going through <code>LowerContext::realloc</code> if they wanted (e.g. in a custom <code>Lower</code> implementation).  Do we need to address that?  If so, I could refactor some code so that we clone the options and null out the realloc function before passing it to <code>LowerContext</code>.</p>\n</blockquote>",
        "id": 532144348,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1753987171
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11364#pullrequestreview-3076524889\">PR review</a>:</p>\n<blockquote>\n<blockquote>\n<p>One possible hole in this is that LowerContext::options is a public field</p>\n</blockquote>\n<p>I think that's ok because <code>Options::realloc</code> is a private method. It's possible to overwrite <code>Options</code> with something else which could be problematic, but this is just something for debug assertions and avoiding panics, not safety, so I think it's ok to ignore this. </p>\n</blockquote>",
        "id": 532145581,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1753987612
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11364#discussion_r2246123214\">PR review comment</a>:</p>\n<blockquote>\n<p>Could this be renamed to <code>MAY_REQUIRE_REALLOC</code>? This otherwise isn't a guarantee that can be relied on as it's only set for integers, but it's not set for aggregates of other flat types (e.g. option-of-enum, etc).</p>\n<p>Also can you add documentation that getting this correct is required for not panicking? Basically how other parts of the codebase will, for example, skip fibers during lowering if \"may require realloc\" is <code>false</code></p>\n</blockquote>",
        "id": 532145582,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1753987612
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11364#pullrequestreview-3076541993\">PR review</a>.</p>",
        "id": 532145609,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1753987621
    },
    {
        "content": "<p>dicej updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11364\">PR #11364</a>.</p>",
        "id": 532151036,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1753989616
    },
    {
        "content": "<p>dicej merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11364\">PR #11364</a>.</p>",
        "id": 532158053,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1753992140
    }
]