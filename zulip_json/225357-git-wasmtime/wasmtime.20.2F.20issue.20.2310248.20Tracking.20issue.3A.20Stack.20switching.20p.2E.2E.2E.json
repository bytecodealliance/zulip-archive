[
    {
        "content": "<p>frank-emrich opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[ ] Support for tags</li>\n<li>[ ] Type definitions for stack switching support</li>\n<li>[ ] Runtime support for stack switching</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>Support for ISAs other than x64</li>\n<li>Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>Support for deallocating continuations</li>\n<li>Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>Windows support</li>\n<li>Pulley support</li>\n<li>Winch support<br>\n</li>\n</ul>\n</blockquote>",
        "id": 500761065,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1740006812
    },
    {
        "content": "<p>frank-emrich edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[ ] Support for tags</li>\n<li>[ ] Type definitions for stack switching support</li>\n<li>[ ] Runtime support for stack switching</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support<br>\n</li>\n</ul>\n</blockquote>",
        "id": 500761361,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1740006959
    },
    {
        "content": "<p>dhil <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248#issuecomment-2671408242\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>Tags are added by PR #10251.</p>\n</blockquote>",
        "id": 500870132,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1740055888
    },
    {
        "content": "<p><a href=\"https://github.com/alexcrichton\">alexcrichton</a> added the wasm-proposal:stack-switching label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">Issue #10248</a>.</p>",
        "id": 500909863,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1740065992
    },
    {
        "content": "<p>alexcrichton edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[ ] Support for tags</li>\n<li>[ ] Type definitions for stack switching support</li>\n<li>[ ] Runtime support for stack switching</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n</ul>\n</blockquote>",
        "id": 500911950,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1740066506
    },
    {
        "content": "<p>frank-emrich edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[ ] Type definitions for stack switching support</li>\n<li>[ ] Runtime support for stack switching</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n</ul>\n</blockquote>",
        "id": 500986289,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1740092581
    },
    {
        "content": "<p>fitzgen edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[ ] Type definitions for stack switching support</li>\n<li>[ ] Runtime support for stack switching</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n<li>[ ] Update <code>struct VMContext {...}</code> pseudo-definition comment: <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164\">https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164</a></li>\n</ul>\n</blockquote>",
        "id": 502135196,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1740600623
    },
    {
        "content": "<p>fitzgen edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[ ] Type definitions for stack switching support</li>\n<li>[ ] Runtime support for stack switching</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n<li>[ ] Update <code>struct VMContext {...}</code> pseudo-definition comment: <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164\">https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164</a></li>\n<li>[ ] Return an <code>Err(_)</code> if the given function type has results in <code>wasmtime::Tag::new</code></li>\n</ul>\n</blockquote>",
        "id": 502136641,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1740601131
    },
    {
        "content": "<p>fitzgen edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[ ] Type definitions for stack switching support</li>\n<li>[ ] Runtime support for stack switching</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n<li>[ ] Update <code>struct VMContext {...}</code> pseudo-definition comment: <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164\">https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164</a></li>\n<li>[ ] Return an <code>Err(_)</code> if the given function type has results in <code>wasmtime::Tag::new</code>: <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972341601\">https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972341601</a></li>\n</ul>\n</blockquote>",
        "id": 502136673,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1740601144
    },
    {
        "content": "<p>fitzgen edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[ ] Type definitions for stack switching support</li>\n<li>[ ] Runtime support for stack switching</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n<li>[ ] Update <code>struct VMContext {...}</code> pseudo-definition comment: <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164\">https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164</a></li>\n<li>[ ] Return an <code>Err(_)</code> if the given function type has results in <code>wasmtime::Tag::new</code>: <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972341601\">https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972341601</a></li>\n<li>[ ] Remove <code>VMTagImport</code> at the vmcontext level: <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972423938\">https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972423938</a></li>\n</ul>\n</blockquote>",
        "id": 502145890,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1740604589
    },
    {
        "content": "<p>fitzgen edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[ ] Type definitions for stack switching support</li>\n<li>[ ] Runtime support for stack switching</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n</ul>\n</blockquote>",
        "id": 502367929,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1740686797
    },
    {
        "content": "<p>frank-emrich edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>\n<li>[ ] Runtime support for stack switching</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n</ul>\n</blockquote>",
        "id": 504176342,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1741378300
    },
    {
        "content": "<p>alexcrichton edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>\n<li>[ ] Runtime support for stack switching</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n<li>[ ] After pulley support, update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184\">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>\n<li>[ ] Update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs\">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>\n<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10803\">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>\n<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>\n<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>\n</ul>\n</blockquote>",
        "id": 522464094,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1749077153
    },
    {
        "content": "<p>posborne edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>\n<li>[x] Runtime support for stack switching</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n<li>[ ] After pulley support, update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184\">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>\n<li>[ ] Update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs\">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>\n<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10803\">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>\n<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>\n<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>\n</ul>\n</blockquote>",
        "id": 522614686,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1749136020
    },
    {
        "content": "<p>posborne edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>\n<li>[x] Runtime support for stack switching (implemented in #10388)</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n<li>[ ] After pulley support, update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184\">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>\n<li>[ ] Update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs\">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>\n<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10803\">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>\n<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>\n<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114569602\">Stack-capturing fuzzer needs to be extended to support capturing backtraces across stack suspensions</a></li>\n<li>[ ] Add support for stack switching in the embedder API (<a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521\">https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521</a>).</li>\n<li>[ ] Allow <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994023305\">basic compat of GC/stack-switching</a> (continuations will still have lifetime of store).</li>\n</ul>\n<h3>Larger outstanding work items which have arisen during review of the initial changes:</h3>\n<ul>\n<li>[ ] Hostcalls can currently be made directly from continuation stacks; this behavior is different than the fibers impl and we likely should not allow this, <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114375774\">see related discussion</a></li>\n<li>[ ] Currently stack switching and fibers use different stack layouts and cannot (without modification) share a lot of functionality (e.g. pooling allocator used for fiber stacks); long-term, we would like to unify these two mechanisms where possible.  <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#issuecomment-2817337818\">See discussion</a>.</li>\n<li>[ ] Implement full GC of continuations</li>\n</ul>\n</blockquote>",
        "id": 522619448,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1749137395
    },
    {
        "content": "<p>posborne edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>\n<li>[x] Runtime support for stack switching (implemented in #10388)</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n<li>[ ] After pulley support, update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184\">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>\n<li>[ ] Update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs\">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>\n<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10803\">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>\n<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>\n<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114569602\">Stack-capturing fuzzer needs to be extended to support capturing backtraces across stack suspensions</a></li>\n<li>[ ] Add support for stack switching in the embedder API (<a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521\">https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521</a>).</li>\n<li>[ ] Allow <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994023305\">basic compat of GC/stack-switching</a> (continuations will still have lifetime of store).</li>\n<li>[ ] Remove stray <code>DeleteMeDebugAssertion</code>s: <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083\">https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083</a></li>\n</ul>\n<h3>Larger outstanding work items which have arisen during review of the initial changes:</h3>\n<ul>\n<li>[ ] Hostcalls can currently be made directly from continuation stacks; this behavior is different than the fibers impl and we likely should not allow this, <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114375774\">see related discussion</a></li>\n<li>[ ] Currently stack switching and fibers use different stack layouts and cannot (without modification) share a lot of functionality (e.g. pooling allocator used for fiber stacks); long-term, we would like to unify these two mechanisms where possible.  <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#issuecomment-2817337818\">See discussion</a>.</li>\n<li>[ ] Implement full GC of continuations</li>\n</ul>\n</blockquote>",
        "id": 522624130,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1749138826
    },
    {
        "content": "<p>alexcrichton edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>\n<li>[x] Runtime support for stack switching (implemented in #10388)</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n<li>[ ] After pulley support, update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184\">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>\n<li>[ ] Update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs\">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>\n<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10803\">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>\n<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>\n<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114569602\">Stack-capturing fuzzer needs to be extended to support capturing backtraces across stack suspensions</a></li>\n<li>[ ] Add support for stack switching in the embedder API (<a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521\">https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521</a>).</li>\n<li>[ ] Allow <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994023305\">basic compat of GC/stack-switching</a> (continuations will still have lifetime of store).</li>\n<li>[ ] Remove stray <code>DeleteMeDebugAssertion</code>s: <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083\">https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083</a></li>\n<li>[ ] Ideally <a href=\"https://github.com/bytecodealliance/wasmtime/blob/e4714332cade561c4bc5bbd9334ff76c53f4e0ab/crates/wasmtime/src/runtime/vm.rs#L62\"><code>mod stack_switching</code></a> would have a <code>#[cfg]</code> for stack switching on it</li>\n</ul>\n<h3>Larger outstanding work items which have arisen during review of the initial changes:</h3>\n<ul>\n<li>[ ] Hostcalls can currently be made directly from continuation stacks; this behavior is different than the fibers impl and we likely should not allow this, <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114375774\">see related discussion</a></li>\n<li>[ ] Currently stack switching and fibers use different stack layouts and cannot (without modification) share a lot of functionality (e.g. pooling allocator used for fiber stacks); long-term, we would like to unify these two mechanisms where possible.  <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#issuecomment-2817337818\">See discussion</a>.</li>\n<li>[ ] Implement full GC of continuations</li>\n</ul>\n</blockquote>",
        "id": 522680523,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1749164496
    },
    {
        "content": "<p>posborne edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>\n<li>[x] Runtime support for stack switching (implemented in #10388)</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n<li>[ ] After pulley support, update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184\">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>\n<li>[ ] Update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs\">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>\n<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10803\">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>\n<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>\n<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114569602\">Stack-capturing fuzzer needs to be extended to support capturing backtraces across stack suspensions</a></li>\n<li>[ ] Add support for stack switching in the embedder API (<a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521\">https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521</a>).</li>\n<li>[ ] Allow <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994023305\">basic compat of GC/stack-switching</a> (continuations will still have lifetime of store).</li>\n<li>[x] Remove stray <code>DeleteMeDebugAssertion</code>s: <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083\">https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083</a></li>\n<li>[ ] Ideally <a href=\"https://github.com/bytecodealliance/wasmtime/blob/e4714332cade561c4bc5bbd9334ff76c53f4e0ab/crates/wasmtime/src/runtime/vm.rs#L62\"><code>mod stack_switching</code></a> would have a <code>#[cfg]</code> for stack switching on it</li>\n</ul>\n<h3>Larger outstanding work items which have arisen during review of the initial changes:</h3>\n<ul>\n<li>[ ] Hostcalls can currently be made directly from continuation stacks; this behavior is different than the fibers impl and we likely should not allow this, <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114375774\">see related discussion</a></li>\n<li>[ ] Currently stack switching and fibers use different stack layouts and cannot (without modification) share a lot of functionality (e.g. pooling allocator used for fiber stacks); long-term, we would like to unify these two mechanisms where possible.  <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#issuecomment-2817337818\">See discussion</a>.</li>\n<li>[ ] Implement full GC of continuations</li>\n</ul>\n</blockquote>",
        "id": 523110752,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1749481408
    },
    {
        "content": "<p>fitzgen edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>\n<li>[x] Runtime support for stack switching (implemented in #10388)</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n<li>[ ] After pulley support, update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184\">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>\n<li>[ ] Update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs\">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>\n<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10803\">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>\n<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>\n<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114569602\">Stack-capturing fuzzer needs to be extended to support capturing backtraces across stack suspensions</a></li>\n<li>[ ] Add support for stack switching in the embedder API (<a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521\">https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521</a>).</li>\n<li>[ ] Allow <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994023305\">basic compat of GC/stack-switching</a> (continuations will still have lifetime of store).</li>\n<li>[x] Remove stray <code>DeleteMeDebugAssertion</code>s: <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083\">https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083</a></li>\n<li>[ ] Ideally <a href=\"https://github.com/bytecodealliance/wasmtime/blob/e4714332cade561c4bc5bbd9334ff76c53f4e0ab/crates/wasmtime/src/runtime/vm.rs#L62\"><code>mod stack_switching</code></a> would have a <code>#[cfg]</code> for stack switching on it</li>\n</ul>\n<h3>Larger outstanding work items which have arisen during review of the initial changes:</h3>\n<ul>\n<li>[ ] Hostcalls can currently be made directly from continuation stacks; this behavior is different than the fibers impl and we likely should not allow this, <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114375774\">see related discussion</a></li>\n<li>[ ] Currently stack switching and fibers use different stack layouts and cannot (without modification) share a lot of functionality (e.g. pooling allocator used for fiber stacks); long-term, we would like to unify these two mechanisms where possible.  <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#issuecomment-2817337818\">See discussion</a>. (Note: This will likely mean that stack switching will require <code>cfg(feature = \"async\")</code> which is what we probably want anyways)</li>\n<li>[ ] Implement full GC of continuations</li>\n</ul>\n</blockquote>",
        "id": 523346736,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1749579358
    },
    {
        "content": "<p>posborne edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>This is a tracking issue for the in-progress implementation of the <a href=\"https://github.com/WebAssembly/stack-switching\">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href=\"https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md\">here</a>.</p>\n<h3>Progress of initial implementation</h3>\n<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>\n<ul>\n<li>[x] ~Support for tags~ (implemented in #10251)</li>\n<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>\n<li>[x] Runtime support for stack switching (implemented in #10388)</li>\n<li>[ ] Compiling stack switching instructions to CLIF</li>\n</ul>\n<h3>Limitations of initial implementation</h3>\n<p>These are things that won't be part of the initial implementation:</p>\n<ul>\n<li>[ ] Support for ISAs other than x64</li>\n<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>\n<li>[ ] Support for deallocating continuations</li>\n<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>\n<li>[ ] Windows support</li>\n<li>[ ] Pulley support</li>\n<li>[ ] Winch support</li>\n</ul>\n<h3>Miscellaneous TODO items</h3>\n<ul>\n<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10251\">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>\n<li>[ ] After pulley support, update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184\">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>\n<li>[ ] Update the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs\">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>\n<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10803\">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>\n<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>\n<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114569602\">Stack-capturing fuzzer needs to be extended to support capturing backtraces across stack suspensions</a></li>\n<li>[ ] Add support for stack switching in the embedder API (<a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521\">https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521</a>).</li>\n<li>[ ] Allow <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994023305\">basic compat of GC/stack-switching</a> (continuations will still have lifetime of store).</li>\n<li>[x] Remove stray <code>DeleteMeDebugAssertion</code>s: <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083\">https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083</a></li>\n<li>[ ] Ideally <a href=\"https://github.com/bytecodealliance/wasmtime/blob/e4714332cade561c4bc5bbd9334ff76c53f4e0ab/crates/wasmtime/src/runtime/vm.rs#L62\"><code>mod stack_switching</code></a> would have a <code>#[cfg]</code> for stack switching on it</li>\n<li>[ ] <code>cont.bind</code> cannot contain gc roots (compile error), see <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11003/files/e9fa92d1fd989a10b584124ca07acee836123b4d#r2138934542\">https://github.com/bytecodealliance/wasmtime/pull/11003/files/e9fa92d1fd989a10b584124ca07acee836123b4d#r2138934542</a></li>\n</ul>\n<h3>Larger outstanding work items which have arisen during review of the initial changes:</h3>\n<ul>\n<li>[ ] Hostcalls can currently be made directly from continuation stacks; this behavior is different than the fibers impl and we likely should not allow this, <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114375774\">see related discussion</a></li>\n<li>[ ] Currently stack switching and fibers use different stack layouts and cannot (without modification) share a lot of functionality (e.g. pooling allocator used for fiber stacks); long-term, we would like to unify these two mechanisms where possible.  <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10388#issuecomment-2817337818\">See discussion</a>. (Note: This will likely mean that stack switching will require <code>cfg(feature = \"async\")</code> which is what we probably want anyways)</li>\n<li>[ ] Implement full GC of continuations</li>\n</ul>\n</blockquote>",
        "id": 523624428,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1749669818
    },
    {
        "content": "<p>dhil <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248#issuecomment-3299538920\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10248\">issue #10248</a>:</p>\n<blockquote>\n<p>Codegen was added by #11003.</p>\n</blockquote>",
        "id": 539814230,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1758040553
    }
]