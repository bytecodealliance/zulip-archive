[
    {
        "content": "<p>anlavandier opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11985\">issue #11985</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<div class=\"codehilite\" data-code-language=\"TOML\"><pre><span></span><code><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"s2\">\"38\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">default-features</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">features</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">\"runtime\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"component-model\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"async\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"p\">}</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">use</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"p\">::</span><span class=\"n\">component</span><span class=\"p\">::</span><span class=\"n\">bindgen</span><span class=\"p\">;</span>\n\n<span class=\"n\">bindgen</span><span class=\"o\">!</span><span class=\"p\">({</span>\n<span class=\"w\">    </span><span class=\"n\">world</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"bar\"</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">inline</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"</span>\n<span class=\"s\">    package example:example;</span>\n\n<span class=\"s\">    interface api {</span>\n<span class=\"s\">        foo: func();</span>\n<span class=\"s\">    }</span>\n\n<span class=\"s\">    world bar {</span>\n<span class=\"s\">        import api;</span>\n<span class=\"s\">    }</span>\n<span class=\"s\">    \"</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">imports</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"s\">\"example:example/api/foo\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">async</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n\n<span class=\"k\">fn</span><span class=\"w\"> </span><span class=\"nf\">main</span><span class=\"w\"> </span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>This code compiles with the latest released version of wasmtime (38.0.3) but doesn't when using <code>main</code>, (29f2a1ca66c849a2d2e533a2df87c221daa8e2de at time of testing). The error is:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>error:<span class=\"w\"> </span>unused<span class=\"w\"> </span><span class=\"sb\">`</span>imports<span class=\"sb\">`</span><span class=\"w\"> </span>rules<span class=\"w\"> </span>found:<span class=\"w\"> </span><span class=\"o\">[</span><span class=\"s2\">\"\\\"example:example/api/foo\\\": FunctionFlags(ASYNC)\"</span><span class=\"o\">]</span>\n<span class=\"w\">  </span>--&gt;<span class=\"w\"> </span>src/main.rs:3:1\n<span class=\"w\">   </span><span class=\"p\">|</span>\n<span class=\"w\"> </span><span class=\"m\">3</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span>/<span class=\"w\"> </span>bindgen!<span class=\"o\">({</span>\n<span class=\"w\"> </span><span class=\"m\">4</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">     </span>world:<span class=\"w\"> </span><span class=\"s2\">\"bar\"</span>,\n<span class=\"w\"> </span><span class=\"m\">5</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">     </span>inline:<span class=\"w\"> </span><span class=\"s2\">\"</span>\n<span class=\"s2\"> 6 | |     package example:example;</span>\n<span class=\"s2\">...  |</span>\n<span class=\"s2\">19 | | });</span>\n<span class=\"s2\">   | |__^</span>\n<span class=\"s2\">   |</span>\n<span class=\"s2\">   = note: this error originates in the macro `bindgen` (in Nightly builds, run with -Z macro-backtrace for more info)</span>\n</code></pre></div>\n</blockquote>",
        "id": 553909164,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762361061
    },
    {
        "content": "<p><a href=\"https://github.com/anlavandier\">anlavandier</a> added the bug label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11985\">Issue #11985</a>.</p>",
        "id": 553909167,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762361062
    },
    {
        "content": "<p>anlavandier edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11985\">issue #11985</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<div class=\"codehilite\" data-code-language=\"TOML\"><pre><span></span><code><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"s2\">\"38\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">default-features</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">features</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">\"runtime\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"component-model\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"async\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"p\">}</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">use</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"p\">::</span><span class=\"n\">component</span><span class=\"p\">::</span><span class=\"n\">bindgen</span><span class=\"p\">;</span>\n\n<span class=\"n\">bindgen</span><span class=\"o\">!</span><span class=\"p\">({</span>\n<span class=\"w\">    </span><span class=\"n\">world</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"bar\"</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">inline</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"</span>\n<span class=\"s\">    package example:example;</span>\n\n<span class=\"s\">    interface api {</span>\n<span class=\"s\">        foo: func();</span>\n<span class=\"s\">    }</span>\n\n<span class=\"s\">    world bar {</span>\n<span class=\"s\">        import api;</span>\n<span class=\"s\">    }</span>\n<span class=\"s\">    \"</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">imports</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"s\">\"example:example/api/foo\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">async</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n\n<span class=\"k\">fn</span><span class=\"w\"> </span><span class=\"nf\">main</span><span class=\"w\"> </span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>This code compiles with the latest released version of wasmtime (38.0.3) but doesn't when using <code>main</code>, (29f2a1ca66c849a2d2e533a2df87c221daa8e2de at time of testing). The error is:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>error:<span class=\"w\"> </span>unused<span class=\"w\"> </span><span class=\"sb\">`</span>imports<span class=\"sb\">`</span><span class=\"w\"> </span>rules<span class=\"w\"> </span>found:<span class=\"w\"> </span><span class=\"o\">[</span><span class=\"s2\">\"\\\"example:example/api/foo\\\": FunctionFlags(ASYNC)\"</span><span class=\"o\">]</span>\n<span class=\"w\">  </span>--&gt;<span class=\"w\"> </span>src/main.rs:3:1\n<span class=\"w\">   </span><span class=\"p\">|</span>\n<span class=\"w\"> </span><span class=\"m\">3</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span>/<span class=\"w\"> </span>bindgen!<span class=\"o\">({</span>\n<span class=\"w\"> </span><span class=\"m\">4</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">     </span>world:<span class=\"w\"> </span><span class=\"s2\">\"bar\"</span>,\n<span class=\"w\"> </span><span class=\"m\">5</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">     </span>inline:<span class=\"w\"> </span><span class=\"s2\">\"</span>\n<span class=\"s2\"> 6 | |     package example:example;</span>\n<span class=\"s2\">...  |</span>\n<span class=\"s2\">19 | | });</span>\n<span class=\"s2\">   | |__^</span>\n<span class=\"s2\">   |</span>\n<span class=\"s2\">   = note: this error originates in the macro `bindgen` (in Nightly builds, run with -Z macro-backtrace for more info)</span>\n</code></pre></div>\n</blockquote>",
        "id": 553909256,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762361078
    },
    {
        "content": "<p>alexcrichton closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11985\">issue #11985</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<div class=\"codehilite\" data-code-language=\"TOML\"><pre><span></span><code><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"s2\">\"38\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">default-features</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">features</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">\"runtime\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"component-model\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"async\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"p\">}</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">use</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"p\">::</span><span class=\"n\">component</span><span class=\"p\">::</span><span class=\"n\">bindgen</span><span class=\"p\">;</span>\n\n<span class=\"n\">bindgen</span><span class=\"o\">!</span><span class=\"p\">({</span>\n<span class=\"w\">    </span><span class=\"n\">world</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"bar\"</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">inline</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"</span>\n<span class=\"s\">    package example:example;</span>\n\n<span class=\"s\">    interface api {</span>\n<span class=\"s\">        foo: func();</span>\n<span class=\"s\">    }</span>\n\n<span class=\"s\">    world bar {</span>\n<span class=\"s\">        import api;</span>\n<span class=\"s\">    }</span>\n<span class=\"s\">    \"</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">imports</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"s\">\"example:example/api/foo\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">async</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n\n<span class=\"k\">fn</span><span class=\"w\"> </span><span class=\"nf\">main</span><span class=\"w\"> </span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>This code compiles with the latest released version of wasmtime (38.0.3) but doesn't when using <code>main</code>, (29f2a1ca66c849a2d2e533a2df87c221daa8e2de at time of testing). The error is:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>error:<span class=\"w\"> </span>unused<span class=\"w\"> </span><span class=\"sb\">`</span>imports<span class=\"sb\">`</span><span class=\"w\"> </span>rules<span class=\"w\"> </span>found:<span class=\"w\"> </span><span class=\"o\">[</span><span class=\"s2\">\"\\\"example:example/api/foo\\\": FunctionFlags(ASYNC)\"</span><span class=\"o\">]</span>\n<span class=\"w\">  </span>--&gt;<span class=\"w\"> </span>src/main.rs:3:1\n<span class=\"w\">   </span><span class=\"p\">|</span>\n<span class=\"w\"> </span><span class=\"m\">3</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span>/<span class=\"w\"> </span>bindgen!<span class=\"o\">({</span>\n<span class=\"w\"> </span><span class=\"m\">4</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">     </span>world:<span class=\"w\"> </span><span class=\"s2\">\"bar\"</span>,\n<span class=\"w\"> </span><span class=\"m\">5</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">     </span>inline:<span class=\"w\"> </span><span class=\"s2\">\"</span>\n<span class=\"s2\"> 6 | |     package example:example;</span>\n<span class=\"s2\">...  |</span>\n<span class=\"s2\">19 | | });</span>\n<span class=\"s2\">   | |__^</span>\n<span class=\"s2\">   |</span>\n<span class=\"s2\">   = note: this error originates in the macro `bindgen` (in Nightly builds, run with -Z macro-backtrace for more info)</span>\n</code></pre></div>\n</blockquote>",
        "id": 553935209,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762367630
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11985#issuecomment-3492744545\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11985\">issue #11985</a>:</p>\n<blockquote>\n<p>Thanks for the report! I believe you're seeing the impact of <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11947\">https://github.com/bytecodealliance/wasmtime/pull/11947</a>, which is an intentional change, so I'm going to close this. We'll be sure to call this out in the release notes for 39.0.0, however.</p>\n</blockquote>",
        "id": 553935211,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762367630
    }
]