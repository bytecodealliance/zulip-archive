[
    {
        "content": "<p>khagankhan opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a> from <code>khagankhan:rec-mutators</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<ul>\n<li>Add a function import that takes a <code>structref</code> argument to our Wasm binary skeleton</li>\n<li>Add a fuzzer op that calls that new function</li>\n<li>Add a function import for each defined struct type that takes a reference of that type specifically</li>\n<li>Add a fuzzer op that calls these new typed functions</li>\n<li>Generic <code>(type (;4;) (func (param (ref any))))</code> is called after <code>StructNew</code> op instead of <code>Drop</code> to observe that specific struct and also maintain stack discipline.</li>\n<li>Typed versions are called with specific structs of the types</li>\n</ul>\n<hr>\n<p>cc @fitzgen @eeide</p>\n</blockquote>",
        "id": 540342262,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1758236664
    },
    {
        "content": "<p><strong>khagankhan</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>.</p>",
        "id": 540342263,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1758236664
    },
    {
        "content": "<p><strong>khagankhan</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-fuzz-reviewers\">wasmtime-fuzz-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>.</p>",
        "id": 540342264,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1758236664
    },
    {
        "content": "<p>khagankhan updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>.</p>",
        "id": 540343986,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1758237400
    },
    {
        "content": "<p>github-actions[bot] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#issuecomment-3310262017\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>:</p>\n<blockquote>\n<h4>Subscribe to Label Action</h4>\n<p>cc @fitzgen</p>\n<p>&lt;details&gt;<br>\nThis issue or pull request has been labeled: \"fuzzing\"</p>\n<p>Thus the following users have been cc'd because of the following labels:</p>\n<ul>\n<li>fitzgen: fuzzing</li>\n</ul>\n<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>\n<p><a href=\"https://github.com/bytecodealliance/subscribe-to-label-action\">Learn more.</a><br>\n&lt;/details&gt;</p>\n</blockquote>",
        "id": 540359835,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1758248023
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#pullrequestreview-3285944327\">PR review</a>:</p>\n<blockquote>\n<p>Looks good with the below addressed, thanks!</p>\n</blockquote>",
        "id": 542331320,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759253339
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#discussion_r2392303470\">PR review comment</a>:</p>\n<blockquote>\n<p>Would be nice to have a single-sentence comment for readers here describing what this code is doing, so that they don't have to scrutinize it to figure out what is going on. Something like</p>\n<blockquote>\n<p>For each of our concrete struct types, define a function import that takes an argument of that concrete type.</p>\n</blockquote>\n</blockquote>",
        "id": 542331322,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759253339
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#discussion_r2392280133\">PR review comment</a>:</p>\n<blockquote>\n<p>Not necessary in this PR, but it would probably be easier/cleaner down the line to switch from constants to using the <code>wasm_encoder::{Type,Func}Section::len</code> methods to keep track of these things, so that we don't need to update these constants every time we unconditionally add a new type/function.</p>\n<p><a href=\"https://docs.rs/wasm-encoder/latest/wasm_encoder/struct.TypeSection.html#method.len\">https://docs.rs/wasm-encoder/latest/wasm_encoder/struct.TypeSection.html#method.len</a></p>\n</blockquote>",
        "id": 542331323,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759253339
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#discussion_r2392296676\">PR review comment</a>:</p>\n<blockquote>\n<p>You can avoid the wonky <code>.last()</code> stuff by pushing the name after defining the import:</p>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>            let name = format!(\"take_struct_{concrete}\");\n            imports.import(\n                \"\",\n                &amp;name,\n                EntityType::Function(ty_idx),\n            );\n            typed_names.push(name);\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 542331324,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759253339
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#discussion_r2392318112\">PR review comment</a>:</p>\n<blockquote>\n<p>As mentioned earlier, things get a bit simpler and less brittle if we use the <code>len</code> functions on the sections that define index spaces:</p>\n<div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>        let mut functions = FunctionSection::new();\n        let mut exports = ExportSection::new();\n\n        // Define the \"run\" function export.\n        let run_index = functions.len();\n        functions.function(1);\n        exports.export(\"run\", ExportKind::Func, run_index);\n</code></pre></div>\n<p>I think it is worth doing this to avoid adding more opaque <code>&lt;constant&gt; + &lt;count&gt;</code> incantations.</p>\n</blockquote>",
        "id": 542331326,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759253339
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#discussion_r2392292188\">PR review comment</a>:</p>\n<blockquote>\n<p>Empty comment at the end of line?</p>\n</blockquote>",
        "id": 542331328,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759253339
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#discussion_r2392338408\">PR review comment</a>:</p>\n<blockquote>\n<p>Nothing to change in this PR, but I want to point out that these emitted instruction sequences are not our ideal end state. We want to separate <code>struct.new</code> from various <code>call</code>s and <code>drop</code>s and have the existing <code>TableOp::Drop</code> be used to drop struct refs and we want the <code>take_*</code> calls to take a struct ref from the stack, not create a new one to pass to the import. This will require updating the abstract stack representation to track types, however, so it should be left to a follow up PR.</p>\n</blockquote>",
        "id": 542331329,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759253339
    },
    {
        "content": "<p>khagankhan submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#pullrequestreview-3286400031\">PR review</a>.</p>",
        "id": 542350906,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759259971
    },
    {
        "content": "<p>khagankhan created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#discussion_r2392602658\">PR review comment</a>:</p>\n<blockquote>\n<p>Yes, I agree!</p>\n</blockquote>",
        "id": 542350908,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759259971
    },
    {
        "content": "<p>khagankhan <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#issuecomment-3353491260\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>:</p>\n<blockquote>\n<p>Thanks @fitzgen. Working on them!<br>\n</p>\n</blockquote>",
        "id": 542350949,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759259990
    },
    {
        "content": "<p>khagankhan updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>.</p>",
        "id": 545137383,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1760567448
    },
    {
        "content": "<p>khagankhan updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>.</p>",
        "id": 545715852,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1760746342
    },
    {
        "content": "<p>khagankhan <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#issuecomment-3423405828\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>:</p>\n<blockquote>\n<p>@fitzgen @eeide<br>\nReady for review <br>\nChanges</p>\n<ul>\n<li>Split <code>table_ops.rs</code> into separate  modules and renamed to <code>GcOps</code> where applicable</li>\n<li>Addressed prior review feedback</li>\n<li>Ran the fuzzer for ~1 hour and fixed generation bugs discovered</li>\n</ul>\n</blockquote>",
        "id": 546073004,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1760987705
    },
    {
        "content": "<p>fitzgen <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#issuecomment-3423649540\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>:</p>\n<blockquote>\n<p>@khagankhan can you delay the split into multiple modules for a follow up PR that contains nothing but the code motion? Otherwise it makes reading and interpreting the diff very hard, as a reviewer.</p>\n</blockquote>",
        "id": 546091500,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1760992858
    },
    {
        "content": "<p>khagankhan <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#issuecomment-3423686237\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>:</p>\n<blockquote>\n<p>@fitzgen I can do that. However, if you want I can point the code that needs review (that changed other than names)</p>\n</blockquote>",
        "id": 546094148,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1760993701
    },
    {
        "content": "<p>fitzgen <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#issuecomment-3423705232\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>:</p>\n<blockquote>\n<p>I'd prefer to just review one change at a time instead of multiple things, so please split up the PR. Thanks!</p>\n</blockquote>",
        "id": 546095340,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1760994088
    },
    {
        "content": "<p>khagankhan <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#issuecomment-3423709624\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>:</p>\n<blockquote>\n<p>Sure thing! o7</p>\n</blockquote>",
        "id": 546095539,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1760994175
    },
    {
        "content": "<p>khagankhan updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>.</p>",
        "id": 546781428,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1761260834
    },
    {
        "content": "<p>khagankhan updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>.</p>",
        "id": 546788021,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1761265293
    },
    {
        "content": "<p>khagankhan <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#issuecomment-3440082560\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>:</p>\n<blockquote>\n<p>@fitzgen Reverted! Ready for review</p>\n</blockquote>",
        "id": 546788792,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1761265884
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713#pullrequestreview-3429824417\">PR review</a>:</p>\n<blockquote>\n<p>Thanks!</p>\n</blockquote>",
        "id": 554161195,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762453355
    },
    {
        "content": "<p>fitzgen merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11713\">PR #11713</a>.</p>",
        "id": 554166014,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762454955
    }
]