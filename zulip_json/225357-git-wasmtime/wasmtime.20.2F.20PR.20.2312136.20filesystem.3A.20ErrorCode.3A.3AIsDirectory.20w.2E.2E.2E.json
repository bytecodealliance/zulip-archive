[
    {
        "content": "<p>wingo opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a> from <code>wingo:windows-open-dir-with-no-read</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>On Windows, it was possible to return a directory descriptor if READ wasn't in the permissions.  Fixes wasmtime for<br>\n<a href=\"https://github.com/WebAssembly/wasi-testsuite/issues/176\">https://github.com/WebAssembly/wasi-testsuite/issues/176</a>.</p>\n</blockquote>",
        "id": 562435203,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765190767
    },
    {
        "content": "<p><strong>wingo</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-wasi-reviewers\">wasmtime-wasi-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562435204,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765190767
    },
    {
        "content": "<p>wingo <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136#issuecomment-3626295657\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>:</p>\n<blockquote>\n<p>In all honesty I haven't tested on Windows, it's just that this patch should fix the issue.  To repro, check out the <code>prod/testsuite-base</code> branch of <a href=\"https://github.com/WebAssembly/wasi-testsuite\">https://github.com/WebAssembly/wasi-testsuite</a> and run:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">Wcomponent</span><span class=\"o\">-</span><span class=\"n\">model</span><span class=\"o\">-</span><span class=\"k\">async</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">Sp3</span><span class=\"p\">,</span><span class=\"n\">http</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">dir</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">tests</span><span class=\"err\">\\</span><span class=\"n\">rust</span><span class=\"err\">\\</span><span class=\"n\">testsuite</span><span class=\"err\">\\</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasip3</span><span class=\"err\">\\</span><span class=\"n\">fs</span><span class=\"o\">-</span><span class=\"n\">tests</span><span class=\"p\">.</span><span class=\"n\">dir</span><span class=\"p\">::</span><span class=\"n\">fs</span><span class=\"o\">-</span><span class=\"n\">tests</span><span class=\"p\">.</span><span class=\"n\">dir</span><span class=\"sc\">' '</span><span class=\"n\">tests</span><span class=\"err\">\\</span><span class=\"n\">rust</span><span class=\"err\">\\</span><span class=\"n\">testsuite</span><span class=\"err\">\\</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasip3</span><span class=\"err\">\\</span><span class=\"n\">filesystem</span><span class=\"o\">-</span><span class=\"n\">flags</span><span class=\"o\">-</span><span class=\"n\">and</span><span class=\"o\">-</span><span class=\"k\">type</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"o\">'</span>\n</code></pre></div>\n</blockquote>",
        "id": 562436164,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765191061
    },
    {
        "content": "<p>wingo updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562436383,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765191121
    },
    {
        "content": "<p>wingo <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136#issuecomment-3626303834\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>:</p>\n<blockquote>\n<p>Rebased to fix the rustfmt error</p>\n</blockquote>",
        "id": 562436435,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765191138
    },
    {
        "content": "<p>wingo edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562436554,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765191172
    },
    {
        "content": "<p>rvolosatovs submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136#pullrequestreview-3551487820\">PR review</a>.</p>",
        "id": 562440241,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765192372
    },
    {
        "content": "<p>rvolosatovs created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136#discussion_r2598199579\">PR review comment</a>:</p>\n<blockquote>\n<p>doesn't this work?</p>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>            OpenResult::Dir(dir) if !flags.contains(DescriptorFlags::READ) =&gt; Err(ErrorCode::IsDirectory),\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 562440243,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765192372
    },
    {
        "content": "<p>wingo submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136#pullrequestreview-3551546051\">PR review</a>.</p>",
        "id": 562443439,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765193378
    },
    {
        "content": "<p>wingo created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136#discussion_r2598246706\">PR review comment</a>:</p>\n<blockquote>\n<p>Line is too long that way, <code>cargo fmt</code> will want to fold it.  The problem was that match clauses with a guard don't require a comma (I did not know this :) and so <code>rustfmt</code> wants the comma gone, which the patch I just pushed does.</p>\n</blockquote>",
        "id": 562443440,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765193378
    },
    {
        "content": "<p>wingo updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562443551,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765193413
    },
    {
        "content": "<p>rvolosatovs has enabled auto merge for <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562444996,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765193883
    },
    {
        "content": "<p>wingo updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562463738,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765199732
    },
    {
        "content": "<p>wingo <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136#issuecomment-3626905206\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>:</p>\n<blockquote>\n<p>My goodness, there are many CI checks in this project :)  Patch fixes unused-variable warning/error when compiling for Windows.</p>\n</blockquote>",
        "id": 562464045,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765199829
    },
    {
        "content": "<p>rvolosatovs has enabled auto merge for <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562464947,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765200089
    },
    {
        "content": "<p>rvolosatovs <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136#issuecomment-3626930526\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>:</p>\n<blockquote>\n<blockquote>\n<p>My goodness, there are many CI checks in this project :) Patch fixes unused-variable warning/error when compiling for Windows.</p>\n</blockquote>\n<p>You can add <code>prtest:full</code> to commit message description to trigger a full CI run for cases like these</p>\n</blockquote>",
        "id": 562465354,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765200208
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136#issuecomment-3627234014\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>:</p>\n<blockquote>\n<p>Test-wise this is something that'll be caught when updating to the latest wasi-testsuite, right? If so, I think it's ok to skip a test here. Mind leaving a comment though on this match arm explaining that this is sync'ing windows semantics to unix semantics?</p>\n</blockquote>",
        "id": 562482398,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765204562
    },
    {
        "content": "<p>wingo updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562619810,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765267970
    },
    {
        "content": "<p>wingo edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562619847,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765267983
    },
    {
        "content": "<p>wingo edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>:</p>\n<blockquote>\n<p>On Windows, it was possible to return a directory descriptor even if WRITE was in the permissions.  Fixes wasmtime for<br>\n<a href=\"https://github.com/WebAssembly/wasi-testsuite/issues/176\">https://github.com/WebAssembly/wasi-testsuite/issues/176</a>.</p>\n</blockquote>",
        "id": 562619909,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765268007
    },
    {
        "content": "<p>wingo <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136#issuecomment-3630925147\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>:</p>\n<blockquote>\n<p>I had misremembered the nature of this error, my apologies.  The problem is not the lack of READ, it's the presence of WRITE; see <a href=\"https://pubs.opengroup.org/onlinepubs/9699919799/#:~:text=EISDIR\">the <code>open</code> specification</a>.  Thank you for your patience.</p>\n</blockquote>",
        "id": 562620101,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765268079
    },
    {
        "content": "<p>wingo updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562622007,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765268781
    },
    {
        "content": "<p><strong>wingo</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562622008,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765268781
    },
    {
        "content": "<p><strong>wingo</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562622009,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765268781
    },
    {
        "content": "<p>wingo updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562644046,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765275300
    },
    {
        "content": "<p>wingo updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562645966,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765275840
    },
    {
        "content": "<p>wingo <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136#issuecomment-3631728279\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>:</p>\n<blockquote>\n<p>Lordie me, this PR has been an education for me, thanks all for patience.  Ready now (again).</p>\n</blockquote>",
        "id": 562658660,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765279372
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136#issuecomment-3632893622\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>:</p>\n<blockquote>\n<p>Anything in particular we could make easier on our end? Or more of a \"lots of stuff to discover\" kind of education?</p>\n</blockquote>",
        "id": 562718117,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765294470
    },
    {
        "content": "<p>alexcrichton merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>.</p>",
        "id": 562726416,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765296138
    },
    {
        "content": "<p>wingo <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136#issuecomment-3636158701\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>:</p>\n<blockquote>\n<blockquote>\n<p>Anything in particular we could make easier on our end? Or more of a \"lots of stuff to discover\" kind of education?</p>\n</blockquote>\n<p>Oh, I think things are pretty good on the wasmtime side, just that there were a number of considerations that I didn't fully grasp (the history of wasi versions and their implementations, the layers of error codes (std::io vs ErrorCode etc), the specificities of how CI works here...).</p>\n<p>So things are good.  Marginal improvements can be made tho:</p>\n<ul>\n<li>I didn't know about prtest:full, many thanks to @rvolosatovs; perhaps worth mentioning this when a merge fails, so as to avoid multiple merge failures</li>\n<li>Would be nice to be able to manually re-run tests that failed, or choose specific jobs, as in chromium's review system (image attached)</li>\n<li>It could make sense that if a PR includes a line that removes or adds cfg(), that we select the full build matrix</li>\n<li>One has to click through a few things to get to build errors (the list of checks, scroll to bad job, click, scroll down in the logs enough so that they are all loaded, search for a term); perhaps some summarization is possible</li>\n</ul>\n<p>But like I say things are good, and thank you and Roman for your help &amp; patience &lt;3</p>\n<p>&lt;img width=\"753\" height=\"1496\" alt=\"image\" src=\"<a href=\"https://github.com/user-attachments/assets/3efde466-7243-473b-8073-36cc729fd2f6\">https://github.com/user-attachments/assets/3efde466-7243-473b-8073-36cc729fd2f6</a>\" /&gt;</p>\n</blockquote>",
        "id": 562908792,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765359012
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136#issuecomment-3637881735\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12136\">PR #12136</a>:</p>\n<blockquote>\n<p>Heh all very good points! (and thanks for writing them out)</p>\n<p>To a large degree we're subject to the whims of github/github actions here insofar as that's only but so configurable. Otherwise addressing much of what you lay out (which I agree would all be great to have...) would require a bot/webhooks/etc with Wasmtime-specific integration. We haven't quite crossed such a threshold yet so we don't have such a bot ready to go (e.g. I've seen similar bots in the Rust/LLVM projects), and I at least don't personally know how to set up such a bot easily-ish alas :(</p>\n</blockquote>",
        "id": 562995583,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765383447
    }
]