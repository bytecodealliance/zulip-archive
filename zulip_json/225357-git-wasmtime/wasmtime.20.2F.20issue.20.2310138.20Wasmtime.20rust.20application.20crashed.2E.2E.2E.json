[
    {
        "content": "<p><a href=\"https://github.com/ggjjj\">ggjjj</a> added the bug label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">Issue #10138</a>.</p>",
        "id": 496382014,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738083607
    },
    {
        "content": "<p>ggjjj opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<h3>Steps to Reproduce</h3>\n<p>Create a rust application with wasmtime engine and enable debug flag. <br>\n    let mut engine_config = EngineConfig::default();<br>\n    engine_config.debug_info(true);</p>\n<h3>Expected Results</h3>\n<p>Breakpoint continues successfully instead of crashing of application</p>\n<h3>Actual Results</h3>\n<p>Segfault into</p>\n<p>__attribute__((weak, noinline))<br>\n#endif<br>\n    void __jit_debug_register_code() {<br>\n#ifndef CFG_TARGET_OS_windows<br>\n  __asm__(\"\");<br>\n#endif<br>\n}</p>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: 25.0.2</p>\n<p>Operating system:  Ubuntu</p>\n<p>Architecture: x86_64</p>\n<h3>Extra Info</h3>\n<p>Anything else you'd like to add?<br>\n</p>\n</blockquote>",
        "id": 496382017,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738083607
    },
    {
        "content": "<p>ggjjj edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<h3>Steps to Reproduce</h3>\n<p>Create a rust application with wasmtime engine and enable debug flag. <br>\n    let mut engine_config = EngineConfig::default();<br>\n    engine_config.debug_info(true);<br>\n     // create link and insert_components <br>\n    let pre_instance = linker.instantiate_pre(&amp;module)?;</p>\n<p>Note: Cannot share the complete code here want to understand why the sedfaults and crashes are occuring</p>\n<h3>Expected Results</h3>\n<p>Breakpoint with codeLLDB continues successfully instead of crashing of application</p>\n<h3>Actual Results</h3>\n<p>Segfault into</p>\n<p>__attribute__((weak, noinline))<br>\n#endif<br>\n    void __jit_debug_register_code() {<br>\n#ifndef CFG_TARGET_OS_windows<br>\n  __asm__(\"\");<br>\n#endif<br>\n}</p>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: 25.0.2</p>\n<p>Operating system:  Ubuntu</p>\n<p>Architecture: x86_64</p>\n</blockquote>",
        "id": 496382380,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738083703
    },
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138#issuecomment-2619669156\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<p>That function shouldn't be able to segfault. It literally does nothing but return. That function only exists for the debugger to set a breakpoint at and when the breakpoint gets hit have the debugger update it's cache of debuginfo for jitted functions.</p>\n<p>Can you show the actual crash message lldb shows?</p>\n</blockquote>",
        "id": 496390308,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738086137
    },
    {
        "content": "<p>alexcrichton edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<h3>Steps to Reproduce</h3>\n<p>Create a rust application with wasmtime engine and enable debug flag. </p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"k\">mut</span><span class=\"w\"> </span><span class=\"n\">engine_config</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">EngineConfig</span><span class=\"p\">::</span><span class=\"n\">default</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"n\">engine_config</span><span class=\"p\">.</span><span class=\"n\">debug_info</span><span class=\"p\">(</span><span class=\"kc\">true</span><span class=\"p\">);</span>\n<span class=\"w\">     </span><span class=\"c1\">// create link and insert_components</span>\n<span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">pre_instance</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">linker</span><span class=\"p\">.</span><span class=\"n\">instantiate_pre</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">module</span><span class=\"p\">)</span><span class=\"o\">?</span><span class=\"p\">;</span>\n</code></pre></div>\n<p>Note: Cannot share the complete code here want to understand why the sedfaults and crashes are occuring</p>\n<h3>Expected Results</h3>\n<p>Breakpoint with codeLLDB continues successfully instead of crashing of application</p>\n<h3>Actual Results</h3>\n<p>Segfault into</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">__attribute__</span><span class=\"p\">((</span><span class=\"n\">weak</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">noinline</span><span class=\"p\">))</span>\n<span class=\"p\">#</span><span class=\"n\">endif</span>\n<span class=\"w\">    </span><span class=\"n\">void</span><span class=\"w\"> </span><span class=\"n\">__jit_debug_register_code</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"p\">#</span><span class=\"n\">ifndef</span><span class=\"w\"> </span><span class=\"n\">CFG_TARGET_OS_windows</span>\n<span class=\"w\">  </span><span class=\"n\">__asm__</span><span class=\"p\">(</span><span class=\"s\">\"\"</span><span class=\"p\">);</span>\n<span class=\"p\">#</span><span class=\"n\">endif</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: 25.0.2</p>\n<p>Operating system:  Ubuntu</p>\n<p>Architecture: x86_64</p>\n</blockquote>",
        "id": 496406355,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738091396
    },
    {
        "content": "<p>ggjjj edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<h3>Steps to Reproduce</h3>\n<p>Create a rust application with wasmtime engine and enable debug flag. </p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"k\">mut</span><span class=\"w\"> </span><span class=\"n\">engine_config</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">EngineConfig</span><span class=\"p\">::</span><span class=\"n\">default</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"n\">engine_config</span><span class=\"p\">.</span><span class=\"n\">debug_info</span><span class=\"p\">(</span><span class=\"kc\">true</span><span class=\"p\">);</span>\n<span class=\"w\">     </span><span class=\"c1\">// create link and insert_components</span>\n<span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">pre_instance</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">linker</span><span class=\"p\">.</span><span class=\"n\">instantiate_pre</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">module</span><span class=\"p\">)</span><span class=\"o\">?</span><span class=\"p\">;</span>\n</code></pre></div>\n<p>Note: Cannot share the complete code here want to understand why the sedfaults and crashes are occuring</p>\n<h3>Expected Results</h3>\n<p>Breakpoint with codeLLDB continues successfully instead of crashing of application</p>\n<h3>Actual Results</h3>\n<p>Segfault into</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">__attribute__</span><span class=\"p\">((</span><span class=\"n\">weak</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">noinline</span><span class=\"p\">))</span>\n<span class=\"p\">#</span><span class=\"n\">endif</span>\n<span class=\"w\">    </span><span class=\"n\">void</span><span class=\"w\"> </span><span class=\"n\">__jit_debug_register_code</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"p\">#</span><span class=\"n\">ifndef</span><span class=\"w\"> </span><span class=\"n\">CFG_TARGET_OS_windows</span>\n<span class=\"w\">  </span><span class=\"n\">__asm__</span><span class=\"p\">(</span><span class=\"s\">\"\"</span><span class=\"p\">);</span>\n<span class=\"p\">#</span><span class=\"n\">endif</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: 25.0.2</p>\n<p>Operating system:  Ubuntu</p>\n<p>Architecture: x86_64</p>\n<p>Code LLDB extension version : 1.11.3</p>\n<p>lldb version with LLVM - 19.1.7</p>\n</blockquote>",
        "id": 496680981,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738203665
    },
    {
        "content": "<p>ggjjj <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138#issuecomment-2623375333\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<p>Here is some more data. I updated the versions of LLDB and codeLLDB used in the issue description.</p>\n<p>When I launch the rust app which loads multiple modules as a graph, we get the following error</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\"> </span><span class=\"n\">lldb</span><span class=\"o\">-</span><span class=\"mi\">19</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">create</span><span class=\"w\"> </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span>\n<span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">executable</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">x86_64</span><span class=\"p\">).</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">**</span><span class=\"n\">settings</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">plugin</span><span class=\"p\">.</span><span class=\"n\">jit</span><span class=\"o\">-</span><span class=\"n\">loader</span><span class=\"p\">.</span><span class=\"n\">gdb</span><span class=\"p\">.</span><span class=\"n\">enable</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"o\">**</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">run</span>\n<span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"mi\">25109</span><span class=\"w\"> </span><span class=\"n\">launched</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">x86_64</span><span class=\"p\">)</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">49.700</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">starting</span><span class=\"w\"> </span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">49.821</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">pre_instantiating</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">inserting</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"n\">module1</span><span class=\"p\">:</span><span class=\"nc\">v1</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">53.328</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">appr</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">pre_instantiating</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">inserting</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"n\">module2</span><span class=\"p\">:</span><span class=\"nc\">v1</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">56.869</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">pre_instantiating</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">inserting</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"n\">module3</span><span class=\"p\">:</span><span class=\"nc\">v1</span>\n<span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"mi\">25109</span><span class=\"w\"> </span><span class=\"n\">stopped</span>\n<span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"p\">#</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">stop</span><span class=\"w\"> </span><span class=\"n\">reason</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">signal</span><span class=\"w\"> </span><span class=\"n\">SIGTERM</span>\n<span class=\"w\">   </span><span class=\"n\">frame</span><span class=\"w\"> </span><span class=\"p\">#</span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mh\">0x0000555556aac844</span><span class=\"w\"> </span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"err\">`</span><span class=\"n\">__jit_debug_register_code</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">helpers</span><span class=\"p\">.</span><span class=\"n\">c</span><span class=\"p\">:</span><span class=\"mi\">92</span><span class=\"p\">:</span><span class=\"mi\">38</span>\n<span class=\"w\">  </span><span class=\"mi\">89</span><span class=\"w\">   </span><span class=\"c1\">// `asm` statement.</span>\n<span class=\"w\">  </span><span class=\"mi\">90</span><span class=\"w\">   </span><span class=\"n\">__attribute__</span><span class=\"p\">((</span><span class=\"n\">weak</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">noinline</span><span class=\"p\">))</span>\n<span class=\"w\">  </span><span class=\"mi\">91</span><span class=\"w\">   </span><span class=\"p\">#</span><span class=\"n\">endif</span>\n<span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"mi\">92</span><span class=\"w\">       </span><span class=\"n\">void</span><span class=\"w\"> </span><span class=\"n\">__jit_debug_register_code</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">  </span><span class=\"mi\">93</span><span class=\"w\">   </span><span class=\"p\">#</span><span class=\"n\">ifndef</span><span class=\"w\"> </span><span class=\"n\">CFG_TARGET_OS_windows</span>\n<span class=\"w\">  </span><span class=\"mi\">94</span><span class=\"w\">     </span><span class=\"n\">__asm__</span><span class=\"p\">(</span><span class=\"s\">\"\"</span><span class=\"p\">);</span>\n<span class=\"w\">  </span><span class=\"mi\">95</span><span class=\"w\">   </span><span class=\"p\">#</span><span class=\"n\">endif</span>\n</code></pre></div>\n</blockquote>",
        "id": 496681309,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738203817
    },
    {
        "content": "<p>ggjjj <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138#issuecomment-2623377556\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<p><strong>Call stack image while doing visual breakpoint debugging</strong></p>\n<p>![Image](<a href=\"https://github.com/user-attachments/assets/c41eaf92-5b11-49b2-99fa-3df0e4d56cbf\">https://github.com/user-attachments/assets/c41eaf92-5b11-49b2-99fa-3df0e4d56cbf</a>)</p>\n<p><strong>crash message in debug console</strong></p>\n<p>![Image](<a href=\"https://github.com/user-attachments/assets/44397d62-56d4-4a61-b664-9faf4cfc7291\">https://github.com/user-attachments/assets/44397d62-56d4-4a61-b664-9faf4cfc7291</a>)</p>\n<p><strong>segfault in the code</strong></p>\n<p>![Image](<a href=\"https://github.com/user-attachments/assets/74363367-aa01-4dc6-b3a7-184c3a0310bb\">https://github.com/user-attachments/assets/74363367-aa01-4dc6-b3a7-184c3a0310bb</a>)</p>\n</blockquote>",
        "id": 496681478,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738203946
    },
    {
        "content": "<p>ggjjj edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138#issuecomment-2623375333\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<p>Here is some more data. I updated the versions of LLDB and codeLLDB used in the issue description.</p>\n<p>When I launch the rust app which loads multiple modules as a graph, we get the following error when launched lldb via terminal.</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\"> </span><span class=\"n\">lldb</span><span class=\"o\">-</span><span class=\"mi\">19</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">create</span><span class=\"w\"> </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span>\n<span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">executable</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">x86_64</span><span class=\"p\">).</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">**</span><span class=\"n\">settings</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">plugin</span><span class=\"p\">.</span><span class=\"n\">jit</span><span class=\"o\">-</span><span class=\"n\">loader</span><span class=\"p\">.</span><span class=\"n\">gdb</span><span class=\"p\">.</span><span class=\"n\">enable</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"o\">**</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">run</span>\n<span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"mi\">25109</span><span class=\"w\"> </span><span class=\"n\">launched</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">x86_64</span><span class=\"p\">)</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">49.700</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">starting</span><span class=\"w\"> </span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">49.821</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">pre_instantiating</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">inserting</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"n\">module1</span><span class=\"p\">:</span><span class=\"nc\">v1</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">53.328</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">appr</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">pre_instantiating</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">inserting</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"n\">module2</span><span class=\"p\">:</span><span class=\"nc\">v1</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">56.869</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">pre_instantiating</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">inserting</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"n\">module3</span><span class=\"p\">:</span><span class=\"nc\">v1</span>\n<span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"mi\">25109</span><span class=\"w\"> </span><span class=\"n\">stopped</span>\n<span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"p\">#</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">stop</span><span class=\"w\"> </span><span class=\"n\">reason</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">signal</span><span class=\"w\"> </span><span class=\"n\">SIGTERM</span>\n<span class=\"w\">   </span><span class=\"n\">frame</span><span class=\"w\"> </span><span class=\"p\">#</span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mh\">0x0000555556aac844</span><span class=\"w\"> </span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"err\">`</span><span class=\"n\">__jit_debug_register_code</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">helpers</span><span class=\"p\">.</span><span class=\"n\">c</span><span class=\"p\">:</span><span class=\"mi\">92</span><span class=\"p\">:</span><span class=\"mi\">38</span>\n<span class=\"w\">  </span><span class=\"mi\">89</span><span class=\"w\">   </span><span class=\"c1\">// `asm` statement.</span>\n<span class=\"w\">  </span><span class=\"mi\">90</span><span class=\"w\">   </span><span class=\"n\">__attribute__</span><span class=\"p\">((</span><span class=\"n\">weak</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">noinline</span><span class=\"p\">))</span>\n<span class=\"w\">  </span><span class=\"mi\">91</span><span class=\"w\">   </span><span class=\"p\">#</span><span class=\"n\">endif</span>\n<span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"mi\">92</span><span class=\"w\">       </span><span class=\"n\">void</span><span class=\"w\"> </span><span class=\"n\">__jit_debug_register_code</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">  </span><span class=\"mi\">93</span><span class=\"w\">   </span><span class=\"p\">#</span><span class=\"n\">ifndef</span><span class=\"w\"> </span><span class=\"n\">CFG_TARGET_OS_windows</span>\n<span class=\"w\">  </span><span class=\"mi\">94</span><span class=\"w\">     </span><span class=\"n\">__asm__</span><span class=\"p\">(</span><span class=\"s\">\"\"</span><span class=\"p\">);</span>\n<span class=\"w\">  </span><span class=\"mi\">95</span><span class=\"w\">   </span><span class=\"p\">#</span><span class=\"n\">endif</span>\n</code></pre></div>\n</blockquote>",
        "id": 496681548,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738203976
    },
    {
        "content": "<p>ggjjj edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138#issuecomment-2623375333\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<p>Here is some more data. I updated the versions of LLDB and codeLLDB used in the issue description and also enabled this flag <strong>settings set plugin.jit-loader.gdb.enable on</strong></p>\n<p>When I launch the rust app which loads multiple modules as a graph, we get the following error when launched lldb via terminal.</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\"> </span><span class=\"n\">lldb</span><span class=\"o\">-</span><span class=\"mi\">19</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">create</span><span class=\"w\"> </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span>\n<span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">executable</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">x86_64</span><span class=\"p\">).</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">settings</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">plugin</span><span class=\"p\">.</span><span class=\"n\">jit</span><span class=\"o\">-</span><span class=\"n\">loader</span><span class=\"p\">.</span><span class=\"n\">gdb</span><span class=\"p\">.</span><span class=\"n\">enable</span><span class=\"w\"> </span><span class=\"n\">on</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">run</span>\n<span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"mi\">25109</span><span class=\"w\"> </span><span class=\"n\">launched</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">x86_64</span><span class=\"p\">)</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">49.700</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">starting</span><span class=\"w\"> </span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">49.821</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">pre_instantiating</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">inserting</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"n\">module1</span><span class=\"p\">:</span><span class=\"nc\">v1</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">53.328</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">appr</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">pre_instantiating</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">inserting</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"n\">module2</span><span class=\"p\">:</span><span class=\"nc\">v1</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">56.869</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">pre_instantiating</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">inserting</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"n\">module3</span><span class=\"p\">:</span><span class=\"nc\">v1</span>\n<span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"mi\">25109</span><span class=\"w\"> </span><span class=\"n\">stopped</span>\n<span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"p\">#</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">stop</span><span class=\"w\"> </span><span class=\"n\">reason</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">signal</span><span class=\"w\"> </span><span class=\"n\">SIGTERM</span>\n<span class=\"w\">   </span><span class=\"n\">frame</span><span class=\"w\"> </span><span class=\"p\">#</span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mh\">0x0000555556aac844</span><span class=\"w\"> </span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"err\">`</span><span class=\"n\">__jit_debug_register_code</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">helpers</span><span class=\"p\">.</span><span class=\"n\">c</span><span class=\"p\">:</span><span class=\"mi\">92</span><span class=\"p\">:</span><span class=\"mi\">38</span>\n<span class=\"w\">  </span><span class=\"mi\">89</span><span class=\"w\">   </span><span class=\"c1\">// `asm` statement.</span>\n<span class=\"w\">  </span><span class=\"mi\">90</span><span class=\"w\">   </span><span class=\"n\">__attribute__</span><span class=\"p\">((</span><span class=\"n\">weak</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">noinline</span><span class=\"p\">))</span>\n<span class=\"w\">  </span><span class=\"mi\">91</span><span class=\"w\">   </span><span class=\"p\">#</span><span class=\"n\">endif</span>\n<span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"mi\">92</span><span class=\"w\">       </span><span class=\"n\">void</span><span class=\"w\"> </span><span class=\"n\">__jit_debug_register_code</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">  </span><span class=\"mi\">93</span><span class=\"w\">   </span><span class=\"p\">#</span><span class=\"n\">ifndef</span><span class=\"w\"> </span><span class=\"n\">CFG_TARGET_OS_windows</span>\n<span class=\"w\">  </span><span class=\"mi\">94</span><span class=\"w\">     </span><span class=\"n\">__asm__</span><span class=\"p\">(</span><span class=\"s\">\"\"</span><span class=\"p\">);</span>\n<span class=\"w\">  </span><span class=\"mi\">95</span><span class=\"w\">   </span><span class=\"p\">#</span><span class=\"n\">endif</span>\n</code></pre></div>\n</blockquote>",
        "id": 496681662,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738204065
    },
    {
        "content": "<p>ggjjj edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138#issuecomment-2623375333\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<p>Here is some more data. I updated the versions of LLDB and codeLLDB used in the issue description and also enabled this flag <code>settings set plugin.jit-loader.gdb.enable on</code></p>\n<p>When I launch the rust app which loads multiple modules as a graph, we get the following error when launched lldb via terminal.</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\"> </span><span class=\"n\">lldb</span><span class=\"o\">-</span><span class=\"mi\">19</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">create</span><span class=\"w\"> </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span>\n<span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">executable</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">x86_64</span><span class=\"p\">).</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">settings</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">plugin</span><span class=\"p\">.</span><span class=\"n\">jit</span><span class=\"o\">-</span><span class=\"n\">loader</span><span class=\"p\">.</span><span class=\"n\">gdb</span><span class=\"p\">.</span><span class=\"n\">enable</span><span class=\"w\"> </span><span class=\"n\">on</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">run</span>\n<span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"mi\">25109</span><span class=\"w\"> </span><span class=\"n\">launched</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">x86_64</span><span class=\"p\">)</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">49.700</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">starting</span><span class=\"w\"> </span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">49.821</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">pre_instantiating</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">inserting</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"n\">module1</span><span class=\"p\">:</span><span class=\"nc\">v1</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">53.328</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">appr</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">pre_instantiating</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">inserting</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"n\">module2</span><span class=\"p\">:</span><span class=\"nc\">v1</span>\n<span class=\"o\">&lt;</span><span class=\"mi\">6</span><span class=\"o\">&gt;</span><span class=\"mi\">2025</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">30</span><span class=\"n\">T00</span><span class=\"p\">:</span><span class=\"mi\">29</span><span class=\"p\">:</span><span class=\"mf\">56.869</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codespaces</span><span class=\"o\">-</span><span class=\"n\">a5dc2f</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">@</span><span class=\"mi\">311</span><span class=\"w\"> </span><span class=\"n\">tid</span><span class=\"o\">=</span><span class=\"s\">\"25109\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">pre_instantiating</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">inserting</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"n\">module3</span><span class=\"p\">:</span><span class=\"nc\">v1</span>\n<span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"mi\">25109</span><span class=\"w\"> </span><span class=\"n\">stopped</span>\n<span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"p\">#</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">stop</span><span class=\"w\"> </span><span class=\"n\">reason</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">signal</span><span class=\"w\"> </span><span class=\"n\">SIGTERM</span>\n<span class=\"w\">   </span><span class=\"n\">frame</span><span class=\"w\"> </span><span class=\"p\">#</span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mh\">0x0000555556aac844</span><span class=\"w\"> </span><span class=\"n\">host</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"err\">`</span><span class=\"n\">__jit_debug_register_code</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">helpers</span><span class=\"p\">.</span><span class=\"n\">c</span><span class=\"p\">:</span><span class=\"mi\">92</span><span class=\"p\">:</span><span class=\"mi\">38</span>\n<span class=\"w\">  </span><span class=\"mi\">89</span><span class=\"w\">   </span><span class=\"c1\">// `asm` statement.</span>\n<span class=\"w\">  </span><span class=\"mi\">90</span><span class=\"w\">   </span><span class=\"n\">__attribute__</span><span class=\"p\">((</span><span class=\"n\">weak</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">noinline</span><span class=\"p\">))</span>\n<span class=\"w\">  </span><span class=\"mi\">91</span><span class=\"w\">   </span><span class=\"p\">#</span><span class=\"n\">endif</span>\n<span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"mi\">92</span><span class=\"w\">       </span><span class=\"n\">void</span><span class=\"w\"> </span><span class=\"n\">__jit_debug_register_code</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">  </span><span class=\"mi\">93</span><span class=\"w\">   </span><span class=\"p\">#</span><span class=\"n\">ifndef</span><span class=\"w\"> </span><span class=\"n\">CFG_TARGET_OS_windows</span>\n<span class=\"w\">  </span><span class=\"mi\">94</span><span class=\"w\">     </span><span class=\"n\">__asm__</span><span class=\"p\">(</span><span class=\"s\">\"\"</span><span class=\"p\">);</span>\n<span class=\"w\">  </span><span class=\"mi\">95</span><span class=\"w\">   </span><span class=\"p\">#</span><span class=\"n\">endif</span>\n</code></pre></div>\n</blockquote>",
        "id": 496681672,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738204080
    },
    {
        "content": "<p>cfallin <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138#issuecomment-2623434143\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<p><code>SIGTERM</code> is not a segfault; that usually indicates that something external to the process has killed it. Can you tell us anything more about your embedding/surrounding application or the environment it runs in? Otherwise, all we have to go on is \"call to empty function ends in SIGTERM\" which unfortunately doesn't point in any useful direction (as far as I can tell at least!).</p>\n</blockquote>",
        "id": 496686159,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738207447
    },
    {
        "content": "<p>cfallin <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138#issuecomment-2623437026\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<p>Actually, going off of what @bjorn3 said above</p>\n<blockquote>\n<p>That function only exists for the debugger to set a breakpoint at and when the breakpoint gets hit have the debugger update it's cache of debuginfo for jitted functions.</p>\n</blockquote>\n<p>Perhaps this is working as intended: lldb does, indeed, stop with a signal at that function. You're observing internal debugging plumbing in that case. Can you continue (<code>c</code>) to further execution?</p>\n</blockquote>",
        "id": 496686390,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738207629
    },
    {
        "content": "<p>ggjjj <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138#issuecomment-2628619000\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<blockquote>\n<p>Actually, going off of what <a href=\"https://github.com/bjorn3\">@bjorn3</a> said above</p>\n<blockquote>\n<p>That function only exists for the debugger to set a breakpoint at and when the breakpoint gets hit have the debugger update it's cache of debuginfo for jitted functions.</p>\n</blockquote>\n<p>Perhaps this is working as intended: lldb does, indeed, stop with a signal at that function. You're observing internal debugging plumbing in that case. Can you continue (<code>c</code>) to further execution?</p>\n</blockquote>\n<p>I tried this and the process exits after sometime. I tried to set breakpoint on exits and aborts to see what causes the exit but nothing hits the breakpoint on exit. so Not sure what is making the process to exit</p>\n</blockquote>",
        "id": 497111869,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738369900
    },
    {
        "content": "<p>ggjjj <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138#issuecomment-2628620030\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<blockquote>\n<p><code>SIGTERM</code> is not a segfault; that usually indicates that something external to the process has killed it. Can you tell us anything more about your embedding/surrounding application or the environment it runs in? Otherwise, all we have to go on is \"call to empty function ends in SIGTERM\" which unfortunately doesn't point in any useful direction (as far as I can tell at least!).</p>\n</blockquote>\n<p>what can cause <code>SIGTERM</code> ? is there a way to find from call stack? The application is in rust which configures the wasmtime in debug mode and loads three wasm component models </p>\n</blockquote>",
        "id": 497111999,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738369972
    },
    {
        "content": "<p>ggjjj edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138#issuecomment-2628620030\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<blockquote>\n<p><code>SIGTERM</code> is not a segfault; that usually indicates that something external to the process has killed it. Can you tell us anything more about your embedding/surrounding application or the environment it runs in? Otherwise, all we have to go on is \"call to empty function ends in SIGTERM\" which unfortunately doesn't point in any useful direction (as far as I can tell at least!).</p>\n</blockquote>\n<p>what can cause <code>SIGTERM</code> ? is there a way to find from call stack? The application is in rust which configures the wasmtime in debug mode and loads three wasm component models </p>\n<p>Call stack image updated</p>\n<p>![Image](<a href=\"https://github.com/user-attachments/assets/091a1cfd-7c73-4534-a93f-9273d3d8649d\">https://github.com/user-attachments/assets/091a1cfd-7c73-4534-a93f-9273d3d8649d</a>)</p>\n</blockquote>",
        "id": 497112040,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738369997
    },
    {
        "content": "<p>cfallin <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138#issuecomment-2628705749\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<blockquote>\n<p>what can cause SIGTERM ? is there a way to find from call stack?</p>\n</blockquote>\n<p>In general, the <code>kill()</code> syscall; another process needs to send it, Wasmtime will not send it to itself or perform any action that causes it to be sent. (To quote <a href=\"https://unix.stackexchange.com/questions/10231/when-does-the-system-send-a-sigterm-to-a-process\">this StackOverflow answer</a>, \"If a process receives SIGTERM, some other process sent that signal.\") I'm not sure about determining where it was sent from -- in your broader application maybe there is something you could <code>strace</code>, or maybe you could use eBPF kprobes and instrument the <code>kill</code> syscall to print a log message. I'm afraid I can't help too much more without knowing more about your application, sorry.</p>\n</blockquote>",
        "id": 497121152,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1738377391
    },
    {
        "content": "<p>alexcrichton closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<h3>Steps to Reproduce</h3>\n<p>Create a rust application with wasmtime engine and enable debug flag. </p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"k\">mut</span><span class=\"w\"> </span><span class=\"n\">engine_config</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">EngineConfig</span><span class=\"p\">::</span><span class=\"n\">default</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"n\">engine_config</span><span class=\"p\">.</span><span class=\"n\">debug_info</span><span class=\"p\">(</span><span class=\"kc\">true</span><span class=\"p\">);</span>\n<span class=\"w\">     </span><span class=\"c1\">// create link and insert_components</span>\n<span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">pre_instance</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">linker</span><span class=\"p\">.</span><span class=\"n\">instantiate_pre</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">module</span><span class=\"p\">)</span><span class=\"o\">?</span><span class=\"p\">;</span>\n</code></pre></div>\n<p>Note: Cannot share the complete code here want to understand why the sedfaults and crashes are occuring</p>\n<h3>Expected Results</h3>\n<p>Breakpoint with codeLLDB continues successfully instead of crashing of application</p>\n<h3>Actual Results</h3>\n<p>Segfault into</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">__attribute__</span><span class=\"p\">((</span><span class=\"n\">weak</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">noinline</span><span class=\"p\">))</span>\n<span class=\"p\">#</span><span class=\"n\">endif</span>\n<span class=\"w\">    </span><span class=\"n\">void</span><span class=\"w\"> </span><span class=\"n\">__jit_debug_register_code</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"p\">#</span><span class=\"n\">ifndef</span><span class=\"w\"> </span><span class=\"n\">CFG_TARGET_OS_windows</span>\n<span class=\"w\">  </span><span class=\"n\">__asm__</span><span class=\"p\">(</span><span class=\"s\">\"\"</span><span class=\"p\">);</span>\n<span class=\"p\">#</span><span class=\"n\">endif</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: 25.0.2</p>\n<p>Operating system:  Ubuntu</p>\n<p>Architecture: x86_64</p>\n<p>Code LLDB extension version : 1.11.3</p>\n<p>lldb version with LLVM - 19.1.7</p>\n</blockquote>",
        "id": 516495510,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1746551545
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138#issuecomment-2855337708\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10138\">issue #10138</a>:</p>\n<blockquote>\n<p>I think this has more-or-less been answered as not an issue on the Wasmtime side, so I'm going to close this.</p>\n</blockquote>",
        "id": 516495514,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1746551546
    }
]