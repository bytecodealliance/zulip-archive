[
    {
        "content": "<p>LeoBorai opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12224\">issue #12224</a>:</p>\n<blockquote>\n<p>Hi folks, I'm writing a solution to run WASM files using wasmtime, I use WIT to define a <code>handler</code> function which I'm expecting to call from my solution (host) through using wasmtime.</p>\n<p>I have the following WIT definitions from the binary WASM file I've builded:</p>\n<div class=\"codehilite\" data-code-language=\"wit\"><pre><span></span><code>// ...\npackage wasi:random@0.2.6 {\n  interface insecure-seed {\n    insecure-seed: func() -&gt; tuple&lt;u64, u64&gt;;\n  }\n}\n\n\npackage mate:runtime@0.1.0 {\n  interface api {\n    handler: async func(data: string) -&gt; result&lt;string, string&gt;;\n  }\n}\n</code></pre></div>\n<p>The following code attempts to use the <code>wasm_module</code>, retrieves the function using <code>get_typed_func::&lt;(String,), (Result&lt;String, String&gt;,)&gt;</code> and runs it.</p>\n<p><a href=\"https://github.com/LeoBorai/mate/blob/29cd999d3190aece902d9dd79becd817c9afd639/src/runner/src/lib.rs#L46-L77\">https://github.com/LeoBorai/mate/blob/29cd999d3190aece902d9dd79becd817c9afd639/src/runner/src/lib.rs#L46-L77</a></p>\n<p>The name used for the function is the following:</p>\n<p><a href=\"https://github.com/LeoBorai/mate/blob/29cd999d3190aece902d9dd79becd817c9afd639/src/runner/src/lib.rs#L8-L10\">https://github.com/LeoBorai/mate/blob/29cd999d3190aece902d9dd79becd817c9afd639/src/runner/src/lib.rs#L8-L10</a></p>\n<p>When I try to run it I get the following error:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">Function</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">mate</span><span class=\"p\">:</span><span class=\"nc\">runtime</span><span class=\"o\">@</span><span class=\"mf\">0.1.0</span><span class=\"o\">/</span><span class=\"n\">api</span><span class=\"p\">#</span><span class=\"n\">handler</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">found</span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">find</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"n\">export</span>\n</code></pre></div>\n<p>I have tried with different names:</p>\n<ul>\n<li>Skipping package name: <code>api#handler</code></li>\n<li>Using function name directly: <code>handler</code></li>\n</ul>\n<p>But it fails with the same error.</p>\n<p>Thanks in advance!</p>\n<h2>Reference Code</h2>\n<p>The whole implementation lies on this branch:</p>\n<p><a href=\"https://github.com/LeoBorai/mate/tree/1-async-wasm-execution\">https://github.com/LeoBorai/mate/tree/1-async-wasm-execution</a></p>\n</blockquote>",
        "id": 565582538,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766945221
    },
    {
        "content": "<p>LeoBorai <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12224#issuecomment-3702853731\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12224\">issue #12224</a>:</p>\n<blockquote>\n<p>Hi folks! I've resolved the issue was on my side.</p>\n<p>Using <code>wasm-tools</code> made debugging the output far easier.</p>\n<p>Thanks so much and HNY!</p>\n</blockquote>",
        "id": 565930137,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767212607
    },
    {
        "content": "<p>LeoBorai closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12224\">issue #12224</a>:</p>\n<blockquote>\n<p>Hi folks, I'm writing a solution to run WASM files using wasmtime, I use WIT to define a <code>handler</code> function which I'm expecting to call from my solution (host) through using wasmtime.</p>\n<p>I have the following WIT definitions from the binary WASM file I've builded:</p>\n<div class=\"codehilite\" data-code-language=\"wit\"><pre><span></span><code>// ...\npackage wasi:random@0.2.6 {\n  interface insecure-seed {\n    insecure-seed: func() -&gt; tuple&lt;u64, u64&gt;;\n  }\n}\n\n\npackage mate:runtime@0.1.0 {\n  interface api {\n    handler: async func(data: string) -&gt; result&lt;string, string&gt;;\n  }\n}\n</code></pre></div>\n<p>The following code attempts to use the <code>wasm_module</code>, retrieves the function using <code>get_typed_func::&lt;(String,), (Result&lt;String, String&gt;,)&gt;</code> and runs it.</p>\n<p><a href=\"https://github.com/LeoBorai/mate/blob/29cd999d3190aece902d9dd79becd817c9afd639/src/runner/src/lib.rs#L46-L77\">https://github.com/LeoBorai/mate/blob/29cd999d3190aece902d9dd79becd817c9afd639/src/runner/src/lib.rs#L46-L77</a></p>\n<p>The name used for the function is the following:</p>\n<p><a href=\"https://github.com/LeoBorai/mate/blob/29cd999d3190aece902d9dd79becd817c9afd639/src/runner/src/lib.rs#L8-L10\">https://github.com/LeoBorai/mate/blob/29cd999d3190aece902d9dd79becd817c9afd639/src/runner/src/lib.rs#L8-L10</a></p>\n<p>When I try to run it I get the following error:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">Function</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">mate</span><span class=\"p\">:</span><span class=\"nc\">runtime</span><span class=\"o\">@</span><span class=\"mf\">0.1.0</span><span class=\"o\">/</span><span class=\"n\">api</span><span class=\"p\">#</span><span class=\"n\">handler</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">found</span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">find</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"n\">export</span>\n</code></pre></div>\n<p>I have tried with different names:</p>\n<ul>\n<li>Skipping package name: <code>api#handler</code></li>\n<li>Using function name directly: <code>handler</code></li>\n</ul>\n<p>But it fails with the same error.</p>\n<p>Thanks in advance!</p>\n<h2>Reference Code</h2>\n<p>The whole implementation lies on this branch:</p>\n<p><a href=\"https://github.com/LeoBorai/mate/tree/1-async-wasm-execution\">https://github.com/LeoBorai/mate/tree/1-async-wasm-execution</a></p>\n</blockquote>",
        "id": 565930143,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767212613
    }
]