[
    {
        "content": "<p>khagankhan opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a> from <code>khagankhan:stack-types</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<h1>Stack fixup</h1>\n<p>We currently have every instruction balanced itself  (for example, if an op leaves a struct onto the stack it immediately calls a function that consumes that struct) like we did for our generative fuzzer. However, for mutation based fuzzers this may have some bias.</p>\n<p>This PR removes that and fixes the stack in the end. It keeps abstract stack types and check the required types then fixes the actual stack. </p>\n<p>+cc @fitzgen @eeide</p>\n</blockquote>",
        "id": 554820131,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762824246
    },
    {
        "content": "<p><strong>khagankhan</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>.</p>",
        "id": 554820132,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762824246
    },
    {
        "content": "<p><strong>khagankhan</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-fuzz-reviewers\">wasmtime-fuzz-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>.</p>",
        "id": 554820134,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762824246
    },
    {
        "content": "<p>khagankhan updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>.</p>",
        "id": 554822809,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762826327
    },
    {
        "content": "<p>khagankhan submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#pullrequestreview-3445938421\">PR review</a>.</p>",
        "id": 554823832,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762827128
    },
    {
        "content": "<p>khagankhan created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2512579165\">PR review comment</a>:</p>\n<blockquote>\n<p>I’d like to remove these “special cases” that require an index. The macro expansion doesn’t accept it and I’d rather not complicate the macro further. If you know a clean way to handle this, please share it with me. I’ll address it in the next PR anyway.</p>\n</blockquote>",
        "id": 554823834,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762827128
    },
    {
        "content": "<p>khagankhan submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#pullrequestreview-3445939427\">PR review</a>.</p>",
        "id": 554823850,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762827144
    },
    {
        "content": "<p>khagankhan created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2512579651\">PR review comment</a>:</p>\n<blockquote>\n<p>Same \"special case\" here</p>\n</blockquote>",
        "id": 554823851,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762827144
    },
    {
        "content": "<p>khagankhan <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#issuecomment-3514687151\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>:</p>\n<blockquote>\n<p>@fitzgen Ready for review!</p>\n</blockquote>",
        "id": 554823891,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762827179
    },
    {
        "content": "<p>github-actions[bot] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#issuecomment-3514886498\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>:</p>\n<blockquote>\n<h4>Subscribe to Label Action</h4>\n<p>cc @fitzgen</p>\n<p>&lt;details&gt;<br>\nThis issue or pull request has been labeled: \"fuzzing\"</p>\n<p>Thus the following users have been cc'd because of the following labels:</p>\n<ul>\n<li>fitzgen: fuzzing</li>\n</ul>\n<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>\n<p><a href=\"https://github.com/bytecodealliance/subscribe-to-label-action\">Learn more.</a><br>\n&lt;/details&gt;</p>\n</blockquote>",
        "id": 554830819,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762833254
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#issuecomment-3530595342\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>:</p>\n<blockquote>\n<p>Thanks! Nick's out this week and I so far haven't had a chance to look at this. I may end up deferring this to Nick when he gets back as I'll otherwise have to boot back up on a lot of context here, but do you have other subsequent PRs ready to go which are built on this and so it'd be good to get this in sooner rather than later?</p>\n</blockquote>",
        "id": 555496238,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763088713
    },
    {
        "content": "<p>khagankhan <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#issuecomment-3530604162\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>:</p>\n<blockquote>\n<p>Hey Alex! I am mostly working on a repo on GitLab where I am ahead. The Wasmtime PRs tend to lag behind my current work because I address comments, failed tests etc. Since Nick and I meet weekly (except this week) and go over everything, I think it makes sense to defer this to him. Thank you for the comment!</p>\n</blockquote>",
        "id": 555496584,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763089055
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/fitzgen\">fitzgen</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>.</p>",
        "id": 555496791,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763089242
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2543318832\">PR review comment</a>:</p>\n<blockquote>\n<p><code>(ref extern)</code> is a different type hierarchy from <code>(ref any)</code>, that is there is no single top type of everything, so there is no function that can take <em>anything</em> and I want to make sure we don't build that assumption in here.</p>\n<p>Backing up a bit: I am a bit confused about this function's purpose and why it is necessary. It seems like we shouldn't ever be changing the stack types, we should be only be doing the opposite: fixing up our ops given the types that are actually on the stack. The former doesn't make sense (we can't change what types are on the stack at this point without changing what instructions we emitted earlier).</p>\n</blockquote>",
        "id": 558288277,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763581263
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2543273672\">PR review comment</a>:</p>\n<blockquote>\n<p>Stylistically, it is quite rare to have the doc comment below the <code>#[...]</code> attributes. Mind reverting this code motion?</p>\n</blockquote>",
        "id": 558288278,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763581263
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2543281714\">PR review comment</a>:</p>\n<blockquote>\n<p>And let's also do an out parameter here as well.</p>\n</blockquote>",
        "id": 558288279,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763581263
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2543302506\">PR review comment</a>:</p>\n<blockquote>\n<p>Let's align with the Wasm spec and call this <code>AnyRef</code>.</p>\n<p>We will eventually want to differentiate between <code>(ref struct)</code> and <code>(ref any)</code> and <code>(ref eq)</code> as well.</p>\n<p>Aside: we will need to track nullability for all our different ref types eventually as well.</p>\n</blockquote>",
        "id": 558288281,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763581264
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#pullrequestreview-3484368384\">PR review</a>:</p>\n<blockquote>\n<p>I'm back now, thanks for your patience!</p>\n</blockquote>",
        "id": 558288282,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763581264
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2543289764\">PR review comment</a>:</p>\n<blockquote>\n<p>Should this still be taking a <code>stack: usize</code> and returning a new <code>usize</code>? Shouldn't it be taking a <code>stack: &amp;mut Vec&lt;StackType&gt;</code> now instead?</p>\n</blockquote>",
        "id": 558288283,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763581264
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2543267280\">PR review comment</a>:</p>\n<blockquote>\n<p>I think this fixing-up of ops should go in <code>GcOp::fixup</code>. We can add <code>num_types</code> as a parameter there. And if <code>num_types == 0</code>, we should probably just remove this op, no? How do we <code>struct.new</code> or call a function that takes a concrete struct reference if we don't define any types?</p>\n</blockquote>",
        "id": 558288285,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763581264
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2543278576\">PR review comment</a>:</p>\n<blockquote>\n<p>To avoid a ton of temporary allocations, and reuse a single allocation instead, let's have this method take a mutable vector as an out parameter:</p>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>            pub(crate) fn operand_types(&amp;self, types: &amp;mut Vec&lt;StackType&gt;) {\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 558288286,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763581264
    },
    {
        "content": "<p>khagankhan submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#pullrequestreview-3526893415\">PR review</a>.</p>",
        "id": 561269346,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764621539
    },
    {
        "content": "<p>khagankhan created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2578568262\">PR review comment</a>:</p>\n<blockquote>\n<p>I am back!!!</p>\n<p>Does this also mean that when we generate a new op, we should also be checking type compatibility, not just maintaining stack depth?</p>\n</blockquote>",
        "id": 561269347,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764621539
    },
    {
        "content": "<p>khagankhan edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2578568262\">PR review comment</a>.</p>",
        "id": 561269378,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764621552
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2578954505\">PR review comment</a>:</p>\n<blockquote>\n<blockquote>\n<p>Does this also mean that when we generate a new op, we should also be checking type compatibility, not just maintaining stack depth?</p>\n</blockquote>\n<p>Yes, we either have to do that (if we continue the existing approach) or else we switch to a new approach and instead just generate a random sequence of arbitrary ops and then rely on the fixup pass to make it valid. The latter might be easier long term, so that there is only one code path we have to maintain.</p>\n<p>But also, backing up, we shouldn't really need to <em>generate</em> op sequences from scratch. The whole point of using a mutation-based paradigm is that we can generate arbitrary inputs via a series of mutations over time. So, instead of generating whole op sequences, we _should_ be able to get away with something like</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">impl</span><span class=\"w\"> </span><span class=\"n\">Generate</span><span class=\"o\">&lt;</span><span class=\"n\">GcOps</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">GcOpsMutator</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"k\">fn</span><span class=\"w\"> </span><span class=\"nf\">generate</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"k\">mut</span><span class=\"w\"> </span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kp\">&amp;</span><span class=\"nc\">mut</span><span class=\"w\"> </span><span class=\"n\">Context</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"nc\">mutatis</span><span class=\"p\">::</span><span class=\"nb\">Result</span><span class=\"o\">&lt;</span><span class=\"n\">GcOps</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"k\">mut</span><span class=\"w\"> </span><span class=\"n\">ops</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">GcOps</span><span class=\"p\">::</span><span class=\"n\">default</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">..</span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"bp\">self</span><span class=\"p\">.</span><span class=\"n\">mutate</span><span class=\"p\">(</span><span class=\"n\">ctx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"k\">mut</span><span class=\"w\"> </span><span class=\"n\">ops</span><span class=\"p\">)</span><span class=\"o\">?</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">        </span><span class=\"nb\">Ok</span><span class=\"p\">(</span><span class=\"n\">ops</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>(And we should probably build the generic version of this into <code>mutatis</code> directly eventually)</p>\n</blockquote>",
        "id": 561288719,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764628593
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#pullrequestreview-3527331029\">PR review</a>.</p>",
        "id": 561288721,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764628593
    },
    {
        "content": "<p>khagankhan submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#pullrequestreview-3527336220\">PR review</a>.</p>",
        "id": 561289062,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764628748
    },
    {
        "content": "<p>khagankhan created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2578959188\">PR review comment</a>:</p>\n<blockquote>\n<p>Awesome! That was the answer I needed. After addressing this I will push</p>\n<p>Thanks a lot</p>\n</blockquote>",
        "id": 561289063,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764628748
    },
    {
        "content": "<p>khagankhan updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>.</p>",
        "id": 568192674,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1768479216
    },
    {
        "content": "<p>khagankhan updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>.</p>",
        "id": 568275982,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1768498584
    },
    {
        "content": "<p>khagankhan updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>.</p>",
        "id": 571336306,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770000111
    },
    {
        "content": "<p>khagankhan <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#issuecomment-3836313997\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>:</p>\n<blockquote>\n<p>@fitzgen Hi! It is ready for the review</p>\n</blockquote>",
        "id": 571476545,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770049981
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#pullrequestreview-3741989100\">PR review</a>.</p>",
        "id": 571544074,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770074558
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2756381927\">PR review comment</a>:</p>\n<blockquote>\n<p>This should be defined outside the loop, and then <code>.clear()</code>ed before each <code>op.operand_types(...)</code> call so that we are actually reusing the allocation across calls.</p>\n</blockquote>",
        "id": 571544075,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770074559
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2756397526\">PR review comment</a>:</p>\n<blockquote>\n<p>We <em>cannot</em> fixup the instruction if it references a concrete type index but <code>num_types == 0</code>. In that sense, the <code>if num_types == 0</code> bit feels like it is part of the <code>fixup</code> call, since we cannot do the one without the other. I think this would be more clearly and cleanly modeled if we made it so that <code>GcOp::fixup</code> didn't mutate the existing op in place, but instead optionally returned a new op, using <code>None</code> to mean \"this op is not valid in this context\":</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">impl</span><span class=\"w\"> </span><span class=\"n\">GcOp</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"k\">fn</span><span class=\"w\"> </span><span class=\"nf\">fixup</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">limits</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kp\">&amp;</span><span class=\"nc\">GcOpsLimits</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">num_types</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kt\">u32</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"nb\">Option</span><span class=\"o\">&lt;</span><span class=\"bp\">Self</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"o\">..</span><span class=\"p\">.</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n<span class=\"o\">~~~</span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 571544076,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770074559
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2756415907\">PR review comment</a>:</p>\n<blockquote>\n<p>Instead of <code>(Option&lt;StackType&gt;, usize)</code> can the operands and results be <code>[StackType]</code>? That is more flexible and we don't have to have the weird cases where there is a type, but the count is zero or whatever.</p>\n</blockquote>",
        "id": 571544077,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770074559
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2756399295\">PR review comment</a>:</p>\n<blockquote>\n<p>And this check is where we would return <code>None</code> instead of <code>Some</code>.</p>\n</blockquote>",
        "id": 571544078,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770074559
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2756403493\">PR review comment</a>:</p>\n<blockquote>\n<p>We generally try to avoid <code>as</code> conversions, since they can silently lose information:</p>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>        let num_types = u32::try_from(self.types.type_defs.len()).unwrap();\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 571544079,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770074559
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2756441717\">PR review comment</a>:</p>\n<blockquote>\n<p>Typos and formatting in the doc comment need to be fixed.</p>\n<p>But more importantly, as I mentioned previously, we shouldn't have an \"any\" type that doesn't correspond to the <code>any</code> heap type in the spec. The way that we model polymorphic instructions in other places, such as the validator, we represent expected operand types as <code>Option&lt;Type&gt;</code> and use <code>None</code> to represent \"okay with any type\". So doing that is one option. Another option is to have a different <code>GcOp</code> for each type hierarchy: <code>GcOp::DropAny</code> to drop something from the <code>any</code> heap type hierarchy vs <code>GcOp::DropExtern</code> to drop something from the <code>extern</code> heap type hierarchy, etc... These would all emit the same Wasm <code>drop</code> instruction, but it would simplify the typing in our mutator. Either of those two approaches is fine, but we shouldn't have misleading \"any\" types that don't actually exist in the spec.</p>\n</blockquote>",
        "id": 571544080,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770074559
    },
    {
        "content": "<p>khagankhan updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>.</p>",
        "id": 571560604,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770086525
    },
    {
        "content": "<p>khagankhan submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#pullrequestreview-3742652383\">PR review</a>.</p>",
        "id": 571561741,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770087204
    },
    {
        "content": "<p>khagankhan created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2756945948\">PR review comment</a>:</p>\n<blockquote>\n<p>I initially thought this was just confusing comments and naming, but I see the problem of having non-semantic type that may be confusing. I chose the first suggested approach. <code>operand_types</code> now uses<code>Option&lt;StackType&gt;</code>, and the <code>None</code> acts as a wild card to accept anything for <code>drop</code>.<br>\nI also updated the doc comments to clearly state which Wasm types each variant corresponds to.</p>\n</blockquote>",
        "id": 571561742,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770087204
    },
    {
        "content": "<p>khagankhan submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#pullrequestreview-3742652559\">PR review</a>.</p>",
        "id": 571561752,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770087209
    },
    {
        "content": "<p>khagankhan created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2756946082\">PR review comment</a>:</p>\n<blockquote>\n<p>Updated. It got rid of those cases, and the expansion looks nice this way :) . </p>\n</blockquote>",
        "id": 571561753,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770087209
    },
    {
        "content": "<p>khagankhan submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#pullrequestreview-3742652688\">PR review</a>.</p>",
        "id": 571561754,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770087212
    },
    {
        "content": "<p>khagankhan created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2756946228\">PR review comment</a>:</p>\n<blockquote>\n<p>Yess! I remember that from The Book. Updated</p>\n</blockquote>",
        "id": 571561757,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770087213
    },
    {
        "content": "<p>khagankhan submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#pullrequestreview-3742652970\">PR review</a>.</p>",
        "id": 571561773,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770087221
    },
    {
        "content": "<p>khagankhan created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#discussion_r2756946464\">PR review comment</a>:</p>\n<blockquote>\n<p>Ouch! Totally missed that</p>\n</blockquote>",
        "id": 571561774,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770087221
    },
    {
        "content": "<p>khagankhan <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#issuecomment-3838750976\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>:</p>\n<blockquote>\n<p>@fitzgen Thanks! It is ready for the next round of the reviews. Please let me know if I missed anything. Thanks!</p>\n</blockquote>",
        "id": 571561802,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770087257
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015#pullrequestreview-3746837221\">PR review</a>:</p>\n<blockquote>\n<p>Thanks!</p>\n</blockquote>",
        "id": 571732348,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770142904
    },
    {
        "content": "<p>fitzgen added <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015 Stack types</a> to the merge queue.</p>",
        "id": 571732392,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770142914
    },
    {
        "content": "<p>fitzgen merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015</a>.</p>",
        "id": 571737205,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770144514
    },
    {
        "content": "<p>fitzgen removed <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12015\">PR #12015 Stack types</a> from the merge queue.</p>",
        "id": 571737207,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770144514
    }
]