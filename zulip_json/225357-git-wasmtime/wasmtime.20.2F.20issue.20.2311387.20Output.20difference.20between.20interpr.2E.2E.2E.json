[
    {
        "content": "<p>teyahb8 opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387\">issue #11387</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p><strong>Wasm file:</strong> <a href=\"https://github.com/user-attachments/files/21633533/wasm-58-test.txt\">wasm-58-test.txt</a><br>\n<strong>Wat file:</strong> <a href=\"https://github.com/user-attachments/files/21633574/wat-58-test.txt\">wat-58-test.txt</a></p>\n<h3>Steps to Reproduce</h3>\n<ol>\n<li>Rename <code>wasm-58-test.txt</code> to <code>test.wasm</code></li>\n<li>For wasmtime interpreter, run: <code>wasmtime -W all-proposals=y --invoke _start test.wasm</code></li>\n<li>For wasmtime compiled, run: <code>wasmtime compile -W all-proposals=y test.wasm -o test.cwasm</code><br>\n     run: <code>wasmtime -W all-proposals=y --allow-precompiled --invoke _start test.cwasm</code></li>\n</ol>\n<h3>Expected Results</h3>\n<p>Based on execution from other runtimes like the wasm-micro-runtime and also wasmtime's interpreter mode, the expected output might be <code>stack overflow</code>.</p>\n<h3>Actual Results</h3>\n<p>Compiled mode outputs:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"mi\">58</span><span class=\"o\">-</span><span class=\"n\">path_exists</span><span class=\"p\">.</span><span class=\"n\">cwasm</span><span class=\"err\">`</span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">invoke</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">_start</span><span class=\"err\">`</span>\n<span class=\"w\">    </span><span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">error</span><span class=\"w\"> </span><span class=\"k\">while</span><span class=\"w\"> </span><span class=\"n\">executing</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"p\">:</span>\n<span class=\"w\">           </span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xc373</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">240</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0x7bfc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">168</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">2</span><span class=\"p\">:</span><span class=\"w\">  </span><span class=\"mh\">0x131c2</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">305</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">3</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xb1d4</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">222</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">4</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xbd9e</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">233</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">5</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xb119</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">221</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">6</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xb07d</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">220</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">7</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xba81</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">228</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">8</span><span class=\"p\">:</span><span class=\"w\">  </span><span class=\"mh\">0x126b7</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">297</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">9</span><span class=\"p\">:</span><span class=\"w\">  </span><span class=\"mh\">0x14cb5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">330</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0x876b</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">184</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">11</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xa4ba</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">207</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">12</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xa9d9</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">209</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">13</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0x21a7</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">61</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">14</span><span class=\"p\">:</span><span class=\"w\">    </span><span class=\"mh\">0xe88</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">34</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">15</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0x1256</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">48</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">16</span><span class=\"p\">:</span><span class=\"w\">    </span><span class=\"mh\">0xcf4</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">29</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">17</span><span class=\"p\">:</span><span class=\"w\">    </span><span class=\"mh\">0xe48</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">33</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">18</span><span class=\"p\">:</span><span class=\"w\">    </span><span class=\"mh\">0xe1d</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">32</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">19</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0x9430</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">196</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">20</span><span class=\"p\">:</span><span class=\"w\">    </span><span class=\"mh\">0xc93</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">28</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">21</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0x23d9</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">62</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">22</span><span class=\"p\">:</span><span class=\"w\">    </span><span class=\"mh\">0x5d1</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"o\">&gt;</span>\n<span class=\"w\">    </span><span class=\"mi\">2</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">Pointer</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">bounds</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">Region</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">start</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">4294967058</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"p\">}</span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: wasmtime 37.0.0 (3cbeb24bc 2025-08-06)</p>\n<p>Operating system: Ubuntu 22.04</p>\n<p>Architecture: x86_64</p>\n<h3>Extra Info</h3>\n<p>Can you please confirm which output should be the correct output and which mode might be incorrect? Thanks in advance?<br>\n</p>\n</blockquote>",
        "id": 533170750,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754510098
    },
    {
        "content": "<p><a href=\"https://github.com/teyahb8\">teyahb8</a> added the bug label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387\">Issue #11387</a>.</p>",
        "id": 533170751,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754510099
    },
    {
        "content": "<p>pchickey closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387\">issue #11387</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p><strong>Wasm file:</strong> <a href=\"https://github.com/user-attachments/files/21633533/wasm-58-test.txt\">wasm-58-test.txt</a><br>\n<strong>Wat file:</strong> <a href=\"https://github.com/user-attachments/files/21633574/wat-58-test.txt\">wat-58-test.txt</a></p>\n<h3>Steps to Reproduce</h3>\n<ol>\n<li>Rename <code>wasm-58-test.txt</code> to <code>test.wasm</code></li>\n<li>For wasmtime interpreter, run: <code>wasmtime -W all-proposals=y --invoke _start test.wasm</code></li>\n<li>For wasmtime compiled, run: <code>wasmtime compile -W all-proposals=y test.wasm -o test.cwasm</code><br>\n     run: <code>wasmtime -W all-proposals=y --allow-precompiled --invoke _start test.cwasm</code></li>\n</ol>\n<h3>Expected Results</h3>\n<p>Based on execution from other runtimes like the wasm-micro-runtime and also wasmtime's interpreter mode, the expected output might be <code>stack overflow</code>.</p>\n<h3>Actual Results</h3>\n<p>Compiled mode outputs:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"mi\">58</span><span class=\"o\">-</span><span class=\"n\">path_exists</span><span class=\"p\">.</span><span class=\"n\">cwasm</span><span class=\"err\">`</span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">invoke</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">_start</span><span class=\"err\">`</span>\n<span class=\"w\">    </span><span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">error</span><span class=\"w\"> </span><span class=\"k\">while</span><span class=\"w\"> </span><span class=\"n\">executing</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"p\">:</span>\n<span class=\"w\">           </span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xc373</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">240</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0x7bfc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">168</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">2</span><span class=\"p\">:</span><span class=\"w\">  </span><span class=\"mh\">0x131c2</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">305</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">3</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xb1d4</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">222</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">4</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xbd9e</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">233</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">5</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xb119</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">221</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">6</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xb07d</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">220</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">7</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xba81</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">228</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">8</span><span class=\"p\">:</span><span class=\"w\">  </span><span class=\"mh\">0x126b7</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">297</span><span class=\"o\">&gt;</span>\n<span class=\"w\">           </span><span class=\"mi\">9</span><span class=\"p\">:</span><span class=\"w\">  </span><span class=\"mh\">0x14cb5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">330</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">10</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0x876b</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">184</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">11</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xa4ba</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">207</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">12</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0xa9d9</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">209</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">13</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0x21a7</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">61</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">14</span><span class=\"p\">:</span><span class=\"w\">    </span><span class=\"mh\">0xe88</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">34</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">15</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0x1256</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">48</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">16</span><span class=\"p\">:</span><span class=\"w\">    </span><span class=\"mh\">0xcf4</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">29</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">17</span><span class=\"p\">:</span><span class=\"w\">    </span><span class=\"mh\">0xe48</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">33</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">18</span><span class=\"p\">:</span><span class=\"w\">    </span><span class=\"mh\">0xe1d</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">32</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">19</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0x9430</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">196</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">20</span><span class=\"p\">:</span><span class=\"w\">    </span><span class=\"mh\">0xc93</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">28</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">21</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mh\">0x23d9</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">62</span><span class=\"o\">&gt;</span>\n<span class=\"w\">          </span><span class=\"mi\">22</span><span class=\"p\">:</span><span class=\"w\">    </span><span class=\"mh\">0x5d1</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!&lt;</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"o\">&gt;</span>\n<span class=\"w\">    </span><span class=\"mi\">2</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">Pointer</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">bounds</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">Region</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">start</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">4294967058</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"p\">}</span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: wasmtime 37.0.0 (3cbeb24bc 2025-08-06)</p>\n<p>Operating system: Ubuntu 22.04</p>\n<p>Architecture: x86_64</p>\n<h3>Extra Info</h3>\n<p>Can you please confirm which output should be the correct output and which mode might be incorrect? Thanks in advance?<br>\n</p>\n</blockquote>",
        "id": 533178374,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754513922
    },
    {
        "content": "<p>pchickey <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387#issuecomment-3161589112\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387\">issue #11387</a>:</p>\n<blockquote>\n<p>It looks like instead of getting an overflow on the wasm control stack, as you do in wasmtimes winch backend or in wamr, you are instead getting an underflow on LLVM's shadow stack. This is down to implementation details of the wasm control stack size between implementations. The spec<a href=\"https://www.w3.org/TR/wasm-core-2/#execution%E2%91%A3\"> describes that the number of frames on the stack may be restricted</a>, and the exact restriction is allowed to vary by implementation.</p>\n</blockquote>",
        "id": 533178375,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754513923
    },
    {
        "content": "<p>pchickey edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387#issuecomment-3161589112\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387\">issue #11387</a>:</p>\n<blockquote>\n<p>It looks like instead of getting an overflow on the wasm control stack, as you do in wasmtimes winch backend or in wamr, you are instead getting an underflow on LLVM's shadow stack. This is down to implementation details of the wasm control stack size between implementations. The spec<a href=\"https://www.w3.org/TR/wasm-core-2/#execution%E2%91%A3\"> describes that the number of frames on the stack may be restricted</a>, and the exact restriction is allowed to vary by implementation.</p>\n<p>Please inspect your bug reports for these sort of allowable spec differences in the future.</p>\n</blockquote>",
        "id": 533178583,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754514010
    },
    {
        "content": "<p>teyahb8 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387#issuecomment-3161641721\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387\">issue #11387</a>:</p>\n<blockquote>\n<p>Thanks for the explanation, @pchickey. So, is there a way to definitely say which is the correct output between <code>stack overflow</code> and <code>pointer out of bounds</code>?</p>\n</blockquote>",
        "id": 533180451,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754514853
    },
    {
        "content": "<p>pchickey <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387#issuecomment-3161762290\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387\">issue #11387</a>:</p>\n<blockquote>\n<p>Either output is correct for this program.</p>\n</blockquote>",
        "id": 533184976,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754517561
    },
    {
        "content": "<p>teyahb8 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387#issuecomment-3161774855\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387\">issue #11387</a>:</p>\n<blockquote>\n<p>That makes sense. Thanks for the clarification. But, I still think that it might be better for any single runtime to be consistent across multiple modes within itself. In this case, getting the same output for both the interpreter and the compiled modes of Wasmtime might be desirable.</p>\n</blockquote>",
        "id": 533185553,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754517946
    },
    {
        "content": "<p>pchickey <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387#issuecomment-3161939456\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387\">issue #11387</a>:</p>\n<blockquote>\n<p>It could be desirable in the absence of any other tradeoffs, but the tradeoff there is, to a first approximation, that cranelift is allowed to generate the best native stack frames it can manage instead of having to pad them out to whatever stack frame size the winch implementation happens to be. This would needlessly degrade performance for anyone using cranelift on programs that dont reach the stack limit, which in practice is 100% of the programs we care about executing. In practice this behavior has never bothered anyone writing real programs because they don't reach the default max stack size that wasmtime settled on. And, if hypothetically tomorrow llvm was to start spitting out wasm that blew past wasmtime's default limit, wasmtime embedders would make a single-line commit to increase <a href=\"https://docs.wasmtime.dev/api/wasmtime/struct.Config.html#method.max_wasm_stack\">https://docs.wasmtime.dev/api/wasmtime/struct.Config.html#method.max_wasm_stack</a> and care about other problems instead.</p>\n<p>Put another way, I dont really think this particular behavior matters to anyone besides someone fuzzing around to find differences between runtimes in badly-behaved wasm programs.</p>\n</blockquote>",
        "id": 533193868,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754524154
    },
    {
        "content": "<p>pchickey edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387#issuecomment-3161939456\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387\">issue #11387</a>:</p>\n<blockquote>\n<p>It could be desirable in the absence of any other tradeoffs, but the tradeoff there is, to a first approximation, that cranelift is allowed to generate the best native stack frames it can manage instead of having to pad them out to whatever stack frame size the winch implementation happens to be. This would needlessly degrade performance for anyone using cranelift on programs that dont reach the stack limit, which in practice is 100% of the programs we care about executing. In practice this behavior has never bothered anyone writing real programs because they don't reach the default max stack size that wasmtime settled on. And, if hypothetically tomorrow llvm was to start spitting out wasm that blew past wasmtime's default limit, wasmtime embedders would make a single-line commit to increase <a href=\"https://docs.wasmtime.dev/api/wasmtime/struct.Config.html#method.max_wasm_stack\">https://docs.wasmtime.dev/api/wasmtime/struct.Config.html#method.max_wasm_stack</a> and move on to caring about other problems instead.</p>\n<p>Put another way, I dont really think this particular behavior matters to anyone besides someone fuzzing around to find differences between runtimes in badly-behaved wasm programs.</p>\n</blockquote>",
        "id": 533193878,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754524168
    },
    {
        "content": "<p>pchickey edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387#issuecomment-3161939456\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387\">issue #11387</a>:</p>\n<blockquote>\n<p>It could be desirable in the absence of any other tradeoffs, but the tradeoff there is, to a first approximation, that cranelift is allowed to generate the best native stack frames it can manage instead of having to pad them out to whatever stack frame size the winch implementation happens to be. This would needlessly degrade performance for anyone using cranelift on programs that dont reach the stack limit, which in practice is 100% of the programs we care about executing. In practice this behavior has never bothered anyone writing real programs because they don't reach the default max stack size that wasmtime settled on. And, if hypothetically tomorrow llvm was to start spitting out wasm for non-pathological programs that blew past wasmtime's default limit, wasmtime embedders would make a single-line commit to increase <a href=\"https://docs.wasmtime.dev/api/wasmtime/struct.Config.html#method.max_wasm_stack\">https://docs.wasmtime.dev/api/wasmtime/struct.Config.html#method.max_wasm_stack</a> and move on to caring about other problems instead.</p>\n<p>Put another way, I dont really think this particular behavior matters to anyone besides someone fuzzing around to find differences between runtimes in badly-behaved wasm programs.</p>\n</blockquote>",
        "id": 533195145,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754525215
    },
    {
        "content": "<p>teyahb8 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387#issuecomment-3162123891\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11387\">issue #11387</a>:</p>\n<blockquote>\n<p>That is reasonable. Thanks for the feedback.</p>\n</blockquote>",
        "id": 533202378,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754530192
    }
]