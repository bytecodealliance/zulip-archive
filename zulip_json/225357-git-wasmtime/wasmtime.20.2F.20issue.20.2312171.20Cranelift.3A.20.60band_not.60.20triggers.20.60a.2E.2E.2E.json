[
    {
        "content": "<p>abc767234318 opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12171\">issue #12171</a>:</p>\n<blockquote>\n<h3><code>.clif</code> Test Case</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">test</span><span class=\"w\"> </span><span class=\"n\">run</span>\n\n<span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">enable_nan_canonicalization</span><span class=\"o\">=</span><span class=\"kc\">true</span>\n<span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">preserve_frame_pointers</span><span class=\"o\">=</span><span class=\"kc\">true</span>\n<span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">enable_multi_ret_implicit_sret</span><span class=\"o\">=</span><span class=\"kc\">true</span>\n<span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">opt_level</span><span class=\"o\">=</span><span class=\"n\">none</span>\n\n<span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">x86_64</span><span class=\"w\"> </span><span class=\"n\">sse42</span><span class=\"w\"> </span><span class=\"n\">has_avx</span>\n<span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">aarch64</span>\n<span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">s390x</span>\n<span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">riscv64gc</span><span class=\"w\"> </span><span class=\"n\">has_zcd</span><span class=\"w\"> </span><span class=\"n\">has_zbkb</span><span class=\"w\"> </span><span class=\"n\">has_zbc</span><span class=\"w\"> </span><span class=\"n\">has_zbs</span><span class=\"w\"> </span><span class=\"n\">has_zicond</span><span class=\"w\"> </span><span class=\"n\">has_zvl32b</span><span class=\"w\"> </span><span class=\"n\">has_zvl64b</span><span class=\"w\"> </span><span class=\"n\">has_zvl128b</span><span class=\"w\"> </span><span class=\"n\">has_zvl1024b</span><span class=\"w\"> </span><span class=\"n\">has_zvl2048b</span><span class=\"w\"> </span><span class=\"n\">has_zvl4096b</span><span class=\"w\"> </span><span class=\"n\">has_zvl8192b</span><span class=\"w\"> </span><span class=\"n\">has_zvl16384b</span><span class=\"w\"> </span><span class=\"n\">has_zvl32768b</span>\n<span class=\"n\">function</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"n\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"kt\">f64</span><span class=\"w\"> </span><span class=\"nc\">fast</span><span class=\"w\"> </span><span class=\"p\">{</span>\n\n<span class=\"n\">block0</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"nc\">v2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">f64const</span><span class=\"w\"> </span><span class=\"mf\">0.0</span>\n<span class=\"w\">    </span><span class=\"n\">v5</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">iconst</span><span class=\"p\">.</span><span class=\"kt\">i32</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"mi\">428912370</span>\n<span class=\"w\">    </span><span class=\"n\">v11</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">f64const</span><span class=\"w\"> </span><span class=\"mh\">0x1</span><span class=\"p\">.</span><span class=\"n\">fffffffffffffp1023</span>\n<span class=\"w\">    </span><span class=\"n\">v22</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">iconst</span><span class=\"p\">.</span><span class=\"kt\">i32</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">    </span><span class=\"n\">v39</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">band_not</span><span class=\"w\"> </span><span class=\"n\">v11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">v2</span><span class=\"w\">  </span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">v11</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x1</span><span class=\"p\">.</span><span class=\"n\">fffffffffffffp1023</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">v2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.0</span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">v39</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">print</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"n\">main</span><span class=\"p\">()</span>\n</code></pre></div>\n<h3>Steps to Reproduce</h3>\n<p>I ran this test case using the following command and it crashed on the aarch64 platform. However, this phenomenon did not appear on other platforms such as <code>x86_64</code> and <code>riscv64</code>.</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">aarch64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"w\"> </span><span class=\"n\">clif</span><span class=\"o\">-</span><span class=\"n\">util</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">clif</span>\n</code></pre></div>\n<h3>Expected Results</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"o\">%</span><span class=\"n\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"mh\">0x1</span><span class=\"p\">.</span><span class=\"n\">fffffffffffffp1023</span>\n</code></pre></div>\n<h3>Actual Results</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">main</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">cranelift</span><span class=\"o\">/</span><span class=\"n\">codegen</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">isa</span><span class=\"o\">/</span><span class=\"n\">aarch64</span><span class=\"o\">/</span><span class=\"n\">inst</span><span class=\"o\">/</span><span class=\"n\">emit</span><span class=\"p\">.</span><span class=\"n\">rs</span><span class=\"p\">:</span><span class=\"mi\">97</span><span class=\"p\">:</span><span class=\"mi\">5</span><span class=\"p\">:</span>\n<span class=\"nc\">assertion</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">left</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"n\">right</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">failed</span>\n<span class=\"w\">  </span><span class=\"n\">left</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">Float</span>\n<span class=\"w\"> </span><span class=\"n\">right</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">Int</span>\n</code></pre></div>\n</blockquote>",
        "id": 564047042,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765893157
    },
    {
        "content": "<p><a href=\"https://github.com/abc767234318\">abc767234318</a> added the bug label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12171\">Issue #12171</a>.</p>",
        "id": 564047046,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765893157
    },
    {
        "content": "<p><a href=\"https://github.com/abc767234318\">abc767234318</a> added the cranelift label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12171\">Issue #12171</a>.</p>",
        "id": 564047047,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765893157
    },
    {
        "content": "<p>cfallin <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12171#issuecomment-3662964229\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12171\">issue #12171</a>:</p>\n<blockquote>\n<p>@abc767234318 regarding this and your other two recent issues (#12170, #12165): thank you for fuzzing our compiler. It might be good for you to read our <a href=\"https://docs.wasmtime.dev/contributing-fuzzing.html\">fuzzing guidelines</a> if you haven't already. And in general, it would be good to be mindful of the compiler's guarantees and our state as a project: we guarantee and ensure the core of Cranelift used by Wasmtime is robust, but other instructions are implemented more or less on a best-effort basis, and we don't have a lot of spare labor to fill in the gaps right now. You'll probably find more instructions that aren't implemented on one or more backends. It isn't <em>that</em> helpful to get one-off bugs for these. Or stated more simply: it is not an efficient use of our time to take many small interrupts to stochastically fill in small bits of the missing gap, when we know the gap exists.</p>\n<p>What would be more helpful for our project is some sort of table or checklist of all instructions that are not implemented for each backend. That could then allow for someone willing to do a little work to help with one or two new lowerings. It would be great to have an organized \"completeness\" effort of this kind. Would you be willing to do a systematic survey or test and build such a table?</p>\n</blockquote>",
        "id": 564152456,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765929609
    },
    {
        "content": "<p>abc767234318 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12171#issuecomment-3663339207\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12171\">issue #12171</a>:</p>\n<blockquote>\n<blockquote>\n<p><a href=\"https://github.com/abc767234318\">@abc767234318</a> regarding this and your other two recent issues (<a href=\"https://github.com/bytecodealliance/wasmtime/issues/12170\">#12170</a>, <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12165\">#12165</a>): thank you for fuzzing our compiler. It might be good for you to read our <a href=\"https://docs.wasmtime.dev/contributing-fuzzing.html\">fuzzing guidelines</a> if you haven't already. And in general, it would be good to be mindful of the compiler's guarantees and our state as a project: we guarantee and ensure the core of Cranelift used by Wasmtime is robust, but other instructions are implemented more or less on a best-effort basis, and we don't have a lot of spare labor to fill in the gaps right now. You'll probably find more instructions that aren't implemented on one or more backends. It isn't _that_ helpful to get one-off bugs for these. Or stated more simply: it is not an efficient use of our time to take many small interrupts to stochastically fill in small bits of the missing gap, when we know the gap exists.</p>\n<p>What would be more helpful for our project is some sort of table or checklist of all instructions that are not implemented for each backend. That could then allow for someone willing to do a little work to help with one or two new lowerings. It would be great to have an organized \"completeness\" effort of this kind. Would you be willing to do a systematic survey or test and build such a table?</p>\n</blockquote>\n<p>That is a great idea. I am happy to provide the systematic table/checklist of unimplemented instructions. I already have several 'not implemented' cases ready, and I'd be delighted to contribute to Cranelift in this organized way.</p>\n<p>I can also provide a minimal test case for each discovery.</p>\n<p>How would you prefer I submit this? A single GitHub Issue, or a different method?</p>\n</blockquote>",
        "id": 564162423,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765937957
    },
    {
        "content": "<p>cfallin <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12171#issuecomment-3663355864\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12171\">issue #12171</a>:</p>\n<blockquote>\n<p>A single GitHub issue is great; some sort of table or checklist, organized by backend and then maybe by (say) operand type would be perfect. Thanks! (And if you aren't confident it's complete, we can always edit the post.)</p>\n<p>In GitHub Markdown syntax, <code>[ ]</code> creates an empty checkbox and anyone with edit permission can click it to check the box (which becomes <code>[x]</code>).</p>\n</blockquote>",
        "id": 564162969,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765938477
    },
    {
        "content": "<p>abc767234318 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12171#issuecomment-3663368639\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12171\">issue #12171</a>:</p>\n<blockquote>\n<p>I will post it soon. Thanks again for the guidance!</p>\n</blockquote>",
        "id": 564163419,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765938885
    },
    {
        "content": "<p>abc767234318 closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12171\">issue #12171</a>:</p>\n<blockquote>\n<h3><code>.clif</code> Test Case</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">test</span><span class=\"w\"> </span><span class=\"n\">run</span>\n\n<span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">enable_nan_canonicalization</span><span class=\"o\">=</span><span class=\"kc\">true</span>\n<span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">preserve_frame_pointers</span><span class=\"o\">=</span><span class=\"kc\">true</span>\n<span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">enable_multi_ret_implicit_sret</span><span class=\"o\">=</span><span class=\"kc\">true</span>\n<span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">opt_level</span><span class=\"o\">=</span><span class=\"n\">none</span>\n\n<span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">x86_64</span><span class=\"w\"> </span><span class=\"n\">sse42</span><span class=\"w\"> </span><span class=\"n\">has_avx</span>\n<span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">aarch64</span>\n<span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">s390x</span>\n<span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">riscv64gc</span><span class=\"w\"> </span><span class=\"n\">has_zcd</span><span class=\"w\"> </span><span class=\"n\">has_zbkb</span><span class=\"w\"> </span><span class=\"n\">has_zbc</span><span class=\"w\"> </span><span class=\"n\">has_zbs</span><span class=\"w\"> </span><span class=\"n\">has_zicond</span><span class=\"w\"> </span><span class=\"n\">has_zvl32b</span><span class=\"w\"> </span><span class=\"n\">has_zvl64b</span><span class=\"w\"> </span><span class=\"n\">has_zvl128b</span><span class=\"w\"> </span><span class=\"n\">has_zvl1024b</span><span class=\"w\"> </span><span class=\"n\">has_zvl2048b</span><span class=\"w\"> </span><span class=\"n\">has_zvl4096b</span><span class=\"w\"> </span><span class=\"n\">has_zvl8192b</span><span class=\"w\"> </span><span class=\"n\">has_zvl16384b</span><span class=\"w\"> </span><span class=\"n\">has_zvl32768b</span>\n<span class=\"n\">function</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"n\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"kt\">f64</span><span class=\"w\"> </span><span class=\"nc\">fast</span><span class=\"w\"> </span><span class=\"p\">{</span>\n\n<span class=\"n\">block0</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"nc\">v2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">f64const</span><span class=\"w\"> </span><span class=\"mf\">0.0</span>\n<span class=\"w\">    </span><span class=\"n\">v5</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">iconst</span><span class=\"p\">.</span><span class=\"kt\">i32</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"mi\">428912370</span>\n<span class=\"w\">    </span><span class=\"n\">v11</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">f64const</span><span class=\"w\"> </span><span class=\"mh\">0x1</span><span class=\"p\">.</span><span class=\"n\">fffffffffffffp1023</span>\n<span class=\"w\">    </span><span class=\"n\">v22</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">iconst</span><span class=\"p\">.</span><span class=\"kt\">i32</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">    </span><span class=\"n\">v39</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">band_not</span><span class=\"w\"> </span><span class=\"n\">v11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">v2</span><span class=\"w\">  </span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">v11</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x1</span><span class=\"p\">.</span><span class=\"n\">fffffffffffffp1023</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">v2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.0</span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">v39</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">print</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"n\">main</span><span class=\"p\">()</span>\n</code></pre></div>\n<h3>Steps to Reproduce</h3>\n<p>I ran this test case using the following command and it crashed on the aarch64 platform. However, this phenomenon did not appear on other platforms such as <code>x86_64</code> and <code>riscv64</code>.</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">aarch64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"w\"> </span><span class=\"n\">clif</span><span class=\"o\">-</span><span class=\"n\">util</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">clif</span>\n</code></pre></div>\n<h3>Expected Results</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"o\">%</span><span class=\"n\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"mh\">0x1</span><span class=\"p\">.</span><span class=\"n\">fffffffffffffp1023</span>\n</code></pre></div>\n<h3>Actual Results</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">main</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">cranelift</span><span class=\"o\">/</span><span class=\"n\">codegen</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">isa</span><span class=\"o\">/</span><span class=\"n\">aarch64</span><span class=\"o\">/</span><span class=\"n\">inst</span><span class=\"o\">/</span><span class=\"n\">emit</span><span class=\"p\">.</span><span class=\"n\">rs</span><span class=\"p\">:</span><span class=\"mi\">97</span><span class=\"p\">:</span><span class=\"mi\">5</span><span class=\"p\">:</span>\n<span class=\"nc\">assertion</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">left</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"n\">right</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">failed</span>\n<span class=\"w\">  </span><span class=\"n\">left</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">Float</span>\n<span class=\"w\"> </span><span class=\"n\">right</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">Int</span>\n</code></pre></div>\n</blockquote>",
        "id": 564944454,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766387158
    },
    {
        "content": "<p>abc767234318 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12171#issuecomment-3680732997\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12171\">issue #12171</a>:</p>\n<blockquote>\n<p>As suggested, I've moved this case to the new tracking list here: #12197 . I'll close this one now</p>\n</blockquote>",
        "id": 564944455,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766387159
    }
]