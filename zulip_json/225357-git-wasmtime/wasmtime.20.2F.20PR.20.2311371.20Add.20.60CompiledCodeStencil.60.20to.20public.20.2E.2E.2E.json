[
    {
        "content": "<p>suprohub opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a> from <code>suprohub:main</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n<p>Crate <code>TargetIsa</code> have method <code>compile_function</code>, what return type is <code>CodegenResult&lt;CompiledCodeStencil&gt;</code>.<br>\n<code>CompiledCodeStencil</code> is not public exported, so i just cant use this crate for custom external isa..<br>\n</p>\n</blockquote>",
        "id": 532352494,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754070448
    },
    {
        "content": "<p><strong>suprohub</strong> requested <a href=\"https://github.com/fitzgen\">fitzgen</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>.</p>",
        "id": 532352496,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754070449
    },
    {
        "content": "<p><strong>suprohub</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers\">wasmtime-compiler-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>.</p>",
        "id": 532352497,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754070449
    },
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3145368507\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>:</p>\n<blockquote>\n<p>Do you actually need to implement <code>TargetIsa</code>? Most of the backend framework is still private with this PR. So I think you did either want to fork Cranelift and use the backend framework, or you avoid <code>TargetIsa</code> entirely.</p>\n</blockquote>",
        "id": 532355670,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754071668
    },
    {
        "content": "<p>suprohub <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3145394327\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>:</p>\n<blockquote>\n<blockquote>\n<p>Do you actually need to implement <code>TargetIsa</code>? Most of the backend framework is still private with this PR. So I think you did either want to fork Cranelift and use the backend framework, or you avoid <code>TargetIsa</code> entirely.</p>\n</blockquote>\n<p>Yes, i actually need to implement <code>TargetIsa</code>, and i need implement this externally.</p>\n</blockquote>",
        "id": 532357229,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754072364
    },
    {
        "content": "<p>suprohub edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3145394327\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>:</p>\n<blockquote>\n<blockquote>\n<p>Do you actually need to implement <code>TargetIsa</code>? Most of the backend framework is still private with this PR. So I think you did either want to fork Cranelift and use the backend framework, or you avoid <code>TargetIsa</code> entirely.</p>\n</blockquote>\n<p>Yes, i actually need to implement <code>TargetIsa</code>, and i need implement this externally.<br>\n&amp;dyn TargetIsa often used in many places.</p>\n</blockquote>",
        "id": 532357320,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754072406
    },
    {
        "content": "<p>suprohub edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3145394327\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>:</p>\n<blockquote>\n<blockquote>\n<p>Do you actually need to implement <code>TargetIsa</code>? Most of the backend framework is still private with this PR. So I think you did either want to fork Cranelift and use the backend framework, or you avoid <code>TargetIsa</code> entirely.</p>\n</blockquote>\n<p>Yes, i actually need to implement <code>TargetIsa</code>, and i need implement this externally.<br>\n&amp;dyn TargetIsa often used in many places. Also, <code>Module</code> needs TargetIsa too.</p>\n</blockquote>",
        "id": 532357386,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754072441
    },
    {
        "content": "<p>suprohub updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>.</p>",
        "id": 532358858,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754073099
    },
    {
        "content": "<p>suprohub updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>.</p>",
        "id": 532430658,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754122549
    },
    {
        "content": "<p>suprohub updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>.</p>",
        "id": 532430975,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754122816
    },
    {
        "content": "<p>suprohub updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>.</p>",
        "id": 532443330,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754132937
    },
    {
        "content": "<p>suprohub updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>.</p>",
        "id": 532443749,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754133249
    },
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146445378\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>:</p>\n<blockquote>\n<p>You are slowly exposing basically the entire backend framework to end users. The backend framework is highly unstable and should definitively not be re-exported in the root of the cranelift-codegen crate.</p>\n</blockquote>",
        "id": 532444169,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754133626
    },
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146445873\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>:</p>\n<blockquote>\n<p>Does the <code>[patch.crates-io]</code> section in <code>Cargo.toml</code> for replacing cranelift-codegen with a version you patched yourself to include your extra backend not work? You are going to have to change your backend every Cranelift version anyway if you are depending on these unstable implementation details.</p>\n</blockquote>",
        "id": 532444238,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754133701
    },
    {
        "content": "<p>suprohub <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146460391\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>:</p>\n<blockquote>\n<blockquote>\n<p>You are slowly exposing basically the entire backend framework to end users. The backend framework is highly unstable and should definitively not be re-exported in the root of the cranelift-codegen crate.</p>\n</blockquote>\n<p>Yeah, you are right. This is not cool</p>\n</blockquote>",
        "id": 532447384,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754135934
    },
    {
        "content": "<p>suprohub <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146460941\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>:</p>\n<blockquote>\n<blockquote>\n<p>Does the <code>[patch.crates-io]</code> section in <code>Cargo.toml</code> for replacing cranelift-codegen with a version you patched yourself to include your extra backend not work? You are going to have to change your backend every Cranelift version anyway if you are depending on these unstable implementation details.</p>\n</blockquote>\n<p>But how i can use this unstable api? I very need custom implementation for <code>TargetIsa</code> and <code>MachInst</code></p>\n</blockquote>",
        "id": 532447740,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754136014
    },
    {
        "content": "<p>suprohub edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146460941\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>:</p>\n<blockquote>\n<blockquote>\n<p>Does the <code>[patch.crates-io]</code> section in <code>Cargo.toml</code> for replacing cranelift-codegen with a version you patched yourself to include your extra backend not work? You are going to have to change your backend every Cranelift version anyway if you are depending on these unstable implementation details.</p>\n</blockquote>\n<p>But how i can use this unstable api? I very need custom implementation for <code>TargetIsa</code> and <code>MachInst</code>.<br>\nI need use it as external crate, because i dont want all features from cranelift, only codegen api.</p>\n</blockquote>",
        "id": 532447979,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754136061
    },
    {
        "content": "<p>suprohub updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>.</p>",
        "id": 532448217,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754136204
    },
    {
        "content": "<p>suprohub edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146460941\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>:</p>\n<blockquote>\n<blockquote>\n<p>Does the <code>[patch.crates-io]</code> section in <code>Cargo.toml</code> for replacing cranelift-codegen with a version you patched yourself to include your extra backend not work? You are going to have to change your backend every Cranelift version anyway if you are depending on these unstable implementation details.</p>\n</blockquote>\n<p>But how i can use this unstable api? I very need custom implementation for <code>TargetIsa</code> and maybe <code>MachInst</code>.<br>\nI need use it as external crate, because i dont want all features from cranelift, only codegen api.</p>\n</blockquote>",
        "id": 532448273,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754136240
    },
    {
        "content": "<p>suprohub <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146463293\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>:</p>\n<blockquote>\n<p>Ok, i make only one field public and export <code>CompiledCodeStencil</code> for implement <code>TargetIsa</code></p>\n</blockquote>",
        "id": 532448362,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754136302
    },
    {
        "content": "<p>suprohub edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146463293\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>:</p>\n<blockquote>\n<p>Ok, i make only one field public and export <code>CompiledCodeStencil</code> for implement <code>TargetIsa</code>. But i very need <code>MachBuffer</code> what requires <code>MachInst</code> implementation<br>\n</p>\n</blockquote>",
        "id": 532448518,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754136405
    },
    {
        "content": "<p>cfallin <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146586848\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>:</p>\n<blockquote>\n<p>@suprohub Thanks for the PR; unfortunately, as bjorn3 has said, these are all internal compiler implementation details and will not be exposed. Aside from the types you would need to export to make this work, there is the ISLE DSL, which doesn't have a cross-crate linking story right now; it uses libraries (the \"prelude\") via inclusion, so we would need to bundle the prelude source code in <code>cranelift-codegen</code> and export it as text, or factor it to a separate crate (which is much more awkward for work within <code>cranelift-codegen</code>), or something like that. But in general this is exposing a bunch of internals, and we don't make any public promises about the stability of those details across releases; nor do we make any promises about safety or correctness if they are used in the wrong way. Maintaining this freedom to refactor, this standard of correctness, and a clean coherent public interface, are all reasons why we have chosen not to expose these things.</p>\n<p>If you want to maintain your own Cranelift backend, the canonical path is to fork; at some point if you would like to upstream a backend, if it is of general interest and the maintenance support is there, we could discuss it. </p>\n</blockquote>",
        "id": 532467336,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754150895
    },
    {
        "content": "<p>cfallin closed without merge <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11371\">PR #11371</a>.</p>",
        "id": 532467344,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1754150900
    }
]