[
    {
        "content": "<p>rahulchaphalkar opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777\">PR #11777</a> from <code>rahulchaphalkar:sde-emulator-pr</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>Adds <a href=\"https://www.intel.com/content/www/us/en/developer/articles/tool/software-development-emulator.html\">Intel SDE</a> to the CI in preparation of testing new instructions like APX, which are not available in QEMU.<br>\nSDE only tests <code>wasmtime-tools</code> for now, via <code>crate</code> field in <code>config</code>. <br>\nHave disabled sharding when <code>crate</code> field is present, assumption for now is this would only list few crates (1 in this case).<br>\nUses following action to setup SDE - <a href=\"https://github.com/petarpetrovt/setup-sde\">https://github.com/petarpetrovt/setup-sde</a></p>\n<p>SDE Tests get triggered with a <code>prtest:sde</code> commit message, similar to some other components.</p>\n<ul>\n<li><code>prtest:sde</code> will only run sde tests</li>\n<li><code>prtest:full</code> will run everything _except_ sde tests</li>\n<li><code>prtest:full</code> + <code>prtest:sde</code> will run all tests including sde tests</li>\n</ul>\n<p>The env variables like <code>WASMTIME_TEST_NO_SDE</code> are introduced (similar to Qemu) to provide a clean way to disable any tests that are problematic, but are not being used right now. Can remove them if needed.</p>\n<p>@jlb6740 @abrown </p>\n</blockquote>",
        "id": 542630983,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759362609
    },
    {
        "content": "<p><strong>rahulchaphalkar</strong> requested <a href=\"https://github.com/pchickey\">pchickey</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777\">PR #11777</a>.</p>",
        "id": 542630988,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759362610
    },
    {
        "content": "<p><strong>rahulchaphalkar</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers\">wasmtime-default-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777\">PR #11777</a>.</p>",
        "id": 542630990,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759362610
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777#discussion_r2399039946\">PR review comment</a>:</p>\n<blockquote>\n<p>For this we have enough concurrency that it's ok to omit this. Basically it's fine to run by default on CI, and I'm at least personally otherwise wary of not running it by default as it means it would likely  bitrot pretty quickly.</p>\n</blockquote>",
        "id": 542757554,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759415527
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777#pullrequestreview-3294935922\">PR review</a>:</p>\n<blockquote>\n<p>Thanks! One thing this might be useful for is the avx512 lowerings which probably aren't tested much on CI right now. Could you confirm that our avx512 runtests are running in the SDE?</p>\n</blockquote>",
        "id": 542757555,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759415527
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777#discussion_r2399042970\">PR review comment</a>:</p>\n<blockquote>\n<p>Does this do much more than a curl + tar command? If so could this be manually done instead of using a 3rd-party action?</p>\n</blockquote>",
        "id": 542757559,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759415527
    },
    {
        "content": "<p>rahulchaphalkar <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777#issuecomment-3366752862\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777\">PR #11777</a>:</p>\n<blockquote>\n<blockquote>\n<p>Thanks! One thing this might be useful for is the avx512 lowerings which probably aren't tested much on CI right now. Could you confirm that our avx512 runtests are running in the SDE?</p>\n</blockquote>\n<p>@alexcrichton I was looking into this to have a definite answer, and here's where I am thus far - </p>\n<ul>\n<li>There are 4 runtests which include some variant of avx512 like <code>has_avx512f</code>, <code>has_avx512vl</code> etc.</li>\n<li>I am testing these out locally on a system with AVX512 present (ICX) with <code>RUST_LOG=trace</code>, just natively without SDE</li>\n<li>I see SSE and AVX instructions in the log, but not AVX512. I tested by modifying a clif test (simd-shuffle.clif) to only include <code>has_avx512vl</code> and variants (and remove <code>sse</code>, <code>avx</code> etc) and I don't see any <code>vshufps</code> instructions. When I include <code>has_avx</code> then I do see <code>vshufps</code>.</li>\n</ul>\n<p>With SDE -</p>\n<ul>\n<li>I tested in a similar way with SDE, and have same results. When I configure SDE with a platform without AVX support, then I see just <code>shufps</code> as expected from SSE, and configured with AVX capable platform, I see <code>vshufps</code>.</li>\n</ul>\n<p>I also checked this with the python script that CI uses to kick things off, <code>./ci/run-tests.py</code> with and without SDE.<br>\nTo summarize, I do think AVX512 tests from runtests are being run, and the results match with and without SDE, but I am not sure if AVX512 instructions are being generated or not (doesn't look like it) for either case.<br>\n</p>\n</blockquote>",
        "id": 543001126,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759515424
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777#issuecomment-3366772701\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777\">PR #11777</a>:</p>\n<blockquote>\n<p>Thanks for investigating! That matches what my rough expectations would be, so I think it's safe to conclude \"yep working as intended\"</p>\n</blockquote>",
        "id": 543002213,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759515831
    },
    {
        "content": "<p>rahulchaphalkar updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777\">PR #11777</a>.</p>",
        "id": 543007301,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759517746
    },
    {
        "content": "<p>rahulchaphalkar submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777#pullrequestreview-3300489910\">PR review</a>.</p>",
        "id": 543008079,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759518078
    },
    {
        "content": "<p>rahulchaphalkar created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777#discussion_r2403051842\">PR review comment</a>:</p>\n<blockquote>\n<p>Done, doing it manually similar to qemu now.</p>\n</blockquote>",
        "id": 543008082,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759518079
    },
    {
        "content": "<p>rahulchaphalkar submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777#pullrequestreview-3300491692\">PR review</a>.</p>",
        "id": 543008146,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759518105
    },
    {
        "content": "<p>rahulchaphalkar created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777#discussion_r2403053332\">PR review comment</a>:</p>\n<blockquote>\n<p>Sure, removed it, now sde tests should run with full ci run</p>\n</blockquote>",
        "id": 543008148,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759518105
    },
    {
        "content": "<p>rahulchaphalkar edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777\">PR #11777</a>:</p>\n<blockquote>\n<p>Adds <a href=\"https://www.intel.com/content/www/us/en/developer/articles/tool/software-development-emulator.html\">Intel SDE</a> to the CI in preparation of testing new instructions like APX, which are not available in QEMU.<br>\nSDE only tests <code>wasmtime-tools</code> for now, via <code>crate</code> field in <code>config</code>. <br>\nHave disabled sharding when <code>crate</code> field is present, assumption for now is this would only list few crates (1 in this case).<br>\nUses following action to setup SDE - <a href=\"https://github.com/petarpetrovt/setup-sde\">https://github.com/petarpetrovt/setup-sde</a></p>\n<p>SDE Tests get triggered with a <code>prtest:sde</code> commit message, similar to some other components.</p>\n<ul>\n<li><code>prtest:sde</code> will only run sde tests</li>\n<li><code>prtest:full</code> will run everything _except_ sde tests</li>\n<li><code>prtest:full</code> + <code>prtest:sde</code> will run all tests including sde tests</li>\n</ul>\n<p>The env variables like <code>WASMTIME_TEST_NO_SDE</code> are introduced (similar to Qemu) to provide a clean way to disable any tests that are problematic, but are not being used right now. Can remove them if needed.</p>\n<p>@jlb6740 @abrown <br>\nEdit -<br>\nBased off feedback below, SDE tests now run with a full CI run as well, previously they were filtered out and only ran for <code>prtest:sde</code>. Now they run for <code>prtest:sde</code> as well as <code>prtest:full</code>.<br>\n</p>\n</blockquote>",
        "id": 543008326,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759518179
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777#pullrequestreview-3300564563\">PR review</a>.</p>",
        "id": 543014618,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759519101
    },
    {
        "content": "<p>alexcrichton merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11777\">PR #11777</a>.</p>",
        "id": 543018831,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759520479
    }
]