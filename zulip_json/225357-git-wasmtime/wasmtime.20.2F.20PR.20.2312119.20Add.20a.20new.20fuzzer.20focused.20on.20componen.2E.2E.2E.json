[
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/dicej\">dicej</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>.</p>",
        "id": 561749468,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764794984
    },
    {
        "content": "<p>alexcrichton opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a> from <code>alexcrichton:more-async-fuzz</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>This commit adds a new fuzzer mode to the <code>misc</code> fuzzer of Wasmtime which is focused on async events and interleavings of components using the component-model-async proposal. This fuzzer works by having a precompiled guest program which serves as the component to run. This precompiled component has a custom <code>fuzz.wit</code> which is used to interface with the fuzzer itself. The fuzzer is then a fuzz-generated sequence of commands to send to the component which verifies that everything executes correctly, has no panics, etc.</p>\n<p>This fuzzer intends to stress async communication and task infrastructure with component-model-async. Notably this does not stress lifting/lowering or arbitrary type signatures. This does, however, permute all of the following:</p>\n<ul>\n<li>Guest/host interactions (also guest/guest, host/host, etc).</li>\n<li>Async functions, both ready and pending.</li>\n<li>Future operations: reads, writes, cancellation, transfers, etc.</li>\n<li>Stream operations: reads, writes, cancellation, transfers, etc.</li>\n</ul>\n<p>This is all throwing into a large \"soup\" and then asserted to work correctly. There's a few gotchas here and there for how this fuzzer is designed, such as some events requiring \"yield N times to await this event happening\". This is required because Wasmtime is allowed to non-deterministically select between a number of \"ready events\" and what to dispatch.</p>\n<p>This is not intended to be a one-size-fits-all fuzzer for component-model-async. The recent enhancements to the <code>component_api</code> fuzzer are intended to complement this fuzzer in terms of what's stressed where internally.</p>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 561749470,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764794984
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119#issuecomment-3608788330\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>:</p>\n<blockquote>\n<p>Currently leaving this in draft form while <a href=\"https://github.com/bytecodealliance/wit-bindgen/pull/1446\">https://github.com/bytecodealliance/wit-bindgen/pull/1446</a> is pending.</p>\n</blockquote>",
        "id": 561749519,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764795004
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119#issuecomment-3608793762\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>:</p>\n<blockquote>\n<p>I'll also note that I understand this is a pretty meat and pretty dense fuzzer, so I'm happy to walk through it if @dicej you or anyone else is interested. I'm also happy to write up more docs anywhere as necessary. Current docs are primarily located at <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119/files#diff-aaaee2453abf356c5fa08ef68b6afe841e9ce7e45ba4b66c1c6f78deec41b6ed\">crates/test-programs/src/bin/fuzz_async.rs</a></p>\n</blockquote>",
        "id": 561749758,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764795109
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>.</p>",
        "id": 561767219,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764803570
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>.</p>",
        "id": 561768346,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764804311
    },
    {
        "content": "<p>github-actions[bot] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119#issuecomment-3609301502\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>:</p>\n<blockquote>\n<h4>Subscribe to Label Action</h4>\n<p>cc @fitzgen</p>\n<p>&lt;details&gt;<br>\nThis issue or pull request has been labeled: \"fuzzing\", \"wasm-proposal:component-model-async\", \"wasmtime:api\"</p>\n<p>Thus the following users have been cc'd because of the following labels:</p>\n<ul>\n<li>fitzgen: fuzzing</li>\n</ul>\n<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>\n<p><a href=\"https://github.com/bytecodealliance/subscribe-to-label-action\">Learn more.</a><br>\n&lt;/details&gt;</p>\n</blockquote>",
        "id": 561770182,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764805503
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>.</p>",
        "id": 561910238,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764862515
    },
    {
        "content": "<p><strong>alexcrichton</strong> has marked <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a> as ready for review.</p>",
        "id": 561910285,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764862526
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-fuzz-reviewers\">wasmtime-fuzz-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>.</p>",
        "id": 561910291,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764862528
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/fitzgen\">fitzgen</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>.</p>",
        "id": 561910292,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764862528
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>.</p>",
        "id": 561910293,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764862528
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers\">wasmtime-default-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>.</p>",
        "id": 561910294,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764862528
    },
    {
        "content": "<p>dicej submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119#pullrequestreview-3558253370\">PR review</a>:</p>\n<blockquote>\n<p>Awesome work; thanks for doing this!</p>\n</blockquote>",
        "id": 562735540,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765297961
    },
    {
        "content": "<p>dicej created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119#discussion_r2603295018\">PR review comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>//!   hasn't quite happened yet but it's queued up to happen. To handle these\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 562735541,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765297961
    },
    {
        "content": "<p>dicej created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119#discussion_r2603383565\">PR review comment</a>:</p>\n<blockquote>\n<p>A comment here explaining why the command list is being reversed would be helpful.</p>\n</blockquote>",
        "id": 562735542,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765297961
    },
    {
        "content": "<p>dicej created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119#discussion_r2603332491\">PR review comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>    /// All known handles of this type, where they're located, etc.\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 562735543,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765297961
    },
    {
        "content": "<p>dicej created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119#discussion_r2603356315\">PR review comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>                // Writers can't actually be dropped prior to writing so \"fake\" a write by\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 562735544,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765297961
    },
    {
        "content": "<p>dicej created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119#discussion_r2603286764\">PR review comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>//! The purpose of this fuzzer is to stress the management of async stacks, the\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 562735545,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765297961
    },
    {
        "content": "<p>dicej created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119#discussion_r2603340847\">PR review comment</a>:</p>\n<blockquote>\n<p>Let's remember to revisit this once e.g. intra-component <code>stream&lt;u8&gt;</code> reads/writes are allowed.</p>\n</blockquote>",
        "id": 562735546,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765297961
    },
    {
        "content": "<p>dicej created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119#discussion_r2603364814\">PR review comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>                        // Two zero-length operations rendezvousing will leave\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 562735548,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765297962
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>.</p>",
        "id": 562765255,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765304819
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119#discussion_r2603823842\">PR review comment</a>:</p>\n<blockquote>\n<p>Agreed yeah, there's a lot of parallels in restrictions/limitations of the component model which are baked into this generator and as we relax things we're going to want to make sure to relax the generator here and/or adjust it.</p>\n</blockquote>",
        "id": 562765395,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765304856
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119#pullrequestreview-3558993442\">PR review</a>.</p>",
        "id": 562765397,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765304856
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>.</p>",
        "id": 562765511,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765304885
    },
    {
        "content": "<p>alexcrichton has enabled auto merge for <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>.</p>",
        "id": 562765535,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765304891
    },
    {
        "content": "<p>alexcrichton merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12119\">PR #12119</a>.</p>",
        "id": 562788336,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765311082
    }
]