[
    {
        "content": "<p><strong>rvolosatovs</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12155\">PR #12155</a>.</p>",
        "id": 563262254,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765479343
    },
    {
        "content": "<p>rvolosatovs opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12155\">PR #12155</a> from <code>rvolosatovs:fix/bindgen-async-clone</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>Discovered this trying to generate bindings for an interface containing something like:</p>\n<div class=\"codehilite\" data-code-language=\"wit\"><pre><span></span><code>record test {\n   rx: stream&lt;u8&gt;,\n   tx: stream&lt;u8&gt;,\n}\n</code></pre></div>\n<p>which failed with:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span><span class=\"p\">[</span><span class=\"n\">E0277</span><span class=\"p\">]:</span><span class=\"w\"> </span><span class=\"nc\">the</span><span class=\"w\"> </span><span class=\"k\">trait</span><span class=\"w\"> </span><span class=\"n\">bound</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">StreamReader</span><span class=\"o\">&lt;</span><span class=\"kt\">u8</span><span class=\"o\">&gt;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nb\">Clone</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">satisfied</span>\n<span class=\"w\">   </span><span class=\"o\">-</span><span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"nc\">crates</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">tls</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">p3</span><span class=\"o\">/</span><span class=\"n\">bindings</span><span class=\"p\">.</span><span class=\"n\">rs</span><span class=\"p\">:</span><span class=\"mi\">5</span><span class=\"p\">:</span><span class=\"mi\">5</span>\n<span class=\"w\">    </span><span class=\"o\">|</span>\n<span class=\"w\">  </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\">     </span><span class=\"n\">wasmtime</span><span class=\"p\">::</span><span class=\"n\">component</span><span class=\"p\">::</span><span class=\"n\">bindgen</span><span class=\"o\">!</span><span class=\"p\">({</span>\n<span class=\"w\">  </span><span class=\"mi\">6</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">         </span><span class=\"n\">path</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"src/p3/wit\"</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"mi\">7</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">         </span><span class=\"n\">world</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"wasi:tls/imports\"</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">         </span><span class=\"n\">imports</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\">   </span><span class=\"o\">|</span>\n<span class=\"w\"> </span><span class=\"mi\">14</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">         </span><span class=\"p\">},</span>\n<span class=\"w\"> </span><span class=\"mi\">15</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">});</span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">______</span><span class=\"o\">^</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"k\">trait</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"nb\">Clone</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">implemented</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">StreamReader</span><span class=\"o\">&lt;</span><span class=\"kt\">u8</span><span class=\"o\">&gt;</span><span class=\"err\">`</span>\n</code></pre></div>\n<p>The change is fairly minimal and straightforward, so did not work on a test or anything like that.</p>\n<p>I do not like this field name, but splitting into <code>has_future</code> and <code>has_stream</code> would require splitting also the <code>TypeDefKind</code> match cases (which are currently unified) and it did not quite feel right to include this in <code>has_handle</code> either.</p>\n</blockquote>",
        "id": 563262255,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765479343
    },
    {
        "content": "<p><strong>rvolosatovs</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12155\">PR #12155</a>.</p>",
        "id": 563262257,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765479343
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12155#pullrequestreview-3574497447\">PR review</a>:</p>\n<blockquote>\n<p>Thanks! Could you add a test for this as well?</p>\n<p>I think it would be reasonable to add <code>Clone</code> too, but I think that might require some careful handling on the runtime side of things as I don't think it's quite ready for clone/copy just yet.</p>\n</blockquote>",
        "id": 563637957,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765649390
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12155#pullrequestreview-3574497518\">PR review</a>.</p>",
        "id": 563637966,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765649402
    },
    {
        "content": "<p>rvolosatovs updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12155\">PR #12155</a>.</p>",
        "id": 573780795,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770999499
    },
    {
        "content": "<p>rvolosatovs <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12155#issuecomment-3898062488\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12155\">PR #12155</a>:</p>\n<blockquote>\n<p>Sorry for the delay here, @alexcrichton I've expanded the <code>records</code> test, would you take a look?</p>\n</blockquote>",
        "id": 573781016,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770999552
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12155#pullrequestreview-3798167561\">PR review</a>.</p>",
        "id": 573781456,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770999676
    },
    {
        "content": "<p>alexcrichton has enabled auto merge for <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12155\">PR #12155</a>.</p>",
        "id": 573781471,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1770999680
    },
    {
        "content": "<p>alexcrichton added <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12155\">PR #12155 fix(bindgen): futures and stream are not <code>Clone</code></a> to the merge queue</p>",
        "id": 573783358,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771000253
    },
    {
        "content": "<p>alexcrichton merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12155\">PR #12155</a>.</p>",
        "id": 573787965,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771001734
    },
    {
        "content": "<p>alexcrichton removed <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12155\">PR #12155 fix(bindgen): futures and stream are not <code>Clone</code></a> from the merge queue</p>",
        "id": 573787970,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771001736
    }
]