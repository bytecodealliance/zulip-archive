[
    {
        "content": "<p>wingo opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12178\">issue #12178</a>:</p>\n<blockquote>\n<p>To repro:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">    </span><span class=\"n\">dir</span><span class=\"p\">.</span><span class=\"n\">symlink_at</span><span class=\"p\">(</span><span class=\"s\">\".\"</span><span class=\"p\">.</span><span class=\"n\">to_string</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"s\">\"dot\"</span><span class=\"p\">.</span><span class=\"n\">to_string</span><span class=\"p\">()).</span><span class=\"k\">await</span><span class=\"p\">.</span><span class=\"n\">unwrap</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"fm\">assert_eq!</span><span class=\"p\">(</span>\n<span class=\"w\">        </span><span class=\"n\">dir</span><span class=\"p\">.</span><span class=\"n\">remove_directory_at</span><span class=\"p\">(</span><span class=\"s\">\"dot\"</span><span class=\"p\">.</span><span class=\"n\">to_string</span><span class=\"p\">()).</span><span class=\"k\">await</span><span class=\"p\">,</span>\n<span class=\"w\">        </span><span class=\"nb\">Err</span><span class=\"p\">(</span><span class=\"n\">ErrorCode</span><span class=\"p\">::</span><span class=\"n\">NotDirectory</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"p\">);</span>\n</code></pre></div>\n<p>Expected result: fails with <code>NotDirectory</code></p>\n<p>On windows, it succeeds: <a href=\"https://github.com/WebAssembly/wasi-testsuite/pull/198/files#r2630813076\">https://github.com/WebAssembly/wasi-testsuite/pull/198/files#r2630813076</a></p>\n</blockquote>",
        "id": 564444248,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766060019
    },
    {
        "content": "<p><a href=\"https://github.com/wingo\">wingo</a> added the bug label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12178\">Issue #12178</a>.</p>",
        "id": 564444249,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766060019
    },
    {
        "content": "<p><a href=\"https://github.com/fitzgen\">fitzgen</a> added the wasi:tests label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12178\">Issue #12178</a>.</p>",
        "id": 564514894,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766077595
    },
    {
        "content": "<p><a href=\"https://github.com/fitzgen\">fitzgen</a> added the wasi:impl label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12178\">Issue #12178</a>.</p>",
        "id": 564514895,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766077595
    },
    {
        "content": "<p><a href=\"https://github.com/fitzgen\">fitzgen</a> added the wasi label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12178\">Issue #12178</a>.</p>",
        "id": 564514896,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766077596
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12178#issuecomment-3671670651\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12178\">issue #12178</a>:</p>\n<blockquote>\n<p>Personally I'd say this is a case where the \"spec\" for <code>wasi:filesystem</code> should be updated to allow for this case. Windows symlinks are pretty different compared to Unix in subtle ways but there's only so much we can do. I don't think it'd be great if we were forced to, for example, test the file's existence in <code>remove-directory-at</code> first before actually trying to remove it.</p>\n</blockquote>",
        "id": 564534614,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766083230
    },
    {
        "content": "<p>wingo <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12178#issuecomment-3675364956\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12178\">issue #12178</a>:</p>\n<blockquote>\n<p>I keep learning horrible things!!!  Agreed that there is no viable workaround.  Goddammit.</p>\n</blockquote>",
        "id": 564713926,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766156055
    }
]