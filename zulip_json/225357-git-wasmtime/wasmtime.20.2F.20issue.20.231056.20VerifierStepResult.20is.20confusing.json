[
    {
        "content": "<p>cfallin labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056\">issue #1056</a>:</p>\n<blockquote>\n<p>The verifier functions have an API that could probably be simplified. Functions which return <code>VerifierStepResult</code> must by convention also take an out-param <code>VerifierErrors</code> that will contain non-fatal errors.</p>\n<p>Moreover, the <code>T</code> in <code>VerifierStepResult&lt;T&gt;</code> seems to always be set to <code>()</code>, so it's unused.</p>\n<p>It seems the out param is redundant with the error that's present in the <code>Result</code> hidden <code>VerifierStepResult</code>. I think slightly modifying the interface of <code>VerifierStepResult</code> would avoid this out param:</p>\n<ul>\n<li>let the <code>Ok</code> type be <code>VerifierErrors</code>, in case we only have non-fatal errors (they could be called \"warnings\").</li>\n<li>let the <code>Err</code> type stay the same (<code>VerifierErrors</code> too), and contain non-fatal and fatal errors, if there was at least one fatal error.</li>\n</ul>\n<p>Then we wouldn't need the <code>errors</code> outparam anymore, which looks cleaner and \"more Rusty\". It might mean that a few users of the <code>fatal!</code> etc macros would need to have their own <code>errors</code> variable, but that seems OK.</p>\n<p>Thoughts?</p>\n</blockquote>",
        "id": 281216311,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651696640
    },
    {
        "content": "<p>cfallin labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056\">issue #1056</a>:</p>\n<blockquote>\n<p>The verifier functions have an API that could probably be simplified. Functions which return <code>VerifierStepResult</code> must by convention also take an out-param <code>VerifierErrors</code> that will contain non-fatal errors.</p>\n<p>Moreover, the <code>T</code> in <code>VerifierStepResult&lt;T&gt;</code> seems to always be set to <code>()</code>, so it's unused.</p>\n<p>It seems the out param is redundant with the error that's present in the <code>Result</code> hidden <code>VerifierStepResult</code>. I think slightly modifying the interface of <code>VerifierStepResult</code> would avoid this out param:</p>\n<ul>\n<li>let the <code>Ok</code> type be <code>VerifierErrors</code>, in case we only have non-fatal errors (they could be called \"warnings\").</li>\n<li>let the <code>Err</code> type stay the same (<code>VerifierErrors</code> too), and contain non-fatal and fatal errors, if there was at least one fatal error.</li>\n</ul>\n<p>Then we wouldn't need the <code>errors</code> outparam anymore, which looks cleaner and \"more Rusty\". It might mean that a few users of the <code>fatal!</code> etc macros would need to have their own <code>errors</code> variable, but that seems OK.</p>\n<p>Thoughts?</p>\n</blockquote>",
        "id": 281216321,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651696649
    },
    {
        "content": "<p>aidenfoxivey <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056#issuecomment-2395191624\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056\">issue #1056</a>:</p>\n<blockquote>\n<p>@cfallin This issue seems finished - could it be a candidate for being closed?</p>\n</blockquote>",
        "id": 475021092,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1728160734
    },
    {
        "content": "<p>cfallin <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056#issuecomment-2395192485\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056\">issue #1056</a>:</p>\n<blockquote>\n<p>I don't think the core issue is actually resolved at all; and in the linked PR it mentions that it resolved a subpart of the problem only. This could still be a good starter-issue for someone wanting to do some cleanups.</p>\n</blockquote>",
        "id": 475021336,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1728160980
    },
    {
        "content": "<p>aidenfoxivey <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056#issuecomment-2395194321\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056\">issue #1056</a>:</p>\n<blockquote>\n<blockquote>\n<p>I don't think the core issue is actually resolved at all; and in the linked PR it mentions that it resolved a subpart of the problem only. This could still be a good starter-issue for someone wanting to do some cleanups.</p>\n</blockquote>\n<p>Ah neat, I see. I'll give it a read. :)</p>\n</blockquote>",
        "id": 475021973,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1728161526
    },
    {
        "content": "<p>bahbah94 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056#issuecomment-3461327689\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056\">issue #1056</a>:</p>\n<blockquote>\n<p>Hi, I would like to contribute to this.<br>\nWhere exactly does this originate, i see that the <code>T</code> param has been removed from the src/verifier/mod.rs <br>\nit seems i need to modify the type of VerifierResult, if this is the correct approach, are there tests suits to run to check correctness<br>\n</p>\n</blockquote>",
        "id": 547706303,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1761741914
    },
    {
        "content": "<p>bahbah94 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056#issuecomment-3461401280\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056\">issue #1056</a>:</p>\n<blockquote>\n<p>If im not wrong <br>\n<code>#[inline]\n    pub fn as_result(&amp;self) -&gt; VerifierStepResult {\n        if self.is_empty() { Ok(()) } else { Err(()) }\n    }\n</code><br>\nthe core problem lies here, where its returning <code>Ok(())</code> and respectively <code>Err(())</code>. ---- &gt; perhaps we should we return <code>OK(self)/Err(self)</code></p>\n</blockquote>",
        "id": 547709731,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1761742865
    },
    {
        "content": "<p>fitzgen closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056\">issue #1056</a>:</p>\n<blockquote>\n<p>The verifier functions have an API that could probably be simplified. Functions which return <code>VerifierStepResult</code> must by convention also take an out-param <code>VerifierErrors</code> that will contain non-fatal errors.</p>\n<p>Moreover, the <code>T</code> in <code>VerifierStepResult&lt;T&gt;</code> seems to always be set to <code>()</code>, so it's unused.</p>\n<p>It seems the out param is redundant with the error that's present in the <code>Result</code> hidden <code>VerifierStepResult</code>. I think slightly modifying the interface of <code>VerifierStepResult</code> would avoid this out param:</p>\n<ul>\n<li>let the <code>Ok</code> type be <code>VerifierErrors</code>, in case we only have non-fatal errors (they could be called \"warnings\").</li>\n<li>let the <code>Err</code> type stay the same (<code>VerifierErrors</code> too), and contain non-fatal and fatal errors, if there was at least one fatal error.</li>\n</ul>\n<p>Then we wouldn't need the <code>errors</code> outparam anymore, which looks cleaner and \"more Rusty\". It might mean that a few users of the <code>fatal!</code> etc macros would need to have their own <code>errors</code> variable, but that seems OK.</p>\n<p>Thoughts?</p>\n</blockquote>",
        "id": 554150953,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762450369
    },
    {
        "content": "<p>fitzgen <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056#issuecomment-3498523038\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056\">issue #1056</a>:</p>\n<blockquote>\n<p>Hey @bahbah94, this issue is pretty old and I don't think there's too much we need to do here actually. The verifier code has aged pretty well and been extended as necessary without problems, so I don't think it is worth spending time on this one.</p>\n<p>If you are still looking for something Cranelift-y to do, I'd suggest #11971. Thanks!</p>\n</blockquote>",
        "id": 554150955,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762450369
    },
    {
        "content": "<p>bahbah94 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056#issuecomment-3506465520\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1056\">issue #1056</a>:</p>\n<blockquote>\n<p>@fitzgen Thanks for the reply. I'll have a look at #11971. </p>\n</blockquote>",
        "id": 554475389,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1762601307
    }
]