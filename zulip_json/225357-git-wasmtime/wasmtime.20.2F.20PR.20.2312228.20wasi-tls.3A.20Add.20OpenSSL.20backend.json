[
    {
        "content": "<p>badeend opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a> from <code>badeend:openssl</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>Wasmtime currently supports two wasi-tls providers: rustls &amp; native-tls.</p>\n<p>Having multiple backend implementations in a single place helps with being able to quickly iterate on the WIT interface and validate that we're not codifying some rustls-specific behavior/feature into the spec.</p>\n<p>@rvolosatovs is looking at implementing wasi-tls for Python. But <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10089#issuecomment-2609606884\">as predicted</a>, <code>native-tls</code> is quickly showing its shortcomings. For example: it can't read the negotiated TLS version, which is needed to implement Python's <a href=\"https://docs.python.org/3/library/ssl.html#ssl.SSLSocket.version\"><code>SSLSocket.version()</code></a>.</p>\n<p>This PR adds a third backend: OpenSSL. The <code>openssl</code> crate exposes a <a href=\"https://docs.rs/openssl/latest/openssl/ssl/struct.SslContextBuilder.html\">much</a> <a href=\"https://docs.rs/openssl/latest/openssl/ssl/struct.Ssl.html\">larger</a> API surface than <code>native-tls</code> does and will most likely be enough for wasi-tls' future needs.</p>\n<p>Depending on how restrictive the <code>wasmtime-wasi-tls-nativetls</code> implementation ends up being, we might consider removing it altogether. For the time being it still works fine, so I've kept it.</p>\n<p>What matters to me is that we can demonstrate having two distinct TLS implementations working on all the three major platforms. As long as that criteria is being satisfied, I don't think it really matters whether that's <code>rustls+nativetls</code> or <code>rustls+openssl</code>.</p>\n</blockquote>",
        "id": 565676376,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767017510
    },
    {
        "content": "<p><strong>badeend</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-wasi-reviewers\">wasmtime-wasi-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565676378,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767017510
    },
    {
        "content": "<p><strong>badeend</strong> requested <a href=\"https://github.com/abrown\">abrown</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565676379,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767017510
    },
    {
        "content": "<p><strong>badeend</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers\">wasmtime-default-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565676380,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767017510
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565695510,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767025763
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565696081,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767026096
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565697471,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767026833
    },
    {
        "content": "<p>badeend edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>:</p>\n<blockquote>\n<p>Wasmtime currently supports two wasi-tls providers: rustls &amp; native-tls.</p>\n<p>Having multiple backend implementations in a single place helps with being able to quickly iterate on the WIT interface and validate that we're not codifying some rustls-specific behavior/feature into the spec.</p>\n<p>@rvolosatovs is looking at implementing wasi-tls for Python. But <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10089#issuecomment-2609606884\">as predicted</a>, <code>native-tls</code> is quickly showing its shortcomings. For example: it can't read the negotiated TLS version, which is needed to implement Python's <a href=\"https://docs.python.org/3/library/ssl.html#ssl.SSLSocket.version\"><code>SSLSocket.version()</code></a>.</p>\n<p>This PR adds a third backend: OpenSSL. The <code>openssl</code> crate exposes a <a href=\"https://docs.rs/openssl/latest/openssl/ssl/struct.SslContextBuilder.html\">much</a> <a href=\"https://docs.rs/openssl/latest/openssl/ssl/struct.Ssl.html\">larger</a> API surface than <code>native-tls</code> does and will most likely be enough for wasi-tls' future needs.</p>\n<p>Depending on how restrictive the <code>wasmtime-wasi-tls-nativetls</code> implementation ends up being, we might consider removing it altogether. For the time being it still works fine, so I've kept it.</p>\n<p>What matters to me is that we can demonstrate having two distinct TLS implementations working on all the three major platforms. As long as that criteria is being satisfied, I don't think it really matters whether that's <code>rustls+nativetls</code> or <code>rustls+openssl</code>.</p>\n<p>TODO:</p>\n<ul>\n<li>cargo vet</li>\n<li>get the Windows CI runner to work</li>\n</ul>\n</blockquote>",
        "id": 565708747,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767033236
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565709621,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767033801
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565709995,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767034121
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565713265,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767036528
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565714374,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767037405
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565714521,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767037532
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565714707,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767037716
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565715074,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767038055
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565715783,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767038487
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565717157,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767039509
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565721630,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767042945
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565722025,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767043208
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 565723148,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767044328
    },
    {
        "content": "<p>badeend edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>:</p>\n<blockquote>\n<p>Wasmtime currently supports two wasi-tls providers: rustls &amp; native-tls.</p>\n<p>Having multiple backend implementations in a single place helps with being able to quickly iterate on the WIT interface and validate that we're not codifying some rustls-specific behavior/feature into the spec.</p>\n<p>@rvolosatovs is looking at implementing wasi-tls for Python. But <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10089#issuecomment-2609606884\">as predicted</a>, <code>native-tls</code> is quickly showing its shortcomings. For example: it can't read the negotiated TLS version, which is needed to implement Python's <a href=\"https://docs.python.org/3/library/ssl.html#ssl.SSLSocket.version\"><code>SSLSocket.version()</code></a>.</p>\n<p>This PR adds a third backend: OpenSSL. The <code>openssl</code> crate exposes a <a href=\"https://docs.rs/openssl/latest/openssl/ssl/struct.SslContextBuilder.html\">much</a> <a href=\"https://docs.rs/openssl/latest/openssl/ssl/struct.Ssl.html\">larger</a> API surface than <code>native-tls</code> does and will most likely be enough for wasi-tls' future needs.</p>\n<p>Depending on how restrictive the <code>wasmtime-wasi-tls-nativetls</code> implementation ends up being, we might consider removing it altogether. For the time being it still works fine, so I've kept it.</p>\n<p>What matters to me is that we can demonstrate having two distinct TLS implementations working on all the three major platforms. As long as that criteria is being satisfied, I don't think it really matters whether that's <code>rustls+nativetls</code> or <code>rustls+openssl</code>.</p>\n</blockquote>",
        "id": 565725525,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767046489
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228#issuecomment-3710936404\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>:</p>\n<blockquote>\n<p>Thanks for this! (also thanks for wrangling CI here...)</p>\n<p>For the remaining checks -- could you publish a placeholder crate  and invite the <code>wasmtime-publish</code> github user to the crate? I'll accept the invite and add the <code>wasmtime-publish</code> github team too.</p>\n<p>For the vets, would it be possible to update the lock file to retain the slightly older versions of openssl/openssl-sys? Or are the new versions required? (not hard to vet but if it can be deferred might as well)</p>\n</blockquote>",
        "id": 566382265,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767627469
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 566444273,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767649914
    },
    {
        "content": "<p>badeend <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228#issuecomment-3712226962\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>:</p>\n<blockquote>\n<blockquote>\n<p>(also thanks for wrangling CI here...)</p>\n</blockquote>\n<p>It only took 14 attempts <span aria-label=\"zany face\" class=\"emoji emoji-1f92a\" role=\"img\" title=\"zany face\">:zany_face:</span> </p>\n<blockquote>\n<p>could you publish a placeholder crate and invite the wasmtime-publish github user to the crate?</p>\n</blockquote>\n<p>I've created the crate and added <code>wasmtime-publish</code>. Did you get the invite?</p>\n<blockquote>\n<p>would it be possible to update the lock file to retain the slightly older versions of openssl/openssl-sys?</p>\n</blockquote>\n<p>Yes! See latest commit. That still leaves <code>tokio-openssl</code> &amp; <code>wasmtime-wasi-tls-openssl</code> of course</p>\n</blockquote>",
        "id": 566444975,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767650291
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 566445735,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767650638
    },
    {
        "content": "<p>badeend edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228#issuecomment-3712226962\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>:</p>\n<blockquote>\n<blockquote>\n<p>(also thanks for wrangling CI here...)</p>\n</blockquote>\n<p>It only took 14 attempts <span aria-label=\"zany face\" class=\"emoji emoji-1f92a\" role=\"img\" title=\"zany face\">:zany_face:</span> </p>\n<blockquote>\n<p>could you publish a placeholder crate and invite the wasmtime-publish github user to the crate?</p>\n</blockquote>\n<p>I've created the crate and added <code>wasmtime-publish</code>. Did you get the invite?</p>\n<blockquote>\n<p>would it be possible to update the lock file to retain the slightly older versions of openssl/openssl-sys?</p>\n</blockquote>\n<p>Yes! ~See latest commit.~ That still leaves <code>tokio-openssl</code> &amp; <code>wasmtime-wasi-tls-openssl</code> of course</p>\n</blockquote>",
        "id": 566445905,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767650731
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228#pullrequestreview-3628576584\">PR review</a>:</p>\n<blockquote>\n<blockquote>\n<p>Did you get the invite?</p>\n</blockquote>\n<p>I did indeed! Should be updated now too.</p>\n<p>Looks like a <code>cargo vet</code> part remains? Otherwise r=me</p>\n</blockquote>",
        "id": 566446182,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767650861
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228#issuecomment-3720137062\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>:</p>\n<blockquote>\n<p>Oh, to clarify,  @badeend would you be ok adding the config recommended by <code>cargo vet</code> to get that clean? We try to have maintainers do the actual vets but this is just an infrastructure thing so it's fine for anyone to edit the files</p>\n</blockquote>",
        "id": 566794714,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767809747
    },
    {
        "content": "<p>badeend <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228#issuecomment-3720212070\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>:</p>\n<blockquote>\n<blockquote>\n<p>this is just an infrastructure thing</p>\n</blockquote>\n<p>Just to verify: aside from the placeholder <code>wasmtime-wasi-tls-openssl</code> crate, this PR is also adding a brand new dependency on <code>tokio-openssl</code> which is not under control of the BA. You want me to vet that as well?</p>\n</blockquote>",
        "id": 566798224,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767810925
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228#issuecomment-3720262387\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>:</p>\n<blockquote>\n<p>Oh sorry I forgot about that, I was going off the CI failure as:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">ERROR</span><span class=\"w\">   </span><span class=\"err\">×</span><span class=\"w\"> </span><span class=\"n\">There</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">issues</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"n\">your</span><span class=\"w\"> </span><span class=\"n\">policy</span><span class=\"p\">.</span><span class=\"n\">audit</span><span class=\"o\">-</span><span class=\"k\">as</span><span class=\"o\">-</span><span class=\"n\">crates</span><span class=\"o\">-</span><span class=\"n\">io</span><span class=\"w\"> </span><span class=\"n\">entries</span>\n\n<span class=\"n\">Error</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"err\">×</span><span class=\"w\"> </span><span class=\"nb\">Some</span><span class=\"w\"> </span><span class=\"n\">non</span><span class=\"o\">-</span><span class=\"n\">crates</span><span class=\"p\">.</span><span class=\"n\">io</span><span class=\"o\">-</span><span class=\"n\">fetched</span><span class=\"w\"> </span><span class=\"n\">packages</span><span class=\"w\"> </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">published</span><span class=\"w\"> </span><span class=\"n\">crates</span><span class=\"p\">.</span><span class=\"n\">io</span><span class=\"w\"> </span><span class=\"n\">versions</span>\n<span class=\"w\">  </span><span class=\"err\">│</span><span class=\"w\">   </span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">tls</span><span class=\"o\">-</span><span class=\"n\">openssl</span><span class=\"p\">:</span><span class=\"mf\">42.0.1</span>\n<span class=\"w\">  </span><span class=\"n\">help</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nc\">Add</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">policy</span><span class=\"p\">.</span><span class=\"o\">*</span><span class=\"p\">.</span><span class=\"n\">audit</span><span class=\"o\">-</span><span class=\"k\">as</span><span class=\"o\">-</span><span class=\"n\">crates</span><span class=\"o\">-</span><span class=\"n\">io</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">entry</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">them</span>\n</code></pre></div>\n<p>and I suspect that it'd later complain about <code>tokio-openssl</code> if that were resolved. If you wouldn't mind resolving this error about <code>wasmtime-wasi-tls-openssl</code> I'll add the vet for <code>tokio-openssl</code></p>\n</blockquote>",
        "id": 566800325,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767811633
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 567242753,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767984901
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 567244834,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767985617
    },
    {
        "content": "<p>badeend updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 567246451,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767986173
    },
    {
        "content": "<p>badeend <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228#issuecomment-3730262983\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>:</p>\n<blockquote>\n<p>I've vetted <code>wasmtime-wasi-tls-openssl</code></p>\n</blockquote>",
        "id": 567246778,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767986294
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 567254582,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767989271
    },
    {
        "content": "<p>alexcrichton has enabled auto merge for <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 567254596,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767989281
    },
    {
        "content": "<p>alexcrichton merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12228\">PR #12228</a>.</p>",
        "id": 567259621,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1767991424
    }
]