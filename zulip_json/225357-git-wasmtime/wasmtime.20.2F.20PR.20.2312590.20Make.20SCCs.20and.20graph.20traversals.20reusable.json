[
    {
        "content": "<p><strong>fitzgen</strong> requested <a href=\"https://github.com/cfallin\">cfallin</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590\">PR #12590</a>.</p>",
        "id": 573828752,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771017134
    },
    {
        "content": "<p>fitzgen opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590\">PR #12590</a> from <code>fitzgen:make-scc-reusable</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>This moves our existing SCC computation and DFS graph traversals out of <code>wasmtime::compile</code> and into <code>wasmtime_environ::graphs</code>, where they can be reused elsewhere in the workspace. These functions and types were already generally generic over an iterator of nodes and/or an edge function to get a particular node's successors, but I've gone one step further and packaged up those two things together into a <code>Graph</code> trait.</p>\n<p>In the process, I also moved the <code>NonMaxU32</code> type to <code>wasmtime_internal_core</code> and made it so we have other non-max integer types as well.</p>\n<p>This will let us reuse SCC computation in our GC ops fuzzer, where we need SCCs to figure out how to merge fuzzer-generated rec groups, if necessary, since cyclic type references are constrained to within the same rec group. The GC ops fuzzer can also reuse the DFS traversal code in its topological sorting of supertypes and subtypes as well.</p>\n<p>This is mostly, but not quite completely, code motion and fixups of paths and such.</p>\n<p>@cfallin, I'm flagging you for review on this one because you reviewed the initial PRs that landed this code.</p>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 573828753,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771017134
    },
    {
        "content": "<p><strong>fitzgen</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590\">PR #12590</a>.</p>",
        "id": 573828755,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771017135
    },
    {
        "content": "<p>fitzgen updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590\">PR #12590</a>.</p>",
        "id": 573830112,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771017814
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590#pullrequestreview-3799625688\">PR review</a>:</p>\n<blockquote>\n<p>Seems reasonable!</p>\n<p>I was idly wondering whether it would make more sense to put the graph-related bits in <code>crates/core/</code> since that is becoming a home for data structures in general, but I guess the focus there is more on foundational containers (with explicit OOM handling) than algorithms, and also the bits here are not adapted for OOM so we'd be mixing universes if we did that? I'm fine either way honestly.</p>\n</blockquote>",
        "id": 573830248,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771017914
    },
    {
        "content": "<p>github-actions[bot] added the label <code>wasmtime:api</code> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590\">PR #12590</a>.</p>",
        "id": 573839915,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771023250
    },
    {
        "content": "<p>fitzgen updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590\">PR #12590</a>.</p>",
        "id": 574345644,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771348612
    },
    {
        "content": "<p>fitzgen <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590#issuecomment-3915989407\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590\">PR #12590</a>:</p>\n<blockquote>\n<blockquote>\n<p>I was idly wondering whether it would make more sense to put the graph-related bits in <code>crates/core/</code> since that is becoming a home for data structures in general, but I guess the focus there is more on foundational containers (with explicit OOM handling) than algorithms, and also the bits here are not adapted for OOM so we'd be mixing universes if we did that? I'm fine either way honestly.</p>\n</blockquote>\n<p>Yeah I think probably in an ideal world it would be like <code>wasmtime-internal-graph</code> or something but too many crates has annoying administrative overheads. At this point, whether something goes in <code>crates/core</code> or <code>crates/environ</code> is like 75% whether anything in Cranelift's dep graph needs it or not in my mind.</p>\n<p>Anyways, we can always move things around if we find that we need to down the line.</p>\n</blockquote>",
        "id": 574346140,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771348745
    },
    {
        "content": "<p>fitzgen added <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590\">PR #12590 Make SCCs and graph traversals reusable</a> to the merge queue.</p>",
        "id": 574355864,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771351665
    },
    {
        "content": "<p>github-merge-queue[bot] removed <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590\">PR #12590 Make SCCs and graph traversals reusable</a> from the merge queue.</p>",
        "id": 574360405,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771353151
    },
    {
        "content": "<p>fitzgen updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590\">PR #12590</a>.</p>",
        "id": 574361283,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771353479
    },
    {
        "content": "<p>fitzgen has enabled auto merge for <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590\">PR #12590</a>.</p>",
        "id": 574361296,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771353485
    },
    {
        "content": "<p>fitzgen added <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590\">PR #12590 Make SCCs and graph traversals reusable</a> to the merge queue.</p>",
        "id": 574363658,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771354378
    },
    {
        "content": "<p>fitzgen merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590\">PR #12590</a>.</p>",
        "id": 574369277,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771356300
    },
    {
        "content": "<p>fitzgen removed <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12590\">PR #12590 Make SCCs and graph traversals reusable</a> from the merge queue.</p>",
        "id": 574369281,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771356302
    }
]