[
    {
        "content": "<p>KGrewal1 edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748\">PR #11748</a>.</p>",
        "id": 541805772,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1758979120
    },
    {
        "content": "<p>KGrewal1 edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748\">PR #11748</a>:</p>\n<blockquote>\n<p>Add opts for ctz and clz - issues #11725 <br>\nAdd opts for srem and urem</p>\n</blockquote>",
        "id": 541805787,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1758979133
    },
    {
        "content": "<p>KGrewal1 updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748\">PR #11748</a>.</p>",
        "id": 542114512,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759171411
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#pullrequestreview-3281316528\">PR review</a>:</p>\n<blockquote>\n<p>Thanks!</p>\n</blockquote>",
        "id": 542117374,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759172396
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#discussion_r2388947983\">PR review comment</a>:</p>\n<blockquote>\n<p>I think we need to match <code>ty</code> here too, otherwise the sign-extends in the helpers are wrong, right?</p>\n</blockquote>",
        "id": 542117375,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759172397
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#discussion_r2388944288\">PR review comment</a>:</p>\n<blockquote>\n<p>I'm curious why the <code>checked_sub</code> is necessary here, rather than an assert that <code>ty.bits() &lt;= 64</code> (which should be the case for any <code>Imm64</code>)?</p>\n</blockquote>",
        "id": 542117376,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759172397
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#discussion_r2388941018\">PR review comment</a>:</p>\n<blockquote>\n<p><code>i64::from</code> here, preferably? (<code>u32</code> should have an infallible <code>From</code> impl for this)</p>\n</blockquote>",
        "id": 542117377,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759172397
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#discussion_r2388946319\">PR review comment</a>:</p>\n<blockquote>\n<p>Can we extract the sign-extend pattern here into a helper? Something like</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">fn</span><span class=\"w\"> </span><span class=\"nf\">sign_extend</span><span class=\"p\">(</span><span class=\"n\">raw</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kt\">i64</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">from_bits</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kt\">u32</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">to_bits</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kt\">u32</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"kt\">i64</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"p\">}</span>\n</code></pre></div>\n<p>then we can use it below too.</p>\n</blockquote>",
        "id": 542117378,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759172397
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#discussion_r2388952322\">PR review comment</a>:</p>\n<blockquote>\n<p>Can we add tests for:</p>\n<ul>\n<li><code>INT_MIN % -1</code>, for narrow and wide types (i8, i16, i32, i64)</li>\n<li>negative and positive values in numerator and denominator for narrow and wide types</li>\n</ul>\n<p>and runtests that are known to trigger these optimizations as well? (For the runtests, set <code>opt_level</code>; we won't be able to directly assert on the compilation output, but we should at least lock down that the computations produce the correct value)</p>\n</blockquote>",
        "id": 542117379,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759172397
    },
    {
        "content": "<p>KGrewal1 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#pullrequestreview-3281387658\">PR review</a>.</p>",
        "id": 542120285,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759173157
    },
    {
        "content": "<p>KGrewal1 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#discussion_r2388986913\">PR review comment</a>:</p>\n<blockquote>\n<p>This was for consistency with the sdiv helper - agreed this makes sense for both</p>\n</blockquote>",
        "id": 542120289,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759173158
    },
    {
        "content": "<p>KGrewal1 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#pullrequestreview-3281422682\">PR review</a>.</p>",
        "id": 542121684,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759173571
    },
    {
        "content": "<p>KGrewal1 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#discussion_r2389009637\">PR review comment</a>:</p>\n<blockquote>\n<p>yes - this sign extends both are the same width (think this needs to change in sdiv too)O</p>\n</blockquote>",
        "id": 542121686,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759173572
    },
    {
        "content": "<p>KGrewal1 edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#discussion_r2389009637\">PR review comment</a>.</p>",
        "id": 542121704,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759173577
    },
    {
        "content": "<p>KGrewal1 updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748\">PR #11748</a>.</p>",
        "id": 542122608,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759173865
    },
    {
        "content": "<p>KGrewal1 edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#discussion_r2389009637\">PR review comment</a>.</p>",
        "id": 542122658,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759173880
    },
    {
        "content": "<p>KGrewal1 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#pullrequestreview-3281444717\">PR review</a>.</p>",
        "id": 542122760,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759173908
    },
    {
        "content": "<p>KGrewal1 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#discussion_r2389022055\">PR review comment</a>:</p>\n<blockquote>\n<p>where is the best place to put helpers for this code - can stick it at the top / bottom outside the macro, but seems unideal</p>\n</blockquote>",
        "id": 542122764,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759173909
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#pullrequestreview-3281453964\">PR review</a>.</p>",
        "id": 542123209,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759174031
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#discussion_r2389026652\">PR review comment</a>:</p>\n<blockquote>\n<p>Ah, right, it's a little awkward because of that -- I would perhaps put it on the <code>Imm64</code> itself then? Something like <code>Imm64::sign_extended(&amp;self, from_bits: u32, to_bits: u32) -&gt; i64</code> and `Imm64::from_narrow(bits: i64, bits: i64) to go the other way and encapsulate the masking as well?</p>\n</blockquote>",
        "id": 542123210,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759174031
    },
    {
        "content": "<p><strong>KGrewal1</strong> requested <a href=\"https://github.com/dicej\">dicej</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748\">PR #11748</a>.</p>",
        "id": 542130707,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759176489
    },
    {
        "content": "<p><strong>KGrewal1</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748\">PR #11748</a>.</p>",
        "id": 542130708,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759176489
    },
    {
        "content": "<p>KGrewal1 updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748\">PR #11748</a>.</p>",
        "id": 542130709,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759176489
    },
    {
        "content": "<p>KGrewal1 updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748\">PR #11748</a>.</p>",
        "id": 542131055,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759176642
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#pullrequestreview-3281632352\">PR review</a>:</p>\n<blockquote>\n<p>Two more things I noticed -- one below, and then the submodules for <code>spec_testsuite</code> and <code>wasi-common</code> have been changed as well, which is probably unintentional (easy footgun with <code>git</code> forgetting to update submodules when merging upstream).</p>\n</blockquote>",
        "id": 542131471,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759176816
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#discussion_r2389160023\">PR review comment</a>:</p>\n<blockquote>\n<p>It looks like there's commented-out code here -- can we remove it?</p>\n</blockquote>",
        "id": 542131472,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759176817
    },
    {
        "content": "<p>KGrewal1 updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748\">PR #11748</a>.</p>",
        "id": 542131666,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759176891
    },
    {
        "content": "<p>KGrewal1 updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748\">PR #11748</a>.</p>",
        "id": 542133288,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759177523
    },
    {
        "content": "<p>KGrewal1 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#pullrequestreview-3281672628\">PR review</a>.</p>",
        "id": 542133410,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759177569
    },
    {
        "content": "<p>KGrewal1 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#discussion_r2389189597\">PR review comment</a>:</p>\n<blockquote>\n<p>Realized there are already functions for this so used those :) </p>\n</blockquote>",
        "id": 542133411,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759177569
    },
    {
        "content": "<p>KGrewal1 updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748\">PR #11748</a>.</p>",
        "id": 542134153,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759177827
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#pullrequestreview-3290937700\">PR review</a>:</p>\n<blockquote>\n<p>Thanks!</p>\n</blockquote>",
        "id": 542574380,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759349463
    },
    {
        "content": "<p>cfallin merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748\">PR #11748</a>.</p>",
        "id": 542578118,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759351045
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748#issuecomment-3366310319\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11748\">PR #11748</a>:</p>\n<blockquote>\n<p>This ended up having a bug detected via fuzzing so I'm posting a revert of this at <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11785\">https://github.com/bytecodealliance/wasmtime/pull/11785</a> as the release branch is pretty near. @KGrewal1 would you be up for investigating the fuzz failure (linked in <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11785\">https://github.com/bytecodealliance/wasmtime/pull/11785</a>) and resubmitting this PR?</p>\n</blockquote>",
        "id": 542979409,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1759507781
    }
]