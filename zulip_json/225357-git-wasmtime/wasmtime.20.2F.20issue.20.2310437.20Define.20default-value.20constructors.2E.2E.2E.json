[
    {
        "content": "<p><a href=\"https://github.com/fitzgen\">fitzgen</a> added the good first issue label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437\">Issue #10437</a>.</p>",
        "id": 507058925,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1742498949
    },
    {
        "content": "<p>fitzgen opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437\">issue #10437</a>:</p>\n<blockquote>\n<p>We already have code to create default values in order to implement <a href=\"https://docs.rs/wasmtime/latest/wasmtime/struct.Linker.html#method.define_unknown_imports_as_default_values\">https://docs.rs/wasmtime/latest/wasmtime/struct.Linker.html#method.define_unknown_imports_as_default_values</a></p>\n<p>We have duplicates of that code in the fuzzing utility crate: <a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/crates/fuzzing/src/oracles/dummy.rs\">https://github.com/bytecodealliance/wasmtime/blob/main/crates/fuzzing/src/oracles/dummy.rs</a></p>\n<p>We should just expose those constructors in the public API of the <code>wasmtime</code> crate, move the various fuzzing oracles over to these methods, and then delete 95% of that <code>wasmtime_fuzzing::oracles::dummy</code> module.</p>\n<p>I am thinking that we will want to expose these as <code>pub fn default_value(&amp;self, store: impl AsContextMut) -&gt; Option&lt;T&gt;</code> methods on <code>wasmtime::{ExternType,GlobalType,MemoryType,ValType,...}</code> where <code>T</code> is <code>wasmtime::Memory</code> for the <code>wasmtime::MemoryType</code> method, etc...</p>\n</blockquote>",
        "id": 507058929,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1742498950
    },
    {
        "content": "<p>shashi1687 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437#issuecomment-3042903754\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437\">issue #10437</a>:</p>\n<blockquote>\n<p>Hi @maintainers <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span></p>\n<p>I’d love to tackle #10437 “Define default-value constructors for various Wasm types in the host API.” I’ve already cloned Wasmtime, run the existing <code>wasmtime-fuzzing</code> tests, and traced how <code>dummy-linker</code> uses <code>import.ty().default_value(&amp;mut *store)</code> to synthesize imports. My plan is to:</p>\n<ol>\n<li>Expose <code>ExternType::default_value</code> in the public API by matching on each variant (func, global, memory, table) and returning a default <code>Extern</code>.</li>\n<li>Add per-type helpers (e.g. <code>GlobalType::default_value</code>) so users don’t need to manually wrap in <code>ExternType</code>.</li>\n<li>Write unit tests in <code>crates/api/tests/default_value.rs</code> for each type to ensure correct defaults.</li>\n<li>Validate via <code>cargo test</code>, <code>cargo fmt</code>, and <code>cargo clippy --workspace --all-targets</code>.</li>\n</ol>\n<p>I’m comfortable working in the <code>wasmtime</code> crate’s Rust API modules and following the existing style guidelines. Could you please assign this issue to me? <br>\nThanks!<br>\n</p>\n</blockquote>",
        "id": 527376764,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1751840285
    },
    {
        "content": "<p>shashi1687 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437#issuecomment-3042903754\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437\">issue #10437</a>:</p>\n<blockquote>\n<p>Hi all,</p>\n<p>I’ve traced through <code>crates/wasmtime/src/runtime/types.rs</code> and can confirm that all five <code>default_value</code> constructors are already exposed in the public API:</p>\n<ul>\n<li><code>ExternType::default_value(&amp;self, store) -&gt; Result&lt;Extern&gt;</code></li>\n<li><code>GlobalType::default_value(&amp;self, store) -&gt; Result&lt;RuntimeGlobal&gt;</code></li>\n<li><code>MemoryType::default_value(&amp;self, store) -&gt; Result&lt;RuntimeMemory&gt;</code></li>\n<li><code>TableType::default_value(&amp;self, store) -&gt; Result&lt;RuntimeTable&gt;</code></li>\n<li><code>FuncType::default_value(&amp;self, store) -&gt; Result&lt;Func&gt;</code></li>\n</ul>\n<p>That means #10437 is already implemented upstream. My original plan was to:</p>\n<ol>\n<li>Expose these helpers in the public API.</li>\n<li>Add unit tests in <code>crates/api/tests/default_value.rs</code>.</li>\n<li>Validate via <code>cargo test</code>, <code>cargo fmt</code>, and <code>cargo clippy</code>.</li>\n</ol>\n<p>Since the code is already present, here are the proposed next steps:</p>\n<ol>\n<li><strong>Test coverage</strong>: Add any missing corner-case tests (e.g. tags or other edge types).  </li>\n<li><strong>Documentation/examples</strong>: Draft a short example in <code>examples/default_value.rs</code> or update the guide to illustrate these APIs.  </li>\n<li><strong>Close/Follow-up</strong>: If there’s nothing more to add here, please let me know and we can close this issue.  </li>\n</ol>\n<p>Happy to take on any of the above—just let me know what you’d like!  </p>\n</blockquote>",
        "id": 527380456,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1751845046
    },
    {
        "content": "<p>shashi1687 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437#issuecomment-3042903754\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437\">issue #10437</a>:</p>\n<blockquote>\n<p>Hi all,</p>\n<p>I’ve traced through <code>crates/wasmtime/src/runtime/types.rs</code> and can confirm that all five <code>default_value</code> constructors are already exposed in the public API:</p>\n<ul>\n<li><code>ExternType::default_value(&amp;self, store) -&gt; Result&lt;Extern&gt;</code></li>\n<li><code>GlobalType::default_value(&amp;self, store) -&gt; Result&lt;RuntimeGlobal&gt;</code></li>\n<li><code>MemoryType::default_value(&amp;self, store) -&gt; Result&lt;RuntimeMemory&gt;</code></li>\n<li><code>TableType::default_value(&amp;self, store) -&gt; Result&lt;RuntimeTable&gt;</code></li>\n<li><code>FuncType::default_value(&amp;self, store) -&gt; Result&lt;Func&gt;</code></li>\n</ul>\n<p>That means #10437 is already implemented upstream. My original plan was to:</p>\n<ol>\n<li>Expose these helpers in the public API.</li>\n<li>Add unit tests in <code>crates/api/tests/default_value.rs</code>.</li>\n<li>Validate via <code>cargo test</code>, <code>cargo fmt</code>, and <code>cargo clippy</code>.</li>\n</ol>\n<p>Since the code is already present, here are the proposed next steps:</p>\n<ol>\n<li><strong>Test coverage</strong>: Add any missing corner-case tests (e.g. tags or other edge types).  </li>\n<li><strong>Documentation/examples</strong>: Draft a short example in <code>examples/default_value.rs</code> or update the guide to illustrate these APIs.  </li>\n<li><strong>Close/Follow-up</strong>: If there’s nothing more to add here, please let me know . </li>\n</ol>\n<p>Happy to take on any of the above—just let me know what you’d like!  </p>\n</blockquote>",
        "id": 527380469,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1751845064
    },
    {
        "content": "<p>shashi1687 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437#issuecomment-3042903754\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437\">issue #10437</a>:</p>\n<blockquote>\n<p>Hi all,</p>\n<p>I’ve traced through <code>crates/wasmtime/src/runtime/types.rs</code> and can confirm that all five <code>default_value</code> constructors are already exposed in the public API:</p>\n<ul>\n<li><code>ExternType::default_value(&amp;self, store) -&gt; Result&lt;Extern&gt;</code></li>\n<li><code>GlobalType::default_value(&amp;self, store) -&gt; Result&lt;RuntimeGlobal&gt;</code></li>\n<li><code>MemoryType::default_value(&amp;self, store) -&gt; Result&lt;RuntimeMemory&gt;</code></li>\n<li><code>TableType::default_value(&amp;self, store) -&gt; Result&lt;RuntimeTable&gt;</code></li>\n<li><code>FuncType::default_value(&amp;self, store) -&gt; Result&lt;Func&gt;</code></li>\n</ul>\n<p>This is my first issue in Wasmtime, and I’d love your suggestions and input on what to do next in this PR:</p>\n<ul>\n<li>Are there any missing corner-case tests you’d like me to add?  </li>\n<li>Should I draft an example or update docs to showcase these APIs?  </li>\n<li>Is there anything else I can improve or clean up before we close this issue?</li>\n</ul>\n<p>Looking forward to your guidance—thanks for your help!  </p>\n</blockquote>",
        "id": 527380649,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1751845296
    },
    {
        "content": "<p>fitzgen <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437#issuecomment-3045754930\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437\">issue #10437</a>:</p>\n<blockquote>\n<p>Hi @shashi1687,</p>\n<p>It looks like <code>{Global,Table,Memory}Type::default_value</code> do not have any any doc comments. Adding a couple sentences to those docs would be fantastic. Once that is done, I think we can close this issue.</p>\n</blockquote>",
        "id": 527513050,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1751904671
    },
    {
        "content": "<p>shashi1687 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437#issuecomment-3046937579\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437\">issue #10437</a>:</p>\n<blockquote>\n<p>Hi @fitzgen , thanks for the feedback! I’ve added doc comments to:</p>\n<ul>\n<li><code>GlobalType::default_value</code></li>\n<li><code>TableType::default_value</code></li>\n<li><code>MemoryType::default_value</code></li>\n</ul>\n<p>Could you please take another look and let me know if there’s anything else to improve? Thanks! <span aria-label=\"blush\" class=\"emoji emoji-1f60a\" role=\"img\" title=\"blush\">:blush:</span><br>\n</p>\n</blockquote>",
        "id": 527585433,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1751933955
    },
    {
        "content": "<p>shashi1687 deleted a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437#issuecomment-3046937579\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437\">issue #10437</a>:</p>\n<blockquote>\n<p>Hi @fitzgen , thanks for the feedback! I’ve added doc comments to:</p>\n<ul>\n<li><code>GlobalType::default_value</code></li>\n<li><code>TableType::default_value</code></li>\n<li><code>MemoryType::default_value</code></li>\n</ul>\n<p>Could you please take another look and let me know if there’s anything else to improve? Thanks! <span aria-label=\"blush\" class=\"emoji emoji-1f60a\" role=\"img\" title=\"blush\">:blush:</span><br>\n</p>\n</blockquote>",
        "id": 527586342,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1751934881
    },
    {
        "content": "<p>shashi1687 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437#issuecomment-3046965957\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437\">issue #10437</a>:</p>\n<blockquote>\n<p>Hi @fitzgen  , thanks for the feedback! I’ve added doc comments to:</p>\n<ul>\n<li><code>GlobalType::default_value</code></li>\n<li><code>TableType::default_value</code></li>\n<li><code>MemoryType::default_value</code></li>\n</ul>\n<p>Could you please take another look and let me know if there’s anything else to improve? Thanks! <span aria-label=\"blush\" class=\"emoji emoji-1f60a\" role=\"img\" title=\"blush\">:blush:</span></p>\n</blockquote>",
        "id": 527586353,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1751934896
    },
    {
        "content": "<p>pchickey closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10437\">issue #10437</a>:</p>\n<blockquote>\n<p>We already have code to create default values in order to implement <a href=\"https://docs.rs/wasmtime/latest/wasmtime/struct.Linker.html#method.define_unknown_imports_as_default_values\">https://docs.rs/wasmtime/latest/wasmtime/struct.Linker.html#method.define_unknown_imports_as_default_values</a></p>\n<p>We have duplicates of that code in the fuzzing utility crate: <a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/crates/fuzzing/src/oracles/dummy.rs\">https://github.com/bytecodealliance/wasmtime/blob/main/crates/fuzzing/src/oracles/dummy.rs</a></p>\n<p>We should just expose those constructors in the public API of the <code>wasmtime</code> crate, move the various fuzzing oracles over to these methods, and then delete 95% of that <code>wasmtime_fuzzing::oracles::dummy</code> module.</p>\n<p>I am thinking that we will want to expose these as <code>pub fn default_value(&amp;self, store: impl AsContextMut) -&gt; Option&lt;T&gt;</code> methods on <code>wasmtime::{ExternType,GlobalType,MemoryType,ValType,...}</code> where <code>T</code> is <code>wasmtime::Memory</code> for the <code>wasmtime::MemoryType</code> method, etc...</p>\n</blockquote>",
        "id": 527588894,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1751936970
    }
]