[
    {
        "content": "<p>lucasmlp opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/10240\">issue #10240</a>:</p>\n<blockquote>\n<p>Hi</p>\n<p>I'm building Wasmtime C API <code>v0.38.1</code> so I can use the binaries in <code>wasm-nginx-module@0.7.0</code>.<br>\nThis is the error I'm getting while running <code>cargo build --release --manifest-path crates/c-api/Cargo.toml</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>error<span class=\"o\">[</span>E0061<span class=\"o\">]</span>:<span class=\"w\"> </span>this<span class=\"w\"> </span>method<span class=\"w\"> </span>takes<span class=\"w\"> </span><span class=\"m\">1</span><span class=\"w\"> </span>argument<span class=\"w\"> </span>but<span class=\"w\"> </span><span class=\"m\">2</span><span class=\"w\"> </span>arguments<span class=\"w\"> </span>were<span class=\"w\"> </span>supplied\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">   </span>--&gt;<span class=\"w\"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:20:25\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span><span class=\"m\">20</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">             </span><span class=\"k\">return</span><span class=\"w\"> </span>file.set_times<span class=\"o\">(</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span><span class=\"w\">                         </span>^^^^^^^^^\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span><span class=\"m\">21</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">                 </span>atime.map<span class=\"o\">(</span>SystemTimeSpec::into_std<span class=\"o\">)</span>,\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span><span class=\"m\">22</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">                 </span>mtime.map<span class=\"o\">(</span>SystemTimeSpec::into_std<span class=\"o\">)</span>,\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span><span class=\"w\">                 </span>-----------------------------------<span class=\"w\"> </span>unexpected<span class=\"w\"> </span>argument<span class=\"w\"> </span><span class=\"c1\">#2 of type `Option&lt;fs_set_times::SystemTimeSpec&gt;`</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span>note:<span class=\"w\"> </span>expected<span class=\"w\"> </span><span class=\"sb\">`</span>FileTimes<span class=\"sb\">`</span>,<span class=\"w\"> </span>found<span class=\"w\"> </span><span class=\"sb\">`</span>Option&lt;SystemTimeSpec&gt;<span class=\"sb\">`</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">   </span>--&gt;<span class=\"w\"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:21:17\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span><span class=\"m\">21</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">                 </span>atime.map<span class=\"o\">(</span>SystemTimeSpec::into_std<span class=\"o\">)</span>,\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span><span class=\"w\">                 </span>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span>note:<span class=\"w\"> </span>expected<span class=\"w\"> </span>struct<span class=\"w\"> </span><span class=\"sb\">`</span>FileTimes<span class=\"sb\">`</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">                 </span>found<span class=\"w\"> </span>enum<span class=\"w\"> </span><span class=\"sb\">`</span>Option&lt;fs_set_times::SystemTimeSpec&gt;<span class=\"sb\">`</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span>note:<span class=\"w\"> </span>method<span class=\"w\"> </span>defined<span class=\"w\"> </span>here\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">   </span>--&gt;<span class=\"w\"> </span>/home/abuild/rpmbuild/BUILD/rustc-1.84.0-src/library/std/src/fs.rs:1019:12\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span>help:<span class=\"w\"> </span>remove<span class=\"w\"> </span>the<span class=\"w\"> </span>extra<span class=\"w\"> </span>argument\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span><span class=\"m\">21</span><span class=\"w\"> </span>-<span class=\"w\">                 </span>atime.map<span class=\"o\">(</span>SystemTimeSpec::into_std<span class=\"o\">)</span>,\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span><span class=\"m\">21</span><span class=\"w\"> </span>+<span class=\"w\">                 </span>/*<span class=\"w\"> </span>FileTimes<span class=\"w\"> </span>*/,\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span>error<span class=\"o\">[</span>E0061<span class=\"o\">]</span>:<span class=\"w\"> </span>this<span class=\"w\"> </span>method<span class=\"w\"> </span>takes<span class=\"w\"> </span><span class=\"m\">1</span><span class=\"w\"> </span>argument<span class=\"w\"> </span>but<span class=\"w\"> </span><span class=\"m\">2</span><span class=\"w\"> </span>arguments<span class=\"w\"> </span>were<span class=\"w\"> </span>supplied\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">   </span>--&gt;<span class=\"w\"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:34:25\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span><span class=\"m\">34</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">             </span><span class=\"k\">return</span><span class=\"w\"> </span>file.set_times<span class=\"o\">(</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span><span class=\"w\">                         </span>^^^^^^^^^\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span><span class=\"m\">35</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">                 </span>atime.map<span class=\"o\">(</span>SystemTimeSpec::into_std<span class=\"o\">)</span>,\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span><span class=\"m\">36</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">                 </span>mtime.map<span class=\"o\">(</span>SystemTimeSpec::into_std<span class=\"o\">)</span>,\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span><span class=\"w\">                 </span>-----------------------------------<span class=\"w\"> </span>unexpected<span class=\"w\"> </span>argument<span class=\"w\"> </span><span class=\"c1\">#2 of type `Option&lt;fs_set_times::SystemTimeSpec&gt;`</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span>note:<span class=\"w\"> </span>expected<span class=\"w\"> </span><span class=\"sb\">`</span>FileTimes<span class=\"sb\">`</span>,<span class=\"w\"> </span>found<span class=\"w\"> </span><span class=\"sb\">`</span>Option&lt;SystemTimeSpec&gt;<span class=\"sb\">`</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">   </span>--&gt;<span class=\"w\"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:35:17\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span><span class=\"m\">35</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">                 </span>atime.map<span class=\"o\">(</span>SystemTimeSpec::into_std<span class=\"o\">)</span>,\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span><span class=\"w\">                 </span>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span>note:<span class=\"w\"> </span>expected<span class=\"w\"> </span>struct<span class=\"w\"> </span><span class=\"sb\">`</span>FileTimes<span class=\"sb\">`</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">                 </span>found<span class=\"w\"> </span>enum<span class=\"w\"> </span><span class=\"sb\">`</span>Option&lt;fs_set_times::SystemTimeSpec&gt;<span class=\"sb\">`</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span>note:<span class=\"w\"> </span>method<span class=\"w\"> </span>defined<span class=\"w\"> </span>here\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">   </span>--&gt;<span class=\"w\"> </span>/home/abuild/rpmbuild/BUILD/rustc-1.84.0-src/library/std/src/fs.rs:1019:12\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span>help:<span class=\"w\"> </span>remove<span class=\"w\"> </span>the<span class=\"w\"> </span>extra<span class=\"w\"> </span>argument\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span><span class=\"m\">35</span><span class=\"w\"> </span>-<span class=\"w\">                 </span>atime.map<span class=\"o\">(</span>SystemTimeSpec::into_std<span class=\"o\">)</span>,\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span><span class=\"m\">35</span><span class=\"w\"> </span>+<span class=\"w\">                 </span>/*<span class=\"w\"> </span>FileTimes<span class=\"w\"> </span>*/,\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\">    </span><span class=\"p\">|</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span>For<span class=\"w\"> </span>more<span class=\"w\"> </span>information<span class=\"w\"> </span>about<span class=\"w\"> </span>this<span class=\"w\"> </span>error,<span class=\"w\"> </span>try<span class=\"w\"> </span><span class=\"sb\">`</span>rustc<span class=\"w\"> </span>--explain<span class=\"w\"> </span>E0061<span class=\"sb\">`</span>.\n<span class=\"o\">[</span><span class=\"w\">   </span>86s<span class=\"o\">]</span><span class=\"w\"> </span>error:<span class=\"w\"> </span>could<span class=\"w\"> </span>not<span class=\"w\"> </span>compile<span class=\"w\"> </span><span class=\"sb\">`</span>cap-primitives<span class=\"sb\">`</span><span class=\"w\"> </span><span class=\"o\">(</span>lib<span class=\"o\">)</span><span class=\"w\"> </span>due<span class=\"w\"> </span>to<span class=\"w\"> </span><span class=\"m\">2</span><span class=\"w\"> </span>previous<span class=\"w\"> </span>errors\n</code></pre></div>\n<p>I'm using openSUSE Tumbleweed, Cargo 1.83, and Rust 1.83.</p>\n<p>It seems like a version mismatch between Wasmtime dependencies and the Rust version, but I can't exactly say what the issue is here.<br>\nI used the same environment to build Wasmtime <code>v29.0.1</code>, and it was built just fine.</p>\n<p>Can somebody say what the Cargo and Rust version used in Wasmtime <code>v0.38.1</code> is?</p>\n</blockquote>",
        "id": 500416344,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1739889490
    }
]