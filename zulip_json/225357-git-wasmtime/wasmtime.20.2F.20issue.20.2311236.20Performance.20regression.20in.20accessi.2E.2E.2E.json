[
    {
        "content": "<p>adambratschikaye opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11236\">issue #11236</a>:</p>\n<blockquote>\n<p>When benchmarking our upgrade to wasmtime 34 we found a regression when it comes to accessing wasm memory in the host. Here's a repo with a some benchmarks with a Wasm module that calls a host function in a loop: <a href=\"https://github.com/adambratschikaye/wasmtime-memory-regression\">https://github.com/adambratschikaye/wasmtime-memory-regression</a></p>\n<p>When the host function accesses the Wasm memory there's a ~30% slowdown when switching from wasmtime 33.0.1 to 34.0.1 (just run cargo bench with both versions to see the difference). When the host function doesn't do anything the performance is unchanged.</p>\n<p>Going through a git bisect on the wasmtime repo, it seemed that the regression was coming from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10877\">https://github.com/bytecodealliance/wasmtime/pull/10877</a>.</p>\n<h3>Versions and Environment</h3>\n<p>Operating system: Ubuntu 24.04</p>\n<p>Architecture: x64<br>\n</p>\n</blockquote>",
        "id": 528688986,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1752507348
    },
    {
        "content": "<p><a href=\"https://github.com/adambratschikaye\">adambratschikaye</a> added the bug label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11236\">Issue #11236</a>.</p>",
        "id": 528688987,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1752507348
    },
    {
        "content": "<p><a href=\"https://github.com/alexcrichton\">alexcrichton</a> removed the bug label from <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11236\">Issue #11236</a>.</p>",
        "id": 528740117,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1752527024
    },
    {
        "content": "<p><a href=\"https://github.com/alexcrichton\">alexcrichton</a> added the wasmtime:api label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11236\">Issue #11236</a>.</p>",
        "id": 528740118,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1752527024
    },
    {
        "content": "<p><a href=\"https://github.com/alexcrichton\">alexcrichton</a> added the performance label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11236\">Issue #11236</a>.</p>",
        "id": 528740119,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1752527024
    },
    {
        "content": "<p>alexcrichton closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11236\">issue #11236</a>:</p>\n<blockquote>\n<p>When benchmarking our upgrade to wasmtime 34 we found a regression when it comes to accessing wasm memory in the host. Here's a repo with a some benchmarks with a Wasm module that calls a host function in a loop: <a href=\"https://github.com/adambratschikaye/wasmtime-memory-regression\">https://github.com/adambratschikaye/wasmtime-memory-regression</a></p>\n<p>When the host function accesses the Wasm memory there's a ~30% slowdown when switching from wasmtime 33.0.1 to 34.0.1 (just run cargo bench with both versions to see the difference). When the host function doesn't do anything the performance is unchanged.</p>\n<p>Going through a git bisect on the wasmtime repo, it seemed that the regression was coming from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/10877\">https://github.com/bytecodealliance/wasmtime/pull/10877</a>.</p>\n<h3>Versions and Environment</h3>\n<p>Operating system: Ubuntu 24.04</p>\n<p>Architecture: x64<br>\n</p>\n</blockquote>",
        "id": 528740159,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1752527038
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11236#issuecomment-3070985513\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/11236\">issue #11236</a>:</p>\n<blockquote>\n<p>I confirmed locally that <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11235\">https://github.com/bytecodealliance/wasmtime/pull/11235</a> recovered the performance here, so I'm going to close this, but if anything else comes up definitely feel free to comment here or open a new issue</p>\n</blockquote>",
        "id": 528740161,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1752527038
    }
]