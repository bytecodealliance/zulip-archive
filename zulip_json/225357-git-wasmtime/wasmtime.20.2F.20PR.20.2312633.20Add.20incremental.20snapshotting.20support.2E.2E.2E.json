[
    {
        "content": "<p>Gentle opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633\">PR #12633</a> from <code>Gentle:feat-savestates</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>Rationale: If you keep the instrumentation information inside the output wasm file, then you can at any time use wizer to snapshot it again, allowing you to effectively save and resume later or on another machine</p>\n<ul>\n<li>adds a <code>keep_instrumentation</code> option that preserves <code>__wizer_*</code> exports in the output module</li>\n<li>adds a <code>parse_instrumented</code> method that re-parses a previously snapshotted module so it can be snapshotted again.</li>\n<li>parser::parse has been adjusted to either reject or require existing <code>__wizer_*</code> exports depending on new bool arg</li>\n</ul>\n<p>parse_instrumented skips validating the wasm module, the logic behind this is that if the wasm file was successfully instrumented before, then it must be valid. From micro benchmarking, wasm_validate takes longer than instrumentation itself, so there is a significant speedup by reusing the instrumentation information<br>\n</p>\n</blockquote>",
        "id": 575099039,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771691873
    },
    {
        "content": "<p>Gentle requested <a href=\"https://github.com/fitzgen\">fitzgen</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633\">PR #12633</a>.</p>",
        "id": 575099041,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771691874
    },
    {
        "content": "<p>Gentle requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633\">PR #12633</a>.</p>",
        "id": 575099042,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771691875
    },
    {
        "content": "<p>Gentle updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633\">PR #12633</a>.</p>",
        "id": 575099896,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771692755
    },
    {
        "content": "<p>github-actions[bot] added the label <code>wizer</code> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633\">PR #12633</a>.</p>",
        "id": 575112765,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771706903
    },
    {
        "content": "<p>github-actions[bot] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633#issuecomment-3939457556\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633\">PR #12633</a>:</p>\n<blockquote>\n<h4>Subscribe to Label Action</h4>\n<p>cc @fitzgen</p>\n<p>&lt;details&gt;<br>\nThis issue or pull request has been labeled: \"wizer\"</p>\n<p>Thus the following users have been cc'd because of the following labels:</p>\n<ul>\n<li>fitzgen: wizer</li>\n</ul>\n<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>\n<p><a href=\"https://github.com/bytecodealliance/subscribe-to-label-action\">Learn more.</a><br>\n&lt;/details&gt;</p>\n</blockquote>",
        "id": 575112811,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771706955
    },
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633#issuecomment-3939539262\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633\">PR #12633</a>:</p>\n<blockquote>\n<blockquote>\n<p>parse_instrumented skips validating the wasm module, the logic behind this is that if the wasm file was successfully instrumented before, then it must be valid.</p>\n</blockquote>\n<p>Is that safe to do when the wasm module comes from an untrusted source?</p>\n</blockquote>",
        "id": 575114810,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771709520
    },
    {
        "content": "<p>Gentle <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633#issuecomment-3940066737\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633\">PR #12633</a>:</p>\n<blockquote>\n<p>well no, at that point you are trusting that whoever added the __wizer_* exports did not lie and did validate the wasm before adding them</p>\n<p>it's possible that my microbenchmarks were bad, but with a 20MB wasm file, validate, parse, then snapshot was 80% slower than just parse and snapshot. It doesn't break anything to add self.wasm_validate() in parse_instrumented, I just think it's redundant but I'd be happy to implement it differently if there are concerns</p>\n</blockquote>",
        "id": 575132620,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771731310
    },
    {
        "content": "<p>Gentle edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633#issuecomment-3940066737\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633\">PR #12633</a>:</p>\n<blockquote>\n<p>well no, at that point you are trusting that whoever added the <code>__wizer_*</code> exports did not lie and did validate the wasm before adding them</p>\n<p>it's possible that my microbenchmarks were bad, but with a 20MB wasm file, validate, parse, then snapshot was 80% slower than just parse and snapshot. It doesn't break anything to add self.wasm_validate() in parse_instrumented, I just think it's redundant but I'd be happy to implement it differently if there are concerns</p>\n</blockquote>",
        "id": 575132650,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771731330
    },
    {
        "content": "<p>Gentle edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633#issuecomment-3940066737\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12633\">PR #12633</a>:</p>\n<blockquote>\n<p>well no, at that point you are trusting that whoever added the <code>__wizer_*</code> exports did not lie and did validate the wasm before adding them</p>\n<p>it's possible that my microbenchmarks were bad, but with a 20MB wasm file, validate, parse, then snapshot took roughly 6 times as long as just parse and snapshot. It doesn't break anything to add self.wasm_validate() in parse_instrumented, I just think it's redundant but I'd be happy to implement it differently if there are concerns</p>\n</blockquote>",
        "id": 575133042,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1771731848
    }
]