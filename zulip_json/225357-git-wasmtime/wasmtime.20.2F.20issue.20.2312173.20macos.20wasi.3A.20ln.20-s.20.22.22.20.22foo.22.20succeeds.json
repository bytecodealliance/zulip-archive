[
    {
        "content": "<p>wingo opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12173\">issue #12173</a>:</p>\n<blockquote>\n<p>On <a href=\"https://github.com/WebAssembly/wasi-testsuite/pull/139\">https://github.com/WebAssembly/wasi-testsuite/pull/139</a>, there is a test that <code>ln_s(\"\".to_string(), \"whatever\".to_string())</code> fails.  However it succeeds on MacOS for some reason.</p>\n<p>Wasmtime should filter out <code>\"\"</code> as a symlink target, if the OS is unwilling to do so.  </p>\n<p>(Does <code>touch \"\"</code> work on (any filesystem from) MacOS?  I would hope not; if so, perhaps that means we have to allow for <code>ln_s</code> targetting <code>\"\"</code>.)</p>\n</blockquote>",
        "id": 564053545,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765894934
    },
    {
        "content": "<p><a href=\"https://github.com/wingo\">wingo</a> added the bug label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12173\">Issue #12173</a>.</p>",
        "id": 564053548,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765894934
    },
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12173#issuecomment-3660849268\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12173\">issue #12173</a>:</p>\n<blockquote>\n<p><code>touch \"\"</code> doesn't work on macOS, but you are allowed to make a symlink with an empty filename as target.</p>\n</blockquote>",
        "id": 564055429,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765895424
    },
    {
        "content": "<p>wingo edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12173\">issue #12173</a>:</p>\n<blockquote>\n<p>On <a href=\"https://github.com/WebAssembly/wasi-testsuite/pull/139\">https://github.com/WebAssembly/wasi-testsuite/pull/139</a>, there is a test that <code>ln_s(\"\".to_string(), \"whatever\".to_string())</code> fails.  However it succeeds on MacOS for some reason.</p>\n<p>Should wasmtime filter out <code>\"\"</code> as a symlink target, if the OS is unwilling to do so?</p>\n<p>(Does <code>touch \"\"</code> work on (any filesystem from) MacOS?  I would hope not; if so, perhaps that means we have to allow for <code>ln_s</code> targetting <code>\"\"</code>.)</p>\n</blockquote>",
        "id": 564056078,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765895600
    },
    {
        "content": "<p><a href=\"https://github.com/fitzgen\">fitzgen</a> added the wasi:impl label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12173\">Issue #12173</a>.</p>",
        "id": 564515035,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766077636
    },
    {
        "content": "<p><a href=\"https://github.com/fitzgen\">fitzgen</a> added the wasi:tests label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12173\">Issue #12173</a>.</p>",
        "id": 564515036,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766077636
    },
    {
        "content": "<p><a href=\"https://github.com/fitzgen\">fitzgen</a> added the wasi label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12173\">Issue #12173</a>.</p>",
        "id": 564515037,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766077636
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12173#issuecomment-3671734311\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12173\">issue #12173</a>:</p>\n<blockquote>\n<p>Similar to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12178#issuecomment-3671670651\">https://github.com/bytecodealliance/wasmtime/issues/12178#issuecomment-3671670651</a> I personally think this is something that's not clear whether we should filter out or handle. This is easier than others, but it's not clear to me. </p>\n<p>@wingo these issues might be best for the WASI repository as spec questions perhaps? Here as an implementation we currently forward to whatever the closest platform equivalent for a function is which is more-or-less what I'd expect all other implementations to do. Divergence from that and codifying it one way or another to me is more of a spec question than an implementation question.</p>\n</blockquote>",
        "id": 564536324,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766083846
    },
    {
        "content": "<p>wingo <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12173#issuecomment-3675388812\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12173\">issue #12173</a>:</p>\n<blockquote>\n<p>Well... besides wasmtime being the only wasip3 implementation that I know of at the moment (I still haven't gotten jco to pass any of the wasi-testsuite), if it were just up to the spec then one would specify a single behavior -- except that's not how it works, we need to implement something that is feasible to implement on Windows and Mac, and to that extent \"what Wasmtime is willing to do\" is a key part of the spec-defining process :)  Also there is not really anyone \"there\" on the WASI side at the moment AFAICT.</p>\n<p>In this <em>specific</em> instance... gosh I would just prevent the user from making new symlinks to <code>\"\"</code>.  Reduce the state space.  WDYT?  Happy to do either but the buck stops here; I think we get to decide what the right thing is :)  Will document it either way.</p>\n</blockquote>",
        "id": 564715540,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766156400
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12173#issuecomment-3676109231\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/12173\">issue #12173</a>:</p>\n<blockquote>\n<p>I won't claim to be a filesystem expert by any means but outright rejecting empty names seems reasonable to me. If someone has a use case for that we can handle it later at that point?</p>\n</blockquote>",
        "id": 564756432,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1766169394
    }
]