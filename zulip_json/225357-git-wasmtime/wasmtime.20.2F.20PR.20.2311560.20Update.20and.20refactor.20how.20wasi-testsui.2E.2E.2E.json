[
    {
        "content": "<p>alexcrichton opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560\">PR #11560</a> from <code>alexcrichton:refactor-wasi-testsuite</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>This commit updates the <code>WebAssembly/wasi-testuite</code> submodule in this repository which hasn't been updated once in the past 2 years. This then additionally refactors how tests are run:</p>\n<ul>\n<li>A new top-level test is added at <code>tests/wasi.rs</code> similar to <code>tests/wast.rs</code>.</li>\n<li>The top-level test uses <code>libtest_mimic</code> to enable running tests in parallel.</li>\n<li>Using <code>libtest_mimic</code> enables running a test-at-a-time.</li>\n<li>Using <code>libtest_mimic</code> enables seeing a list of failures instead of just the first failure.</li>\n<li>Component versions of tests are run in addition to core wasm versions of tests.</li>\n<li>Minor updates are made to the adapter and wasmtime-wasi to get some tests passing.</li>\n<li>The list of allowed failures is updated with a <code>FIXME</code>-per-test of what's remaining.</li>\n</ul>\n<p>prtest:full</p>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 536689001,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756418515
    },
    {
        "content": "<p>alexcrichton edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560\">PR #11560</a>:</p>\n<blockquote>\n<p>This commit updates the <code>WebAssembly/wasi-testuite</code> submodule in this repository which hasn't been updated once in the past 2 years. This then additionally refactors how tests are run:</p>\n<ul>\n<li>A new top-level test is added at <code>tests/wasi.rs</code> similar to <code>tests/wast.rs</code>.</li>\n<li>The top-level test uses <code>libtest_mimic</code> to enable running tests in parallel.</li>\n<li>Using <code>libtest_mimic</code> enables running a test-at-a-time.</li>\n<li>Using <code>libtest_mimic</code> enables seeing a list of failures instead of just the first failure.</li>\n<li>Component versions of tests are run in addition to core wasm versions of tests.</li>\n<li>Minor updates are made to the adapter and wasmtime-wasi to get some tests passing.</li>\n<li>The list of allowed failures is updated with a <code>FIXME</code>-per-test of what's remaining.</li>\n</ul>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 536689007,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756418520
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560#issuecomment-3235092682\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560\">PR #11560</a>:</p>\n<blockquote>\n<p>This test suite hasn't been running on Windows so this is a draft until I get CI passing.</p>\n</blockquote>",
        "id": 536689423,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756418741
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560\">PR #11560</a>.</p>",
        "id": 536691081,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756419892
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560\">PR #11560</a>.</p>",
        "id": 536692054,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756420560
    },
    {
        "content": "<p><strong>alexcrichton</strong> has marked <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560\">PR #11560</a> as ready for review.</p>",
        "id": 536694089,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756422081
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-wasi-reviewers\">wasmtime-wasi-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560\">PR #11560</a>.</p>",
        "id": 536694090,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756422082
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/fitzgen\">fitzgen</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560\">PR #11560</a>.</p>",
        "id": 536694092,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756422082
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560\">PR #11560</a>.</p>",
        "id": 536694093,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756422082
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers\">wasmtime-default-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560\">PR #11560</a>.</p>",
        "id": 536694094,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756422082
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560#issuecomment-3235185343\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560\">PR #11560</a>:</p>\n<blockquote>\n<p>Ok all good now (just needed a huge allow-list of failures on Windows...)</p>\n</blockquote>",
        "id": 536694127,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756422096
    },
    {
        "content": "<p>abrown submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560#pullrequestreview-3166853818\">PR review</a>:</p>\n<blockquote>\n<p>Thanks for moving and improving the old test. My only question has to do with the change to the WASI renumbering semantics.</p>\n</blockquote>",
        "id": 536695757,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756423404
    },
    {
        "content": "<p>abrown created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560#discussion_r2308764314\">PR review comment</a>:</p>\n<blockquote>\n<p>I don't know much about this implementation, but shouldn't this succeed as it did previously? Doesn't the logic in <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560/files#diff-dbbe655bc4c663438bc5b239e2fc7f27ae063d649a74078701d1446f0f8aa654R366\"><code>descriptor.rs</code></a> below expand the table so this _should_ work?</p>\n</blockquote>",
        "id": 536695758,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756423405
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560#pullrequestreview-3167013811\">PR review</a>.</p>",
        "id": 536702710,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756429466
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560#discussion_r2308877907\">PR review comment</a>:</p>\n<blockquote>\n<p>Part of the change here is to explicitly reject <code>fd_renumber</code> into an invalid file descriptor (aka one un-opened like <code>*fd + 100</code> here). The wasi-testsuite upstream specifically asserts that's a failure, where previously we explicitly supported that. </p>\n</blockquote>",
        "id": 536702711,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756429466
    },
    {
        "content": "<p>abrown submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560#pullrequestreview-3167023883\">PR review</a>.</p>",
        "id": 536703324,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756429968
    },
    {
        "content": "<p>abrown created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560#discussion_r2308885097\">PR review comment</a>:</p>\n<blockquote>\n<p>Ok, so perhaps we no longer should expand the table? Probably someone more familiar with this should have an opinion here... Feel free to merge if I'm nitpicking here.</p>\n</blockquote>",
        "id": 536703325,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756429968
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560#discussion_r2309002245\">PR review comment</a>:</p>\n<blockquote>\n<p>This is something we can eventually clean up in the future but the extend-the-table code shouldn't ever get hit any more because both to/from are guaranteed to be allocated. In that sense it's just dynamically dead code right now but otherwise harmless</p>\n</blockquote>",
        "id": 536710132,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756436211
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560#pullrequestreview-3167179813\">PR review</a>.</p>",
        "id": 536710134,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756436211
    },
    {
        "content": "<p>alexcrichton merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/11560\">PR #11560</a>.</p>",
        "id": 537303046,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1756824470
    }
]