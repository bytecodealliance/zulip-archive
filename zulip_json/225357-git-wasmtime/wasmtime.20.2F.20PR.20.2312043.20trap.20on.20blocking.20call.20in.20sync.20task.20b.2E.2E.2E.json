[
    {
        "content": "<p>dicej opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a> from <code>dicej:trap-blocking-in-sync-tasks</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>This implements a spec change (PR pending) such that tasks created for calls to synchronous exports may not call potentially-blocking imports or return <code>wait</code> or <code>poll</code> callback codes prior to returning a value.  Specifically, the following are prohibited in that scenario:</p>\n<ul>\n<li>returning callback-code.{wait,poll}</li>\n<li>sync calling async import</li>\n<li>sync calling subtask.cancel</li>\n<li>sync calling {stream,future}.{read,write}</li>\n<li>sync calling {stream,future}.cancel-{read,write}</li>\n<li>calling waitable-set.{wait,poll}</li>\n<li>calling thread.suspend</li>\n</ul>\n<p>This breaks a number of tests, which will be addressed in follow-up commits:</p>\n<ul>\n<li>\n<p>The <code>{tcp,udp}-socket.bind</code> implementation in <code>wasmtime-wasi</code> is implemented using <code>Linker::func_wrap_concurrent</code> and thus assumed to be async, whereas the WIT interface says they're sync, leading to a type mismatch error at runtime. Alex and I have discussed this and have a general plan to address it.</p>\n</li>\n<li>\n<p>A number of tests in the tests/component-model submodule that points to the spec repo are failing.  Those will presumably be fixed as part of the upcoming spec PR (although some could be due to bugs in this implementation, in which case I'll fix them).</p>\n</li>\n<li>\n<p>A number of tests in tests/misc_testsuite are failing.  I'll address those in a follow-up commit.</p>\n</li>\n</ul>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 558014342,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763490643
    },
    {
        "content": "<p><strong>dicej</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 558014373,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763490654
    },
    {
        "content": "<p>dicej updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 558014848,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763490814
    },
    {
        "content": "<p>dicej edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<p>This implements a spec change (PR pending) such that tasks created for calls to synchronous exports may not call potentially-blocking imports or return <code>wait</code> or <code>poll</code> callback codes prior to returning a value.  Specifically, the following are prohibited in that scenario:</p>\n<ul>\n<li>returning callback-code.{wait,poll}</li>\n<li>sync calling an async import</li>\n<li>sync calling subtask.cancel</li>\n<li>sync calling {stream,future}.{read,write}</li>\n<li>sync calling {stream,future}.cancel-{read,write}</li>\n<li>calling waitable-set.{wait,poll}</li>\n<li>calling thread.suspend</li>\n</ul>\n<p>This breaks a number of tests, which will be addressed in follow-up commits:</p>\n<ul>\n<li>\n<p>The <code>{tcp,udp}-socket.bind</code> implementation in <code>wasmtime-wasi</code> is implemented using <code>Linker::func_wrap_concurrent</code> and thus assumed to be async, whereas the WIT interface says they're sync, leading to a type mismatch error at runtime. Alex and I have discussed this and have a general plan to address it.</p>\n</li>\n<li>\n<p>A number of tests in the tests/component-model submodule that points to the spec repo are failing.  Those will presumably be fixed as part of the upcoming spec PR (although some could be due to bugs in this implementation, in which case I'll fix them).</p>\n</li>\n<li>\n<p>A number of tests in tests/misc_testsuite are failing.  I'll address those in a follow-up commit.</p>\n</li>\n</ul>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 558014872,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763490822
    },
    {
        "content": "<p>dicej updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 558023718,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763493592
    },
    {
        "content": "<p>dicej edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<p>This implements a spec change (PR pending) such that tasks created for calls to synchronous exports may not call potentially-blocking imports or return <code>wait</code> or <code>poll</code> callback codes prior to returning a value.  Specifically, the following are prohibited in that scenario:</p>\n<ul>\n<li>returning callback-code.{wait,poll}</li>\n<li>sync calling an async import</li>\n<li>sync calling subtask.cancel</li>\n<li>sync calling {stream,future}.{read,write}</li>\n<li>sync calling {stream,future}.cancel-{read,write}</li>\n<li>calling waitable-set.{wait,poll}</li>\n<li>calling thread.suspend</li>\n</ul>\n<p>This breaks a number of tests, which will be addressed in follow-up commits:</p>\n<ul>\n<li>\n<p>The <code>{tcp,udp}-socket.bind</code> implementation in <code>wasmtime-wasi</code> is implemented using <code>Linker::func_wrap_concurrent</code> and thus assumed to be async, whereas the WIT interface says they're sync, leading to a type mismatch error at runtime. Alex and I have discussed this and have a general plan to address it.</p>\n</li>\n<li>\n<p>A number of tests in the tests/component-model submodule that points to the spec repo are failing.  Those will presumably be fixed as part of the upcoming spec PR (although some could be due to bugs in this implementation, in which case I'll fix them).</p>\n</li>\n<li>\n<p><del>A number of tests in tests/misc_testsuite are failing.  I'll address those in a follow-up commit.</del></p>\n</li>\n</ul>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 558023796,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1763493615
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3571816483\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<p>Talked about this with @dicej today, current blockers are:</p>\n<ul>\n<li>Waiting on upstream PR to the spec to have an official point-of-reference</li>\n<li>Current upstream tests are failing, and upstream spec PR likely to update.</li>\n<li>Tests for \"full matrix of trapping behavior\" still needed</li>\n</ul>\n</blockquote>",
        "id": 559103068,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764003755
    },
    {
        "content": "<p>dicej <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3572257198\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<p>Regarding the <code>{tcp,udp}-socket.bind</code> test failures, I've opened <a href=\"https://github.com/WebAssembly/wasi-sockets/issues/144\">https://github.com/WebAssembly/wasi-sockets/issues/144</a>.</p>\n<p>Eventually, we'll want a proper way for host functions to \"cheat\" and block the whole guest _without_ monopolizing the <code>Store</code>, as well, but no need to block this PR on that. </p>\n</blockquote>",
        "id": 559127442,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764010560
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3572674670\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<p>New thought: I think we're going to be required to implement \"component-model-sync function can do async things on the host\" in Wasmtime. Ignoring p3 for a moment, that's exactly how all async works in WASIp2. All WASIp2 functions are \"sync\" functions which leverage host superpowers to suspend the guest, and we can't break WASIp2, so I don't think that \"just solve tcp/udp for wasip3\" is a viable solution after all.</p>\n</blockquote>",
        "id": 560013159,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764017445
    },
    {
        "content": "<p>dicej updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 560015874,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764018378
    },
    {
        "content": "<p>dicej <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3572869886\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<blockquote>\n<p>All WASIp2 functions are \"sync\" functions which leverage host superpowers to suspend the guest, and we can't break WASIp2</p>\n</blockquote>\n<p>Agreed, but I don't see how that's relevant to this PR.  Sync-typed exports are still permitted to call sync-typed imports, and <code>wasmtime-wasi</code>'s p2 implementation uses <code>Linker::func_wrap_async</code>, which defines a sync-typed host function, so nothing in this PR or the proposed spec changes will break <code>wasmtime-wasi</code>'s p2 implementation.</p>\n<p>Certainly we'll need to confront p2 head-on once we remove or replace <code>Linker::func_wrap_async</code>, but we're not doing that here.</p>\n</blockquote>",
        "id": 560023477,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764021238
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3572930200\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<p>Er right, yes, wires crossed again. That means though that <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12085\">https://github.com/bytecodealliance/wasmtime/pull/12085</a> is possible which \"fixes\" tcp/udp.</p>\n</blockquote>",
        "id": 560026453,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764022272
    },
    {
        "content": "<p>dicej updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 560036144,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764025467
    },
    {
        "content": "<p>dicej edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<p>This implements a spec change (PR pending) such that tasks created for calls to synchronous exports may not call potentially-blocking imports or return <code>wait</code> or <code>poll</code> callback codes prior to returning a value.  Specifically, the following are prohibited in that scenario:</p>\n<ul>\n<li>returning callback-code.{wait,poll}</li>\n<li>sync calling an async import</li>\n<li>sync calling subtask.cancel</li>\n<li>sync calling {stream,future}.{read,write}</li>\n<li>sync calling {stream,future}.cancel-{read,write}</li>\n<li>calling waitable-set.{wait,poll}</li>\n<li>calling thread.suspend</li>\n</ul>\n<p>This breaks a number of tests, which will be addressed in follow-up commits:</p>\n<ul>\n<li>\n<p><del>The <code>{tcp,udp}-socket.bind</code> implementation in <code>wasmtime-wasi</code> is implemented using <code>Linker::func_wrap_concurrent</code> and thus assumed to be async, whereas the WIT interface says they're sync, leading to a type mismatch error at runtime. Alex and I have discussed this and have a general plan to address it.</del> EDIT: addressed by <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12085\">https://github.com/bytecodealliance/wasmtime/pull/12085</a></p>\n</li>\n<li>\n<p>A number of tests in the tests/component-model submodule that points to the spec repo are failing.  Those will presumably be fixed as part of the upcoming spec PR (although some could be due to bugs in this implementation, in which case I'll fix them).</p>\n</li>\n<li>\n<p><del>A number of tests in tests/misc_testsuite are failing.  I'll address those in a follow-up commit.</del></p>\n</li>\n</ul>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 560036366,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764025588
    },
    {
        "content": "<p>dicej updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 560036686,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764025764
    },
    {
        "content": "<p>dicej updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 560046313,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764030359
    },
    {
        "content": "<p>dicej <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3576168969\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<p>Some of the WAST tests are hanging and/or busy looping.  I'll investigate this morning.</p>\n</blockquote>",
        "id": 560181724,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764083637
    },
    {
        "content": "<p>dicej updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 560203968,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764089071
    },
    {
        "content": "<p><strong>dicej</strong> has marked <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a> as ready for review.</p>",
        "id": 560208735,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764090377
    },
    {
        "content": "<p><strong>dicej</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 560208737,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764090378
    },
    {
        "content": "<p>dicej <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3576661481\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<p>CI is green now; I'm temporarily pointing the <code>tests/component-model</code> submodule at <a href=\"https://github.com/WebAssembly/component-model/pull/577\">https://github.com/WebAssembly/component-model/pull/577</a> until that PR is merged.</p>\n</blockquote>",
        "id": 560208897,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764090421
    },
    {
        "content": "<p>dicej <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3576671446\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<p>I believe we're just waiting on a spec PR (hopefully accompanied by WAST tests covering the changes) at this point.</p>\n</blockquote>",
        "id": 560209481,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764090578
    },
    {
        "content": "<p>dicej edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<p>This implements a spec change (PR pending) such that tasks created for calls to synchronous exports may not call potentially-blocking imports or return <code>wait</code> or <code>poll</code> callback codes prior to returning a value.  Specifically, the following are prohibited in that scenario:</p>\n<ul>\n<li>returning callback-code.{wait,poll}</li>\n<li>sync calling an async import</li>\n<li>sync calling subtask.cancel</li>\n<li>sync calling {stream,future}.{read,write}</li>\n<li>sync calling {stream,future}.cancel-{read,write}</li>\n<li>calling waitable-set.{wait,poll}</li>\n<li>calling thread.suspend</li>\n</ul>\n<p>This breaks a number of tests, which will be addressed in follow-up commits:</p>\n<ul>\n<li>\n<p><del>The <code>{tcp,udp}-socket.bind</code> implementation in <code>wasmtime-wasi</code> is implemented using <code>Linker::func_wrap_concurrent</code> and thus assumed to be async, whereas the WIT interface says they're sync, leading to a type mismatch error at runtime. Alex and I have discussed this and have a general plan to address it.</del> EDIT: addressed by <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12085\">https://github.com/bytecodealliance/wasmtime/pull/12085</a></p>\n</li>\n<li>\n<p><del>A number of tests in the tests/component-model submodule that points to the spec repo are failing.  Those will presumably be fixed as part of the upcoming spec PR (although some could be due to bugs in this implementation, in which case I'll fix them).</del> EDIT: addressed by <a href=\"https://github.com/WebAssembly/component-model/pull/577\">https://github.com/WebAssembly/component-model/pull/577</a></p>\n</li>\n<li>\n<p><del>A number of tests in tests/misc_testsuite are failing.  I'll address those in a follow-up commit.</del></p>\n</li>\n</ul>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 561234929,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764611275
    },
    {
        "content": "<p>dicej updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 561287633,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764628090
    },
    {
        "content": "<p>dicej updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 561293742,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764631059
    },
    {
        "content": "<p>pannous <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3602332637\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<blockquote>\n<p>the following are prohibited in that scenario:<br>\n      &gt;  sync calling an async import</p>\n</blockquote>\n<p>sorry again how is that not function coloring?</p>\n</blockquote>",
        "id": 561427489,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764685648
    },
    {
        "content": "<p><strong>dicej</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers\">wasmtime-compiler-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 561436305,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764687531
    },
    {
        "content": "<p>dicej updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 561436306,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764687531
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3604461348\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<p>@pannous if you have technical concerns about this change, mind bringing it up on <a href=\"https://github.com/WebAssembly/component-model/pull/578\">https://github.com/WebAssembly/component-model/pull/578</a>? That'll be a better forum for discussing the design than here</p>\n</blockquote>",
        "id": 561542959,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764720467
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3612844317\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<p>@dicej did you have anything else you wanted to sort out with this or is it ready to go?</p>\n</blockquote>",
        "id": 561910632,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764862619
    },
    {
        "content": "<p>dicej <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3613603435\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<blockquote>\n<p>@dicej did you have anything else you wanted to sort out with this or is it ready to go?</p>\n</blockquote>\n<p>Currently the <code>tests/component-model</code> submodule is pointing at my PR branch, and we can't point it to the main branch until <a href=\"https://github.com/WebAssembly/component-model/pull/578\">https://github.com/WebAssembly/component-model/pull/578</a> is merged.  If we're ok with temporarily pointing at the PR branch, we can merge this; otherwise, we need to wait.</p>\n</blockquote>",
        "id": 561943971,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764871244
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3617517213\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<p>Could this ignore the upstream tests temporarily and/or vendor working copies of them?</p>\n<p>Behavior-wise though there's nothing more you're looking to add here?</p>\n</blockquote>",
        "id": 562136354,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764950809
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#pullrequestreview-3545425171\">PR review</a>:</p>\n<blockquote>\n<p>Two extra thoughts in addition to the ones below:</p>\n<ul>\n<li>Could an <code>assert!</code> be done in a single \"core\" location that suspension happens that the task is allowed to block? That would be a final check that we did indeed sprinkle all the checks correctly.</li>\n<li>We'll definitely want a test, in repo, that traps happen as opposed to just updating all existing tests to not trap. I believe Luke has one upstream, but for landing this ahead of the upstream PR could this vendor the test in this repo to ensure we're running it here?</li>\n</ul>\n</blockquote>",
        "id": 562139332,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764951718
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#discussion_r2593223038\">PR review comment</a>:</p>\n<blockquote>\n<p>Can you leave a comment on checks like this to indicate what the trap/check represents?</p>\n</blockquote>",
        "id": 562139333,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764951718
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#discussion_r2593213521\">PR review comment</a>:</p>\n<blockquote>\n<p>This'll want to get filled out I believe</p>\n</blockquote>",
        "id": 562139334,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764951718
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#discussion_r2593233595\">PR review comment</a>:</p>\n<blockquote>\n<p>Similar to <code>host.rs</code>, mind leaving a comment on these checks throughout this file explaining what's going on?</p>\n</blockquote>",
        "id": 562139335,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764951718
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#discussion_r2593220730\">PR review comment</a>:</p>\n<blockquote>\n<p>Could this be plumbed through with <code>S</code> as a type parameter rather than an extra argument to follow the same idioms of the other constructors in this file?</p>\n</blockquote>",
        "id": 562139336,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764951718
    },
    {
        "content": "<p>dicej <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3617799209\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<blockquote>\n<p>Could this ignore the upstream tests temporarily and/or vendor working copies of them?</p>\n</blockquote>\n<p>Yeah; I'll switch the submodule back and temporarily skip the offending tests.</p>\n<blockquote>\n<p>Behavior-wise though there's nothing more you're looking to add here?</p>\n</blockquote>\n<p>Correct; nothing left behavior-wise.</p>\n</blockquote>",
        "id": 562150827,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764955281
    },
    {
        "content": "<p>dicej <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#issuecomment-3617808059\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>:</p>\n<blockquote>\n<blockquote>\n<ul>\n<li>Could an <code>assert!</code> be done in a single \"core\" location that suspension happens that the task is allowed to block? That would be a final check that we did indeed sprinkle all the checks correctly.</li>\n</ul>\n</blockquote>\n<p>I'll look into that.</p>\n<blockquote>\n<ul>\n<li>We'll definitely want a test, in repo, that traps happen as opposed to just updating all existing tests to not trap. I believe Luke has one upstream, but for landing this ahead of the upstream PR could this vendor the test in this repo to ensure we're running it here?</li>\n</ul>\n</blockquote>\n<p>Yup, I'll just copy the test from his PR into e.g. <code>misc_testsuite</code>.</p>\n</blockquote>",
        "id": 562151319,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764955459
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#pullrequestreview-3546445244\">PR review</a>:</p>\n<blockquote>\n<p>Oh meant to do this too</p>\n</blockquote>",
        "id": 562182836,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1764968723
    },
    {
        "content": "<p>dicej updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 562581716,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765240996
    },
    {
        "content": "<p>dicej updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 562582213,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765241442
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043#pullrequestreview-3554883847\">PR review</a>.</p>",
        "id": 562586216,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765244702
    },
    {
        "content": "<p>dicej updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 562716095,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765294079
    },
    {
        "content": "<p>dicej has enabled auto merge for <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 562718068,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765294460
    },
    {
        "content": "<p>dicej merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/12043\">PR #12043</a>.</p>",
        "id": 562727263,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1765296308
    }
]