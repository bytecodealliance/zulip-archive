<html>
<head><meta charset="utf-8"><title>Slight refactor of StarlingMonkey code layout (code -&gt; src) · StarlingMonkey · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/index.html">StarlingMonkey</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/topic/Slight.20refactor.20of.20StarlingMonkey.20code.20layout.20.28code.20-.3E.20src.29.html">Slight refactor of StarlingMonkey code layout (code -&gt; src)</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="492654598"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/459697-StarlingMonkey/topic/Slight%20refactor%20of%20StarlingMonkey%20code%20layout%20%28code%20-%3E%20src%29/near/492654598" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/topic/Slight.20refactor.20of.20StarlingMonkey.20code.20layout.20.28code.20-.3E.20src.29.html#492654598">(Jan 09 2025 at 07:49)</a>:</h4>
<p>Hey all, to better separate the operational code of StarlingMonkey from the other things (scripts, cmake, Rust crates, etc) any objections to moving the C++ source code to <code>src/</code> rather than having modules mixed into the top level directory?</p>
<p>It's a little thing but I think it would help repo organization a bunch.</p>



<a name="492754849"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/459697-StarlingMonkey/topic/Slight%20refactor%20of%20StarlingMonkey%20code%20layout%20%28code%20-%3E%20src%29/near/492754849" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tomasz Andrzejak <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/topic/Slight.20refactor.20of.20StarlingMonkey.20code.20layout.20.28code.20-.3E.20src.29.html#492754849">(Jan 09 2025 at 15:51)</a>:</h4>
<p>That sounds like a good idea to me.</p>



<a name="492756370"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/459697-StarlingMonkey/topic/Slight%20refactor%20of%20StarlingMonkey%20code%20layout%20%28code%20-%3E%20src%29/near/492756370" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tomasz Andrzejak <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/topic/Slight.20refactor.20of.20StarlingMonkey.20code.20layout.20.28code.20-.3E.20src.29.html#492756370">(Jan 09 2025 at 15:57)</a>:</h4>
<p>Is this urgent or can this wait for pending PRs to be merged? I have 3 PRs ready to go (File API, createObjectURL and FormData).</p>



<a name="492756817"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/459697-StarlingMonkey/topic/Slight%20refactor%20of%20StarlingMonkey%20code%20layout%20%28code%20-%3E%20src%29/near/492756817" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/topic/Slight.20refactor.20of.20StarlingMonkey.20code.20layout.20.28code.20-.3E.20src.29.html#492756817">(Jan 09 2025 at 15:59)</a>:</h4>
<p>This can absolutely wait! I'll push up the PR I wrote as draft for now, and refactor as those others land!</p>
<p>Definitely don't want to hold up that progress :)</p>



<a name="492756920"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/459697-StarlingMonkey/topic/Slight%20refactor%20of%20StarlingMonkey%20code%20layout%20%28code%20-%3E%20src%29/near/492756920" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/topic/Slight.20refactor.20of.20StarlingMonkey.20code.20layout.20.28code.20-.3E.20src.29.html#492756920">(Jan 09 2025 at 15:59)</a>:</h4>
<p><a href="https://github.com/bytecodealliance/StarlingMonkey/pull/194">https://github.com/bytecodealliance/StarlingMonkey/pull/194</a></p>



<a name="492757214"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/459697-StarlingMonkey/topic/Slight%20refactor%20of%20StarlingMonkey%20code%20layout%20%28code%20-%3E%20src%29/near/492757214" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/topic/Slight.20refactor.20of.20StarlingMonkey.20code.20layout.20.28code.20-.3E.20src.29.html#492757214">(Jan 09 2025 at 16:00)</a>:</h4>
<p>Would appreciate feedback on the cmake changes in the meantime, from anyone with spare cycles!</p>



<a name="492810159"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/459697-StarlingMonkey/topic/Slight%20refactor%20of%20StarlingMonkey%20code%20layout%20%28code%20-%3E%20src%29/near/492810159" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/topic/Slight.20refactor.20of.20StarlingMonkey.20code.20layout.20.28code.20-.3E.20src.29.html#492810159">(Jan 09 2025 at 20:16)</a>:</h4>
<p>Welp, that was an incredibly painful exploration of <code>cmake</code>. But now that refactor PR CI is finally <span aria-label="green" class="emoji emoji-1f7e2" role="img" title="green">:green:</span> </p>
<p>Going to leave it in draft till some later date, either after the other stuff merges or next JS meeting</p>



<a name="495337464"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/459697-StarlingMonkey/topic/Slight%20refactor%20of%20StarlingMonkey%20code%20layout%20%28code%20-%3E%20src%29/near/495337464" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/topic/Slight.20refactor.20of.20StarlingMonkey.20code.20layout.20.28code.20-.3E.20src.29.html#495337464">(Jan 22 2025 at 17:38)</a>:</h4>
<p>Ah forgot to bring this up in the meeting, but now that the other stuff has merged ahead of this, do we still want this PR to happen? If we're happy with the codebase organization as it is then I'll just close it out! </p>
<p><span class="user-mention" data-user-id="234973">@Till Schneidereit</span> are you feeling like it's not going to be worth the time to review (assuming a rebase)?</p>



<a name="495337859"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/459697-StarlingMonkey/topic/Slight%20refactor%20of%20StarlingMonkey%20code%20layout%20%28code%20-%3E%20src%29/near/495337859" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/topic/Slight.20refactor.20of.20StarlingMonkey.20code.20layout.20.28code.20-.3E.20src.29.html#495337859">(Jan 22 2025 at 17:41)</a>:</h4>
<p>ah, right—I had also meant to talk about this, but forgot. I think the codebase could certainly use some amount of reorganization, but I'm personally not entirely convinced that the PR you opened is a sufficient improvement to justify the effort required. In particular given that at some—hopefully not too distant—point we'll want to make things more Rust focused, and will want to reorganize things in yet another way then</p>



<a name="495338263"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/459697-StarlingMonkey/topic/Slight%20refactor%20of%20StarlingMonkey%20code%20layout%20%28code%20-%3E%20src%29/near/495338263" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/topic/Slight.20refactor.20of.20StarlingMonkey.20code.20layout.20.28code.20-.3E.20src.29.html#495338263">(Jan 22 2025 at 17:43)</a>:</h4>
<p>Ah reasonable -- yes the Rust experimentation PR still hasn't landed, which will cause some changes, but <em>hopefully</em> only to the <code>crates</code> folder at the root</p>



<a name="495338370"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/459697-StarlingMonkey/topic/Slight%20refactor%20of%20StarlingMonkey%20code%20layout%20%28code%20-%3E%20src%29/near/495338370" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/topic/Slight.20refactor.20of.20StarlingMonkey.20code.20layout.20.28code.20-.3E.20src.29.html#495338370">(Jan 22 2025 at 17:44)</a>:</h4>
<p>That said, I'm happy to close out the PR for now -- if it's not a pressing problem we've got other fish to fry</p>



<a name="495338790"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/459697-StarlingMonkey/topic/Slight%20refactor%20of%20StarlingMonkey%20code%20layout%20%28code%20-%3E%20src%29/near/495338790" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/topic/Slight.20refactor.20of.20StarlingMonkey.20code.20layout.20.28code.20-.3E.20src.29.html#495338790">(Jan 22 2025 at 17:46)</a>:</h4>
<p>oh, the Rust PR that's currently open won't change other things, agreed. But eventually I very much would like to move StarlingMonkey from being a C++ runtime with support for Rust to being a Rust runtime with support for C++ builtins. And <em>that</em> should come with more a substantial reorganization</p>



<a name="495340278"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/459697-StarlingMonkey/topic/Slight%20refactor%20of%20StarlingMonkey%20code%20layout%20%28code%20-%3E%20src%29/near/495340278" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/459697-StarlingMonkey/topic/Slight.20refactor.20of.20StarlingMonkey.20code.20layout.20.28code.20-.3E.20src.29.html#495340278">(Jan 22 2025 at 17:54)</a>:</h4>
<blockquote>
<p>from being a C++ runtime with support for Rust to being a Rust runtime with support for C++ builtins</p>
</blockquote>
<p>Definitely looking forward to that!</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>