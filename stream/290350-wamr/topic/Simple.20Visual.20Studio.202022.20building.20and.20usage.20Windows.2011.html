<html>
<head><meta charset="utf-8"><title>Simple Visual Studio 2022 building and usage Windows 11 · wamr · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/290350-wamr/index.html">wamr</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/290350-wamr/topic/Simple.20Visual.20Studio.202022.20building.20and.20usage.20Windows.2011.html">Simple Visual Studio 2022 building and usage Windows 11</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="561004518"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/290350-wamr/topic/Simple%20Visual%20Studio%202022%20building%20and%20usage%20Windows%2011/near/561004518" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lonnie TC <a href="https://bytecodealliance.github.io/zulip-archive/stream/290350-wamr/topic/Simple.20Visual.20Studio.202022.20building.20and.20usage.20Windows.2011.html#561004518">(Nov 30 2025 at 14:49)</a>:</h4>
<p>Hi All, </p>
<p>I am new to WAMR and working on a C++ project (Visual Studio 2022) and want to embed WAMR + WASI so that I can load WASM plugins to extend the capabilities of the base application.</p>
<p>Are there any tutorials on getting things set up since went through and compiled everything and created the iwasm as well as used the wasm-sdm clang to generate at simple hello.wasm but when I ran it I get  problems:</p>
<p>Steps:</p>
<hr>
<p>git clone --recursive <a href="https://github.com/bytecodealliance/wasm-micro-runtime.git">https://github.com/bytecodealliance/wasm-micro-runtime.git</a></p>
<p>cd wasm-micro-runtime</p>
<p>cd product-mini\platforms\windows</p>
<p>mkdir build</p>
<p>cd build</p>
<p>cmake -G "Visual Studio 17 2022" -A x64 -DCMAKE_BUILD_TYPE=Release -DWAMR_BUILD_AOT=1 -DWAMR_BUILD_WASI=1 ..</p>
<p>C:\Development\WASM-Approach\testing\wasi-sdk\bin\clang --sysroot="C:\Development\WASM-Approach\testing\wasi-sdk\share\wasi-sysroot" hello.c -o hello.wasm</p>
<hr>
<p>But does not work when run:<br>
iwasm.exe hello.wasm</p>
<p>ERROR MESSAGE: WASM module load failed: zero byte expected. The module uses reference types feature which is disabled in the runtime.</p>
<p>Any help would be greatly appreciated.<br>
Thanks and have a great day<br>
Lonnie</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-micro-runtime.git" style="background-image: url(&quot;https://uploads.zulipusercontent.net/c3586114f1be7f875f83b13a5aba2fd3ebae4f99/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f353938616431313131313062353931353864623930393437623938383730366235376163616237363133346532646663306239386230343535623033386264642f62797465636f6465616c6c69616e63652f7761736d2d6d6963726f2d72756e74696d65&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-micro-runtime.git" title="GitHub - bytecodealliance/wasm-micro-runtime: WebAssembly Micro Runtime (WAMR)">GitHub - bytecodealliance/wasm-micro-runtime: WebAssembly Micro Runtime (WAMR)</a></div><div class="message_embed_description">WebAssembly Micro Runtime (WAMR). Contribute to bytecodealliance/wasm-micro-runtime development by creating an account on GitHub.</div></div></div>



<a name="561156658"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/290350-wamr/topic/Simple%20Visual%20Studio%202022%20building%20and%20usage%20Windows%2011/near/561156658" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/290350-wamr/topic/Simple.20Visual.20Studio.202022.20building.20and.20usage.20Windows.2011.html#561156658">(Dec 01 2025 at 13:19)</a>:</h4>
<p>This topic was moved here from <a class="stream-topic" data-stream-id="206238" href="/#narrow/channel/206238-general/topic/Simple.20Visual.20Studio.202022.20building.20and.20usage.20Windows.2011">#general &gt; Simple Visual Studio 2022 building and usage Windows 11</a> by <span class="user-mention silent" data-user-id="234973">Till Schneidereit</span>.</p>



<a name="561574855"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/290350-wamr/topic/Simple%20Visual%20Studio%202022%20building%20and%20usage%20Windows%2011/near/561574855" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas Trenner <a href="https://bytecodealliance.github.io/zulip-archive/stream/290350-wamr/topic/Simple.20Visual.20Studio.202022.20building.20and.20usage.20Windows.2011.html#561574855">(Dec 03 2025 at 07:07)</a>:</h4>
<p><span class="user-mention" data-user-id="1002170">@Lonnie TC</span>  You might want to set -DWAMR_BUILD_REF_TYPES=1 when building wamr or set the appropriate switches to clang when compiling your application to wasm (e.g. by setting explicitly the target-triple). For both you should find hints <a href="https://github.com/bytecodealliance/wasm-micro-runtime/blob/main/doc/build_wamr.md">here (WAMR)</a> and <a href="https://github.com/bytecodealliance/wasm-micro-runtime/blob/main/doc/build_wasm_app.md">here (building app)</a>.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-micro-runtime/blob/main/doc/build_wamr.md" style="background-image: url(&quot;https://uploads.zulipusercontent.net/6b30215ef350a7d3764466a654b5dbfcc1602e13/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f323666303363663638653561646432366636303936303663663137343035666266663237666461396331326366633831393237613462363061313865343965312f62797465636f6465616c6c69616e63652f7761736d2d6d6963726f2d72756e74696d65&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-micro-runtime/blob/main/doc/build_wamr.md" title="wasm-micro-runtime/doc/build_wamr.md at main · bytecodealliance/wasm-micro-runtime">wasm-micro-runtime/doc/build_wamr.md at main · bytecodealliance/wasm-micro-runtime</a></div><div class="message_embed_description">WebAssembly Micro Runtime (WAMR). Contribute to bytecodealliance/wasm-micro-runtime development by creating an account on GitHub.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-micro-runtime/blob/main/doc/build_wasm_app.md" style="background-image: url(&quot;https://uploads.zulipusercontent.net/6b30215ef350a7d3764466a654b5dbfcc1602e13/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f323666303363663638653561646432366636303936303663663137343035666266663237666461396331326366633831393237613462363061313865343965312f62797465636f6465616c6c69616e63652f7761736d2d6d6963726f2d72756e74696d65&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-micro-runtime/blob/main/doc/build_wasm_app.md" title="wasm-micro-runtime/doc/build_wasm_app.md at main · bytecodealliance/wasm-micro-runtime">wasm-micro-runtime/doc/build_wasm_app.md at main · bytecodealliance/wasm-micro-runtime</a></div><div class="message_embed_description">WebAssembly Micro Runtime (WAMR). Contribute to bytecodealliance/wasm-micro-runtime development by creating an account on GitHub.</div></div></div>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>