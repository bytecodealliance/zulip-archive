<html>
<head><meta charset="utf-8"><title>Links for James · C#/.net-collaboration · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/index.html">C#/.net-collaboration</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html">Links for James</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="469723752"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/469723752" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#469723752">(Sep 12 2024 at 16:26)</a>:</h4>
<p><span class="user-mention" data-user-id="625613">@James Sturtevant</span>  These instructions for build a NativeAOT-LLVM runtime and ILC should be up to date: <a href="https://github.com/dotnet/runtimelab/blob/feature/NativeAOT-LLVM/docs/workflow/building/coreclr/nativeaot.md">https://github.com/dotnet/runtimelab/blob/feature/NativeAOT-LLVM/docs/workflow/building/coreclr/nativeaot.md</a>.  You'll probably want to build using my PR branch: <a href="https://github.com/dicej/runtimelab/tree/system-net-http-wasi">https://github.com/dicej/runtimelab/tree/system-net-http-wasi</a></p>
<p>And here's what I have so far for the <code>SslStream</code> experiment: <a href="https://github.com/dicej/dotnet-wasi-tls">https://github.com/dicej/dotnet-wasi-tls</a>.  I haven't made many changes to the .NET runtime code yet, but I'll push those changes to a branch when I've made significant progress.  cc <span class="user-mention" data-user-id="471788">@Pavel Šavara</span></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/dotnet/runtimelab/blob/feature/NativeAOT-LLVM/docs/workflow/building/coreclr/nativeaot.md" style="background-image: url(&quot;https://uploads.zulipusercontent.net/90255515ab2e02a161e3715e4907ca21b90de3fb/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f626565646439356530313037623763636539633366313331323839393266376639613865656139393836333234326364643764633336356163313861346531322f646f746e65742f72756e74696d656c6162&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/dotnet/runtimelab/blob/feature/NativeAOT-LLVM/docs/workflow/building/coreclr/nativeaot.md" title="runtimelab/docs/workflow/building/coreclr/nativeaot.md at feature/NativeAOT-LLVM · dotnet/runtimelab">runtimelab/docs/workflow/building/coreclr/nativeaot.md at feature/NativeAOT-LLVM · dotnet/runtimelab</a></div><div class="message_embed_description">This repo is for experimentation and exploring new ideas that may or may not make it into the main dotnet/runtime repo. - dotnet/runtimelab</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/dicej/runtimelab/tree/system-net-http-wasi" style="background-image: url(&quot;https://uploads.zulipusercontent.net/08c25c0a255a5058553b5bd91abfb51e08b87d79/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f363964656230363864373661346135343466623334333864623264646262356232303130303232663765616462373036666663333535646166396335326338382f646963656a2f72756e74696d656c6162&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/dicej/runtimelab/tree/system-net-http-wasi" title="GitHub - dicej/runtimelab at system-net-http-wasi">GitHub - dicej/runtimelab at system-net-http-wasi</a></div><div class="message_embed_description">This repo is for experimentation and exploring new ideas that may or may not make it into the main dotnet/runtime repo. - GitHub - dicej/runtimelab at system-net-http-wasi</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/dicej/dotnet-wasi-tls" style="background-image: url(&quot;https://uploads.zulipusercontent.net/d5a0fcf9760cc727ec116d4babb1836b0103ef4d/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f393037353932333135396564313030366161663564393631643761643364323432343962636231613163323139613333643065326263386234356439633235342f646963656a2f646f746e65742d776173692d746c73&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/dicej/dotnet-wasi-tls" title="GitHub - dicej/dotnet-wasi-tls">GitHub - dicej/dotnet-wasi-tls</a></div><div class="message_embed_description">Contribute to dicej/dotnet-wasi-tls development by creating an account on GitHub.</div></div></div>



<a name="469731107"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/469731107" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pavel Šavara <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#469731107">(Sep 12 2024 at 17:00)</a>:</h4>
<p>I just learned that Mono/WASI Net10 SDK and workload is not going to be available soon. So using it from componentize-dotnet is blocked. I don't really understand the details of why, but it's some versioning hell in the product construction.<br>
<span class="user-mention" data-user-id="700594">@Larry Ewing</span> could maybe share more. </p>
<p>That should not prevent me from working on sockets upstream or James from work on SslStream upstream either, but we would have to merge it to NAOT_LLVM first before that would be visible to broader audience. And maybe working on NAOT_LLVM branch directly would be way to go. We will see.</p>
<p>Mono/WASI in Net9 is broken for other reasons and we are not going to try to fix it, because many of the fixes are only on main branch, which is Net10 now.</p>



<a name="470690162"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/470690162" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#470690162">(Sep 16 2024 at 17:45)</a>:</h4>
<p>this was the sql library we want to use ssltream in  <a href="https://github.com/dotnet/SqlClient">https://github.com/dotnet/SqlClient</a>?</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/dotnet/SqlClient" style="background-image: url(&quot;https://uploads.zulipusercontent.net/750a271dfa7c0dc2698a9975ec09002202c5e53f/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f313035646639636432393363623834616639336539383237656131623432623938633532363361343564303839313238643438643265306533353632363334642f646f746e65742f53716c436c69656e74&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/dotnet/SqlClient" title="GitHub - dotnet/SqlClient: Microsoft.Data.SqlClient provides database connectivity to SQL Server for .NET applications.">GitHub - dotnet/SqlClient: Microsoft.Data.SqlClient provides database connectivity to SQL Server for .NET applications.</a></div><div class="message_embed_description">Microsoft.Data.SqlClient provides database connectivity to SQL Server for .NET applications. - dotnet/SqlClient</div></div></div>



<a name="470692981"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/470692981" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#470692981">(Sep 16 2024 at 17:52)</a>:</h4>
<p>yes.  I'll grab that Windows machine I made the build changes to and send you the patch.</p>



<a name="470694080"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/470694080" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#470694080">(Sep 16 2024 at 17:55)</a>:</h4>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code><span class="gh">diff --git a/src/Microsoft.Data.SqlClient/netcore/src/Microsoft.Data.SqlClient.csproj b/src/Microsoft.Data.SqlClient/netcore/src/Microsoft.Data.SqlClient.csproj</span>
<span class="gh">index 494bd0b9..69f908e1 100644</span>
<span class="gd">--- a/src/Microsoft.Data.SqlClient/netcore/src/Microsoft.Data.SqlClient.csproj</span>
<span class="gi">+++ b/src/Microsoft.Data.SqlClient/netcore/src/Microsoft.Data.SqlClient.csproj</span>
<span class="gu">@@ -2,10 +2,9 @@</span>
<span class="w"> </span>  &lt;PropertyGroup&gt;
<span class="w"> </span>    &lt;AssemblyName&gt;Microsoft.Data.SqlClient&lt;/AssemblyName&gt;
<span class="w"> </span>    &lt;TargetFrameworks&gt;net8.0;net6.0&lt;/TargetFrameworks&gt;
<span class="gd">-    &lt;GeneratePlatformNotSupportedAssemblyMessage Condition="'$(OSGroup)' == 'AnyOS'"&gt;Microsoft.Data.SqlClient is not supported on this platform.&lt;/GeneratePlatformNotSupportedAssemblyMessage&gt;</span>
<span class="w"> </span>    &lt;OSGroup Condition="'$(OSGroup)' == ''"&gt;$(OS)&lt;/OSGroup&gt;
<span class="gi">+    &lt;TargetsUnix Condition="'$(OSGroup)'!='Unix'"&gt;true&lt;/TargetsUnix&gt;</span>
<span class="w"> </span>    &lt;TargetsWindows Condition="'$(OSGroup)'=='Windows_NT'"&gt;true&lt;/TargetsWindows&gt;
<span class="gd">-    &lt;TargetsUnix Condition="'$(OSGroup)'=='Unix'"&gt;true&lt;/TargetsUnix&gt;</span>
<span class="w"> </span>    &lt;!-- Allow explicit addition of the Compile files instead of all project files to be included by Default --&gt;
<span class="w"> </span>    &lt;EnableDefaultCompileItems&gt;false&lt;/EnableDefaultCompileItems&gt;
<span class="w"> </span>    &lt;TargetGroup Condition="'$([MSBuild]::GetTargetFrameworkIdentifier($(TargetFramework)))'=='.NETCoreApp'"&gt;netcoreapp&lt;/TargetGroup&gt;
<span class="gu">@@ -37,7 +36,7 @@</span>
<span class="w"> </span>    &lt;EmbeddedFiles Include="$(TargetFrameworkMonikerAssemblyAttributesPath)" /&gt;
<span class="w"> </span>  &lt;/ItemGroup&gt;
<span class="w"> </span>  &lt;!-- Contains common items shared between NetFx and NetCore --&gt;
<span class="gd">-  &lt;ItemGroup Condition="'$(OSGroup)' != 'AnyOS'"&gt;</span>
<span class="gi">+  &lt;ItemGroup&gt;</span>
<span class="w"> </span>    &lt;Compile Include="$(CommonPath)\CoreLib\System\Threading\Tasks\TaskToApm.cs"&gt;
<span class="w"> </span>      &lt;Link&gt;Common\CoreLib\System\Threading\Tasks\TaskToApm.cs&lt;/Link&gt;
<span class="w"> </span>    &lt;/Compile&gt;
<span class="gu">@@ -874,7 +873,7 @@</span>
<span class="w"> </span>  &lt;/ItemGroup&gt;

<span class="w"> </span>  &lt;!-- Unix only --&gt;
<span class="gd">-  &lt;ItemGroup Condition="'$(TargetsUnix)' == 'true'"&gt;</span>
<span class="gi">+  &lt;ItemGroup Condition="'$(TargetsWindows)' != 'true'"&gt;</span>
<span class="w"> </span>    &lt;Compile Include="$(CommonPath)\Interop\Unix\Interop.Libraries.cs"&gt;
<span class="w"> </span>      &lt;Link&gt;Common\Interop\Unix\Interop.Libraries.cs&lt;/Link&gt;
<span class="w"> </span>    &lt;/Compile&gt;
</code></pre></div>



<a name="470694596"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/470694596" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#470694596">(Sep 16 2024 at 17:56)</a>:</h4>
<p>There's probably a cleaner, better way to do it, but that's what I used.</p>



<a name="470729022"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/470729022" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#470729022">(Sep 16 2024 at 19:55)</a>:</h4>
<p>seem on windows I didn't need these changes... was able to pull the library in and compile a small app.  I think these might be needed for building on linux?</p>



<a name="470729162"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/470729162" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#470729162">(Sep 16 2024 at 19:55)</a>:</h4>
<p>They are for building for WASI</p>



<a name="470729546"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/470729546" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#470729546">(Sep 16 2024 at 19:56)</a>:</h4>
<p>yea, I see now app was building a wasi binary, then when I pulled in the library it stopped for some reason...</p>



<a name="470779362"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/470779362" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#470779362">(Sep 17 2024 at 00:12)</a>:</h4>
<p>what was the break point you set for seeing the stack trace?  I am getting <code>Unhandled exception. System.NullReferenceException: Object reference not set to an instance of an object.</code>  I guess this is were I would use that to see where it is throwing</p>



<a name="470779566"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/470779566" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#470779566">(Sep 17 2024 at 00:14)</a>:</h4>
<p>btw I am able to build and run with without the patch, unless I am missing something.</p>



<a name="470788551"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/470788551" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#470788551">(Sep 17 2024 at 00:47)</a>:</h4>
<p><code>break S_P_CoreLib_System_Runtime_EH__RhpThrowEx</code></p>



<a name="471021732"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471021732" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471021732">(Sep 17 2024 at 15:45)</a>:</h4>
<p>What was the command you were using to build SQL client and the errors that lead to changing those lines in the csproj?  I seem to be making some progress without those changes.  When you get on later today maybe its worth 30 mins to show you what I have to make sure I am on track?</p>



<a name="471039887"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471039887" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471039887">(Sep 17 2024 at 17:03)</a>:</h4>
<p>I was using cmd.exe, so I don't think I have shell history, but we can pair up and retrace those steps.  I do remember I had to iterate on the patch before I got it to run all the way to <code>SocketAsyncEngine</code> and fail when trying to populate a thread pool.  If you're seeing failures before it gets to that point, it probably means you need part or all of my patch.</p>
<p>Want to pair up at 2pm PDT today?  Or else let me know your availability.  I'll be free 2-4pm PDT today.</p>



<a name="471042024"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471042024" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471042024">(Sep 17 2024 at 17:11)</a>:</h4>
<p>2pm works for me.  running wasmtime on windows is really slow :-/.  I think I am making the same progress you are but should see.  I just set up on linux and getting a whole different set of errors and they are way more expressive</p>



<a name="471042990"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471042990" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471042990">(Sep 17 2024 at 17:15)</a>:</h4>
<p>I think what I did was build the <code>SqlClient</code> nupkg on Windows, copy it over to my Linux machine, and build and test my app there.  It all <em>should</em> work on Windows, but Linux is just more comfortable and familiar for me.</p>



<a name="471051313"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471051313" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471051313">(Sep 17 2024 at 17:56)</a>:</h4>
<p>BTW, I'm thoroughly refactoring my <code>dotnet-tls</code> repo so it mirrors (a subset of) the <code>System.Net.Sockets</code> and <code>System.Net.Security</code> APIs, with the goal of making it a drop-in replacement for those assemblies (e.g. for use in <code>Microsoft.Data.SqlClient</code>).</p>



<a name="471051414"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471051414" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471051414">(Sep 17 2024 at 17:56)</a>:</h4>
<p>So hopefully we won't need to change much code in <code>SqlClient</code> -- just some <code>using</code> statements.</p>



<a name="471093161"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471093161" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471093161">(Sep 17 2024 at 21:00)</a>:</h4>
<p>just sent you a Teams meeting invite</p>



<a name="471093678"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471093678" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Larry Ewing <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471093678">(Sep 17 2024 at 21:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="471788">Pavel Šavara</span> <a href="#narrow/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James/near/469731107">said</a>:</p>
<blockquote>
<p>I just learned that Mono/WASI Net10 SDK and workload is not going to be available soon. So using it from componentize-dotnet is blocked. I don't really understand the details of why, but it's some versioning hell in the product construction.<br>
<span class="user-mention silent" data-user-id="700594">Larry Ewing</span> could maybe share more. </p>
<p>That should not prevent me from working on sockets upstream or James from work on SslStream upstream either, but we would have to merge it to NAOT_LLVM first before that would be visible to broader audience. And maybe working on NAOT_LLVM branch directly would be way to go. We will see.</p>
<p>Mono/WASI in Net9 is broken for other reasons and we are not going to try to fix it, because many of the fixes are only on main branch, which is Net10 now.</p>
</blockquote>
<p>The challenge here is that adding a new framework (net10) while in the middle of a release has proved challenging in the past.  I'm feeling better about the potential timeline today than I was last week.  I will keep <span class="user-mention" data-user-id="471788">@Pavel Šavara</span> updated with the status.</p>



<a name="471110881"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471110881" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Larry Ewing <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471110881">(Sep 17 2024 at 22:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="509936">Joel Dice</span> <a href="#narrow/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James/near/471093161">said</a>:</p>
<blockquote>
<p>just sent you a Teams meeting invite</p>
</blockquote>
<p>If you could extract a public test case around how the connection is initiated and processed It sounds like there might be alternate solutions?</p>



<a name="471112542"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471112542" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471112542">(Sep 17 2024 at 22:45)</a>:</h4>
<blockquote>
<p>If you could extract a public test case around how the connection is initiated and processed It sounds like there might be alternate solutions?</p>
</blockquote>
<p>For context: our goal is to get <code>Microsoft.Data.SqlClient</code> working (with few or no changes) on WASI.  As a stepping stone towards that goal (and as a way of proving the concept), we're temporarily replacing its use of <code>System.Net.Sockets</code> and <code>System.Net.Security</code> with our own minimal alternatives.  That will allow us to prove that WASI (when augmented with the proposed <code>wasi:sockets/tls</code> draft) is capable of supporting this use case.  Once we've done that, we can work on proper WASI support for <code>System.Net.Sockets</code> and <code>System.Net.Security</code> in the .NET runtime (Pavel is making awesome progress on the former, but the latter hasn't been started).  And once <em>that's</em> done, we should be able to make <code>SqlClient</code> work more-or-less unmodified.</p>
<p>With all that in mind, can you clarify what you mean by your question?  What kind of public test case are you looking for, and what do you mean by "alternate solutions"?  Do you mean a different way of approaching the problem of socket and TLS support on WASI?</p>



<a name="471116982"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471116982" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471116982">(Sep 17 2024 at 23:12)</a>:</h4>
<p><span class="user-mention" data-user-id="625613">@James Sturtevant</span> I just pushed a bit update to <a href="https://github.com/dicej/dotnet-wasi-tls">https://github.com/dicej/dotnet-wasi-tls</a>, including minimal <code>Dns</code>, <code>TcpClient</code>, and <code>SslStream</code> implementations.  It all compiles fine but won't run until we have a host-side <code>wasi:sockets/tls</code> implementation, which I'll work on tomorrow.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/dicej/dotnet-wasi-tls" style="background-image: url(&quot;https://uploads.zulipusercontent.net/30b62465d3179a1e4be17c6fa913cd8a1903a5a6/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f633535366533343233623934353066643363666636303866303961306163666236376563396162393930666461626166653030363132346233353166656434302f646963656a2f646f746e65742d776173692d746c73&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/dicej/dotnet-wasi-tls" title="GitHub - dicej/dotnet-wasi-tls">GitHub - dicej/dotnet-wasi-tls</a></div><div class="message_embed_description">Contribute to dicej/dotnet-wasi-tls development by creating an account on GitHub.</div></div></div>



<a name="471117952"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471117952" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Larry Ewing <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471117952">(Sep 17 2024 at 23:16)</a>:</h4>
<p>I meant I was curious about how the api was being used outside the wasi case because it sounded like there was some potential to adjust the api usage that wasn't directly related to the wasi work</p>



<a name="471119123"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471119123" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471119123">(Sep 17 2024 at 23:20)</a>:</h4>
<p>You mean adjust the API usage in the <code>SqlClient</code> code?  Yes, thanks for reminding me.  At minimum, the "Async open requests are handled serially" part of <a href="https://github.com/dotnet/SqlClient/discussions/2612">https://github.com/dotnet/SqlClient/discussions/2612</a> will need to be addressed.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/dotnet/SqlClient/discussions/2612" style="background-image: url(&quot;https://uploads.zulipusercontent.net/1c1fdca902a61908394daa2a2528c0954bc12917/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f633231616133623934646330323233353666303236613265373136373830336132313432363230313731353465343766633863646437653833643436396634652f646f746e65742f53716c436c69656e742f64697363757373696f6e732f32363132&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/dotnet/SqlClient/discussions/2612" title="Redesign the SqlClient Connection Pool to Improve Performance and Async Support · dotnet SqlClient · Discussion #2612">Redesign the SqlClient Connection Pool to Improve Performance and Async Support · dotnet SqlClient · Discussion #2612</a></div><div class="message_embed_description">Problem Statement Modern .NET applications interact with Azure SQL server instances which have robust load balancing, scaling, and reliability. However, the current connection pool design does not ...</div></div></div>



<a name="471119609"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471119609" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471119609">(Sep 17 2024 at 23:22)</a>:</h4>
<p>In the meantime, we <em>can</em> hack around that by adding a synchronous <code>Connect</code> method to my fake <code>TcpClient</code>.  <span class="user-mention" data-user-id="471788">@Pavel Šavara</span> won't let that leak into the real implementation, but I can do what I want in my fake one :)</p>



<a name="471120794"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471120794" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Larry Ewing <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471120794">(Sep 17 2024 at 23:26)</a>:</h4>
<p>Yes, no need to block on the ideal solution but it sounds like something upstream would like to fix so lets add weight to that.</p>



<a name="471133668"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471133668" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471133668">(Sep 18 2024 at 00:56)</a>:</h4>
<p><span class="user-mention" data-user-id="509936">@Joel Dice</span> Upgrading 24.04 and using gdb 15.0.50 and now able to set breakpoints plus get much more info in output</p>



<a name="471349471"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471349471" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471349471">(Sep 18 2024 at 21:13)</a>:</h4>
<p>As promised, I've added a Wasmtime-based host implementation of <code>wasi:sockets/tls</code> to <a href="https://github.com/dicej/dotnet-wasi-tls">https://github.com/dicej/dotnet-wasi-tls</a>.  I'm able to send HTTPS GET requests to arbitrary websites and print the responses.</p>
<p><span class="user-mention" data-user-id="625613">@James Sturtevant</span> maybe we could pair up tomorrow on getting SqlClient to use this?</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/dicej/dotnet-wasi-tls" style="background-image: url(&quot;https://uploads.zulipusercontent.net/41fb40db596bccf9d4fedfa67184dbd8ad89fcdb/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f313232366565313238646661393965393764613265663066366437363333376337653030333864396434643964633130366464383330646365643137343332332f646963656a2f646f746e65742d776173692d746c73&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/dicej/dotnet-wasi-tls" title="GitHub - dicej/dotnet-wasi-tls">GitHub - dicej/dotnet-wasi-tls</a></div><div class="message_embed_description">Contribute to dicej/dotnet-wasi-tls development by creating an account on GitHub.</div></div></div>



<a name="471353601"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471353601" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471353601">(Sep 18 2024 at 21:47)</a>:</h4>
<p>sure, I've got the sqlclient mostly wired in with wasi-tls.  working on the getting tcp in fully</p>



<a name="471353636"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471353636" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471353636">(Sep 18 2024 at 21:47)</a>:</h4>
<p>Just got <code>#2  0x00007ffeaad500e3 in S_P_CoreLib_Internal_Runtime_CompilerHelpers_ThrowHelpers__ThrowMissingMethodException (id=MissingMethod, methodName=...)
#3  0x00007ffeaf903410 in Microsoft_Data_SqlClient_WasiEventLoop___Register_g__CallRegister_1_0 (var0=&lt;optimized out&gt;, var1=&lt;optimized out&gt;, var2=&lt;optimized out&gt;, var3=&lt;optimized out&gt;) at .tmpgxmt8A.wasm:79957694</code></p>



<a name="471354476"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471354476" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471354476">(Sep 18 2024 at 21:53)</a>:</h4>
<p>Hmm, looks like <code>UnsafeAccessor</code> can't find the <code>Thread.RegisterWasiPollableHandle</code> method in the runtime.  Which branch of runtimelab did you build from?</p>



<a name="471354610"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471354610" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471354610">(Sep 18 2024 at 21:54)</a>:</h4>
<p>actually looks like I dropped tcp client before done connecting...</p>



<a name="471354699"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471354699" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471354699">(Sep 18 2024 at 21:55)</a>:</h4>
<p>I am using the released version right now, as you provided DNS the impl</p>



<a name="471354880"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471354880" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471354880">(Sep 18 2024 at 21:56)</a>:</h4>
<p>ok, I'm still using my <a href="https://github.com/dotnet/runtimelab/pull/2614">https://github.com/dotnet/runtimelab/pull/2614</a> branch; I haven't kept track of which changes are where, but my branch is probably the safest one to use right now since that's what I'm testing.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/dotnet/runtimelab/pull/2614" style="background-image: url(&quot;https://uploads.zulipusercontent.net/0a09ee30b9b889d1271caaae32cf20a761a83d95/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f313361373731363339313161653535626230663961643236643935356535666362666665663034393831386633346165303361346132666439303436393630632f646f746e65742f72756e74696d656c61622f70756c6c2f32363134&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/dotnet/runtimelab/pull/2614" title="[NativeAOT-LLVM] support `System.Net.Http.HttpClient` on WASIp2 by dicej · Pull Request #2614 · dotnet/runtimelab">[NativeAOT-LLVM] support `System.Net.Http.HttpClient` on WASIp2 by dicej · Pull Request #2614 · dotnet/runtimelab</a></div><div class="message_embed_description">This adds WasiHttpHandler, a new implementation of HttpMessageHandler based on
wasi:http/outgoing-handler, plus tweaks to System.Threading to allow async Tasks to work in a single-threaded context,...</div></div></div>



<a name="471355560"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471355560" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471355560">(Sep 18 2024 at 22:01)</a>:</h4>
<p>fair enough, I didn't have it building this morning when I started so was going till I ran into something  but it does seem that I am missing that register.  Will try it with the packages I built from your branch</p>



<a name="471355835"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471355835" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471355835">(Sep 18 2024 at 22:03)</a>:</h4>
<p>FYI, I've added instructions to the <code>dotnet-wasi-tls</code> repo README.md that tells you how to download pre-built packages for various platforms, if that's easier.</p>



<a name="471359001"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471359001" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471359001">(Sep 18 2024 at 22:27)</a>:</h4>
<p>using those packages did the trick.  Made it alittle further!</p>



<a name="471492619"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471492619" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471492619">(Sep 19 2024 at 13:57)</a>:</h4>
<p>Had to make a few changes to wasi-tls host world but I've got it connecting.  The TLS handshake is failing with EOF, going to try a few things this morning but if you want to pair that would be helpful!</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w"> </span><span class="o">--</span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">Microsoft</span><span class="p">.</span><span class="n">Data</span><span class="p">.</span><span class="n">SqlClient</span><span class="p">.</span><span class="n">SqlException</span><span class="w"> </span><span class="p">(</span><span class="mh">0x80131904</span><span class="p">):</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">successfully</span><span class="w"> </span><span class="n">established</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">occurred</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pre</span><span class="o">-</span><span class="n">login</span><span class="w"> </span><span class="n">handshake</span><span class="p">.</span><span class="w"> </span><span class="p">(</span><span class="n">provider</span><span class="p">:</span><span class="w"> </span><span class="nc">SSL</span><span class="w"> </span><span class="n">Provider</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Encryption</span><span class="p">(</span><span class="n">ssl</span><span class="o">/</span><span class="n">tls</span><span class="p">)</span><span class="w"> </span><span class="n">handshake</span><span class="w"> </span><span class="n">failed</span><span class="p">)</span>
<span class="w"> </span><span class="o">--</span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">System</span><span class="p">.</span><span class="n">AggregateException</span><span class="p">:</span><span class="w"> </span><span class="nc">One</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">errors</span><span class="w"> </span><span class="n">occurred</span><span class="p">.</span><span class="w"> </span><span class="p">(</span><span class="n">TLS</span><span class="w"> </span><span class="n">handshake</span><span class="w"> </span><span class="n">failed</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">hostside</span><span class="p">:</span><span class="w"> </span><span class="nc">ImportsWorld</span><span class="p">.</span><span class="nb">None</span><span class="p">)</span>
</code></pre></div>



<a name="471493153"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471493153" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471493153">(Sep 19 2024 at 13:59)</a>:</h4>
<p>Awesome!  I've got meetings until 9am PDT, but free after that.  When works best for you?</p>



<a name="471512986"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471512986" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471512986">(Sep 19 2024 at 15:34)</a>:</h4>
<p>That time works for me</p>



<a name="471813725"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471813725" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471813725">(Sep 20 2024 at 19:19)</a>:</h4>
<p>cargo run --release --manifest-path host/Cargo.toml ../wasi-sql/bin/Debug/net9.0/wasi-wasm/native/sqlclient-wasi.wasm<br>
Finished <code>release</code> profile [optimized] target(s) in 0.22s<br>
Running <code>host/target/release/host ../wasi-sql/bin/Debug/net9.0/wasi-wasm/native/sqlclient-wasi.wasm</code><br>
Hello from WASI!<br>
Stream creation<br>
Stream creation<br>
ServerVersion: 12.00.5688<br>
State: Open<br>
1<br>
2<br>
goodbye</p>



<a name="471813863"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471813863" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471813863">(Sep 20 2024 at 19:20)</a>:</h4>
<p>Connected <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="471823757"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471823757" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471823757">(Sep 20 2024 at 20:05)</a>:</h4>
<p>That's awesome!  Did you have to do anything else besides set up a server that could accept "Encrypt=strict" connections?</p>



<a name="471825945"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471825945" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471825945">(Sep 20 2024 at 20:17)</a>:</h4>
<p>and fix the DNS look up :-)  but other than that it worked</p>



<a name="471854768"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471854768" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471854768">(Sep 21 2024 at 00:11)</a>:</h4>
<p>saw your comments and will address Monday.  Do we want to sync up early next week to talk next steps too?</p>



<a name="471861468"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/471861468" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#471861468">(Sep 21 2024 at 01:35)</a>:</h4>
<p>Yup; just sent you and Pavel an invite.</p>



<a name="472188449"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/472188449" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#472188449">(Sep 23 2024 at 10:25)</a>:</h4>
<p>effing brilliant here, all of you</p>



<a name="472234193"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/472234193" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pavel Šavara <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#472234193">(Sep 23 2024 at 13:33)</a>:</h4>
<p><a href="/user_uploads/15107/zVIJBW-pChdjJMOJ8bCzydyM/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/15107/zVIJBW-pChdjJMOJ8bCzydyM/image.png" title="image.png"><img data-original-dimensions="1193x522" src="/user_uploads/thumbnail/15107/zVIJBW-pChdjJMOJ8bCzydyM/image.png/840x560.webp"></a></div>



<a name="472234345"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/472234345" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pavel Šavara <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#472234345">(Sep 23 2024 at 13:33)</a>:</h4>
<p>I had to disable many, many tests ... but this will unblock us for further adventure</p>



<a name="472277863"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407028-C%23/.net-collaboration/topic/Links%20for%20James/near/472277863" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Sturtevant <a href="https://bytecodealliance.github.io/zulip-archive/stream/407028-C.23.2F.2Enet-collaboration/topic/Links.20for.20James.html#472277863">(Sep 23 2024 at 16:29)</a>:</h4>
<p>I am back and around for rest of the day, if want to have another quick sync</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>