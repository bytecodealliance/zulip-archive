<html>
<head><meta charset="utf-8"><title>wasmtime / issue #10240 Issue building Wasmtime v0.38.1 · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310240.20Issue.20building.20Wasmtime.20v0.2E38.2E1.html">wasmtime / issue #10240 Issue building Wasmtime v0.38.1</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="500416386"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310240%20Issue%20building%20Wasmtime%20v0.38.1/near/500416386" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310240.20Issue.20building.20Wasmtime.20v0.2E38.2E1.html#500416386">(Feb 18 2025 at 14:38)</a>:</h4>
<p>lucasmlp edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10240">issue #10240</a>:</p>
<blockquote>
<p>Hi</p>
<p>I'm building Wasmtime C API <code>v0.38.1</code> so I can use the binaries in <code>wasm-nginx-module@0.7.0</code>.<br>
This is the error I'm getting while running <code>cargo build --release --manifest-path crates/c-api/Cargo.toml</code>:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>error<span class="o">[</span>E0061<span class="o">]</span>:<span class="w"> </span>this<span class="w"> </span>method<span class="w"> </span>takes<span class="w"> </span><span class="m">1</span><span class="w"> </span>argument<span class="w"> </span>but<span class="w"> </span><span class="m">2</span><span class="w"> </span>arguments<span class="w"> </span>were<span class="w"> </span>supplied
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:20:25
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="p">|</span><span class="w">             </span><span class="k">return</span><span class="w"> </span>file.set_times<span class="o">(</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                         </span>^^^^^^^^^
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>mtime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                 </span>-----------------------------------<span class="w"> </span>unexpected<span class="w"> </span>argument<span class="w"> </span><span class="c1">#2 of type `Option&lt;fs_set_times::SystemTimeSpec&gt;`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>note:<span class="w"> </span>expected<span class="w"> </span><span class="sb">`</span>FileTimes<span class="sb">`</span>,<span class="w"> </span>found<span class="w"> </span><span class="sb">`</span>Option&lt;SystemTimeSpec&gt;<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:21:17
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                 </span>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="o">=</span><span class="w"> </span>note:<span class="w"> </span>expected<span class="w"> </span>struct<span class="w"> </span><span class="sb">`</span>FileTimes<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">                 </span>found<span class="w"> </span>enum<span class="w"> </span><span class="sb">`</span>Option&lt;fs_set_times::SystemTimeSpec&gt;<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>note:<span class="w"> </span>method<span class="w"> </span>defined<span class="w"> </span>here
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/rustc-1.84.0-src/library/std/src/fs.rs:1019:12
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>help:<span class="w"> </span>remove<span class="w"> </span>the<span class="w"> </span>extra<span class="w"> </span>argument
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">21</span><span class="w"> </span>-<span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">21</span><span class="w"> </span>+<span class="w">                 </span>/*<span class="w"> </span>FileTimes<span class="w"> </span>*/,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>error<span class="o">[</span>E0061<span class="o">]</span>:<span class="w"> </span>this<span class="w"> </span>method<span class="w"> </span>takes<span class="w"> </span><span class="m">1</span><span class="w"> </span>argument<span class="w"> </span>but<span class="w"> </span><span class="m">2</span><span class="w"> </span>arguments<span class="w"> </span>were<span class="w"> </span>supplied
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:34:25
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">34</span><span class="w"> </span><span class="p">|</span><span class="w">             </span><span class="k">return</span><span class="w"> </span>file.set_times<span class="o">(</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                         </span>^^^^^^^^^
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">35</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">36</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>mtime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                 </span>-----------------------------------<span class="w"> </span>unexpected<span class="w"> </span>argument<span class="w"> </span><span class="c1">#2 of type `Option&lt;fs_set_times::SystemTimeSpec&gt;`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>note:<span class="w"> </span>expected<span class="w"> </span><span class="sb">`</span>FileTimes<span class="sb">`</span>,<span class="w"> </span>found<span class="w"> </span><span class="sb">`</span>Option&lt;SystemTimeSpec&gt;<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:35:17
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">35</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                 </span>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="o">=</span><span class="w"> </span>note:<span class="w"> </span>expected<span class="w"> </span>struct<span class="w"> </span><span class="sb">`</span>FileTimes<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">                 </span>found<span class="w"> </span>enum<span class="w"> </span><span class="sb">`</span>Option&lt;fs_set_times::SystemTimeSpec&gt;<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>note:<span class="w"> </span>method<span class="w"> </span>defined<span class="w"> </span>here
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/rustc-1.84.0-src/library/std/src/fs.rs:1019:12
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>help:<span class="w"> </span>remove<span class="w"> </span>the<span class="w"> </span>extra<span class="w"> </span>argument
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">35</span><span class="w"> </span>-<span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">35</span><span class="w"> </span>+<span class="w">                 </span>/*<span class="w"> </span>FileTimes<span class="w"> </span>*/,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>For<span class="w"> </span>more<span class="w"> </span>information<span class="w"> </span>about<span class="w"> </span>this<span class="w"> </span>error,<span class="w"> </span>try<span class="w"> </span><span class="sb">`</span>rustc<span class="w"> </span>--explain<span class="w"> </span>E0061<span class="sb">`</span>.
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>error:<span class="w"> </span>could<span class="w"> </span>not<span class="w"> </span>compile<span class="w"> </span><span class="sb">`</span>cap-primitives<span class="sb">`</span><span class="w"> </span><span class="o">(</span>lib<span class="o">)</span><span class="w"> </span>due<span class="w"> </span>to<span class="w"> </span><span class="m">2</span><span class="w"> </span>previous<span class="w"> </span>errors
</code></pre></div>
<p>I'm using openSUSE Tumbleweed, Cargo 1.83, and Rust 1.83.</p>
<p>It seems like a version mismatch between Wasmtime dependencies and the Rust version, but I can't exactly say what the issue is here.<br>
I used the same environment to build Wasmtime <code>v29.0.1</code>, and it was built just fine.</p>
<p>Can somebody say what the Cargo and Rust version used in Wasmtime <code>v0.38.1</code> is?</p>
</blockquote>



<a name="500416516"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310240%20Issue%20building%20Wasmtime%20v0.38.1/near/500416516" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310240.20Issue.20building.20Wasmtime.20v0.2E38.2E1.html#500416516">(Feb 18 2025 at 14:38)</a>:</h4>
<p>lucasmlp edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10240">issue #10240</a>:</p>
<blockquote>
<p>Hi</p>
<p>I'm building Wasmtime C API <code>v0.38.1</code> so I can use the binaries in <code>wasm-nginx-module@0.7.0</code>.<br>
This is the error I'm getting while running <code>cargo build --release --manifest-path crates/c-api/Cargo.toml</code>:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>error<span class="o">[</span>E0061<span class="o">]</span>:<span class="w"> </span>this<span class="w"> </span>method<span class="w"> </span>takes<span class="w"> </span><span class="m">1</span><span class="w"> </span>argument<span class="w"> </span>but<span class="w"> </span><span class="m">2</span><span class="w"> </span>arguments<span class="w"> </span>were<span class="w"> </span>supplied
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:20:25
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="p">|</span><span class="w">             </span><span class="k">return</span><span class="w"> </span>file.set_times<span class="o">(</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                         </span>^^^^^^^^^
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>mtime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                 </span>-----------------------------------<span class="w"> </span>unexpected<span class="w"> </span>argument<span class="w"> </span><span class="c1">#2 of type `Option&lt;fs_set_times::SystemTimeSpec&gt;`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>note:<span class="w"> </span>expected<span class="w"> </span><span class="sb">`</span>FileTimes<span class="sb">`</span>,<span class="w"> </span>found<span class="w"> </span><span class="sb">`</span>Option&lt;SystemTimeSpec&gt;<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:21:17
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                 </span>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="o">=</span><span class="w"> </span>note:<span class="w"> </span>expected<span class="w"> </span>struct<span class="w"> </span><span class="sb">`</span>FileTimes<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">                 </span>found<span class="w"> </span>enum<span class="w"> </span><span class="sb">`</span>Option&lt;fs_set_times::SystemTimeSpec&gt;<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>note:<span class="w"> </span>method<span class="w"> </span>defined<span class="w"> </span>here
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/rustc-1.84.0-src/library/std/src/fs.rs:1019:12
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>help:<span class="w"> </span>remove<span class="w"> </span>the<span class="w"> </span>extra<span class="w"> </span>argument
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">21</span><span class="w"> </span>-<span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">21</span><span class="w"> </span>+<span class="w">                 </span>/*<span class="w"> </span>FileTimes<span class="w"> </span>*/,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>error<span class="o">[</span>E0061<span class="o">]</span>:<span class="w"> </span>this<span class="w"> </span>method<span class="w"> </span>takes<span class="w"> </span><span class="m">1</span><span class="w"> </span>argument<span class="w"> </span>but<span class="w"> </span><span class="m">2</span><span class="w"> </span>arguments<span class="w"> </span>were<span class="w"> </span>supplied
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:34:25
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">34</span><span class="w"> </span><span class="p">|</span><span class="w">             </span><span class="k">return</span><span class="w"> </span>file.set_times<span class="o">(</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                         </span>^^^^^^^^^
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">35</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">36</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>mtime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                 </span>-----------------------------------<span class="w"> </span>unexpected<span class="w"> </span>argument<span class="w"> </span><span class="c1">#2 of type `Option&lt;fs_set_times::SystemTimeSpec&gt;`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>note:<span class="w"> </span>expected<span class="w"> </span><span class="sb">`</span>FileTimes<span class="sb">`</span>,<span class="w"> </span>found<span class="w"> </span><span class="sb">`</span>Option&lt;SystemTimeSpec&gt;<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:35:17
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">35</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                 </span>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="o">=</span><span class="w"> </span>note:<span class="w"> </span>expected<span class="w"> </span>struct<span class="w"> </span><span class="sb">`</span>FileTimes<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">                 </span>found<span class="w"> </span>enum<span class="w"> </span><span class="sb">`</span>Option&lt;fs_set_times::SystemTimeSpec&gt;<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>note:<span class="w"> </span>method<span class="w"> </span>defined<span class="w"> </span>here
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/rustc-1.84.0-src/library/std/src/fs.rs:1019:12
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>help:<span class="w"> </span>remove<span class="w"> </span>the<span class="w"> </span>extra<span class="w"> </span>argument
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">35</span><span class="w"> </span>-<span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">35</span><span class="w"> </span>+<span class="w">                 </span>/*<span class="w"> </span>FileTimes<span class="w"> </span>*/,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>For<span class="w"> </span>more<span class="w"> </span>information<span class="w"> </span>about<span class="w"> </span>this<span class="w"> </span>error,<span class="w"> </span>try<span class="w"> </span><span class="sb">`</span>rustc<span class="w"> </span>--explain<span class="w"> </span>E0061<span class="sb">`</span>.
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>error:<span class="w"> </span>could<span class="w"> </span>not<span class="w"> </span>compile<span class="w"> </span><span class="sb">`</span>cap-primitives<span class="sb">`</span><span class="w"> </span><span class="o">(</span>lib<span class="o">)</span><span class="w"> </span>due<span class="w"> </span>to<span class="w"> </span><span class="m">2</span><span class="w"> </span>previous<span class="w"> </span>errors
</code></pre></div>
<p>I'm using openSUSE Tumbleweed, Cargo <code>1.83</code>, and Rust <code>1.83</code>.</p>
<p>It seems like a version mismatch between Wasmtime dependencies and the Rust version, but I can't exactly say what the issue is here.<br>
I used the same environment to build Wasmtime <code>v29.0.1</code>, and it was built just fine.</p>
<p>Can somebody say what the Cargo and Rust version used in Wasmtime <code>v0.38.1</code> is?</p>
</blockquote>



<a name="500425657"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310240%20Issue%20building%20Wasmtime%20v0.38.1/near/500425657" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310240.20Issue.20building.20Wasmtime.20v0.2E38.2E1.html#500425657">(Feb 18 2025 at 15:15)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/10240#issuecomment-2666013724">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10240">issue #10240</a>:</p>
<blockquote>
<p>Looks like a <code>set_times</code> method got introduced on <code>File</code>  in 1.75.0. This likely shadowed the impl in cap-primitives. Wasmtime 0.38.1 got released after rustc 1.61. If you want to use this ancient Wasmtime version, you may want to try with rustc 1.61.</p>
</blockquote>



<a name="500471427"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310240%20Issue%20building%20Wasmtime%20v0.38.1/near/500471427" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310240.20Issue.20building.20Wasmtime.20v0.2E38.2E1.html#500471427">(Feb 18 2025 at 17:17)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/10240">issue #10240</a>:</p>
<blockquote>
<p>Hi</p>
<p>I'm building Wasmtime C API <code>v0.38.1</code> so I can use the binaries in <code>wasm-nginx-module@0.7.0</code>.<br>
This is the error I'm getting while running <code>cargo build --release --manifest-path crates/c-api/Cargo.toml</code>:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>error<span class="o">[</span>E0061<span class="o">]</span>:<span class="w"> </span>this<span class="w"> </span>method<span class="w"> </span>takes<span class="w"> </span><span class="m">1</span><span class="w"> </span>argument<span class="w"> </span>but<span class="w"> </span><span class="m">2</span><span class="w"> </span>arguments<span class="w"> </span>were<span class="w"> </span>supplied
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:20:25
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="p">|</span><span class="w">             </span><span class="k">return</span><span class="w"> </span>file.set_times<span class="o">(</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                         </span>^^^^^^^^^
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>mtime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                 </span>-----------------------------------<span class="w"> </span>unexpected<span class="w"> </span>argument<span class="w"> </span><span class="c1">#2 of type `Option&lt;fs_set_times::SystemTimeSpec&gt;`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>note:<span class="w"> </span>expected<span class="w"> </span><span class="sb">`</span>FileTimes<span class="sb">`</span>,<span class="w"> </span>found<span class="w"> </span><span class="sb">`</span>Option&lt;SystemTimeSpec&gt;<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:21:17
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                 </span>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="o">=</span><span class="w"> </span>note:<span class="w"> </span>expected<span class="w"> </span>struct<span class="w"> </span><span class="sb">`</span>FileTimes<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">                 </span>found<span class="w"> </span>enum<span class="w"> </span><span class="sb">`</span>Option&lt;fs_set_times::SystemTimeSpec&gt;<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>note:<span class="w"> </span>method<span class="w"> </span>defined<span class="w"> </span>here
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/rustc-1.84.0-src/library/std/src/fs.rs:1019:12
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>help:<span class="w"> </span>remove<span class="w"> </span>the<span class="w"> </span>extra<span class="w"> </span>argument
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">21</span><span class="w"> </span>-<span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">21</span><span class="w"> </span>+<span class="w">                 </span>/*<span class="w"> </span>FileTimes<span class="w"> </span>*/,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>error<span class="o">[</span>E0061<span class="o">]</span>:<span class="w"> </span>this<span class="w"> </span>method<span class="w"> </span>takes<span class="w"> </span><span class="m">1</span><span class="w"> </span>argument<span class="w"> </span>but<span class="w"> </span><span class="m">2</span><span class="w"> </span>arguments<span class="w"> </span>were<span class="w"> </span>supplied
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:34:25
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">34</span><span class="w"> </span><span class="p">|</span><span class="w">             </span><span class="k">return</span><span class="w"> </span>file.set_times<span class="o">(</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                         </span>^^^^^^^^^
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">35</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">36</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>mtime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                 </span>-----------------------------------<span class="w"> </span>unexpected<span class="w"> </span>argument<span class="w"> </span><span class="c1">#2 of type `Option&lt;fs_set_times::SystemTimeSpec&gt;`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>note:<span class="w"> </span>expected<span class="w"> </span><span class="sb">`</span>FileTimes<span class="sb">`</span>,<span class="w"> </span>found<span class="w"> </span><span class="sb">`</span>Option&lt;SystemTimeSpec&gt;<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/wasmtime/vendor/cap-primitives-0.24.3/src/rustix/linux/fs/set_times_impl.rs:35:17
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">35</span><span class="w"> </span><span class="p">|</span><span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span><span class="w">                 </span>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="o">=</span><span class="w"> </span>note:<span class="w"> </span>expected<span class="w"> </span>struct<span class="w"> </span><span class="sb">`</span>FileTimes<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">                 </span>found<span class="w"> </span>enum<span class="w"> </span><span class="sb">`</span>Option&lt;fs_set_times::SystemTimeSpec&gt;<span class="sb">`</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>note:<span class="w"> </span>method<span class="w"> </span>defined<span class="w"> </span>here
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">   </span>--&gt;<span class="w"> </span>/home/abuild/rpmbuild/BUILD/rustc-1.84.0-src/library/std/src/fs.rs:1019:12
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>help:<span class="w"> </span>remove<span class="w"> </span>the<span class="w"> </span>extra<span class="w"> </span>argument
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">35</span><span class="w"> </span>-<span class="w">                 </span>atime.map<span class="o">(</span>SystemTimeSpec::into_std<span class="o">)</span>,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span><span class="m">35</span><span class="w"> </span>+<span class="w">                 </span>/*<span class="w"> </span>FileTimes<span class="w"> </span>*/,
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w">    </span><span class="p">|</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span>
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>For<span class="w"> </span>more<span class="w"> </span>information<span class="w"> </span>about<span class="w"> </span>this<span class="w"> </span>error,<span class="w"> </span>try<span class="w"> </span><span class="sb">`</span>rustc<span class="w"> </span>--explain<span class="w"> </span>E0061<span class="sb">`</span>.
<span class="o">[</span><span class="w">   </span>86s<span class="o">]</span><span class="w"> </span>error:<span class="w"> </span>could<span class="w"> </span>not<span class="w"> </span>compile<span class="w"> </span><span class="sb">`</span>cap-primitives<span class="sb">`</span><span class="w"> </span><span class="o">(</span>lib<span class="o">)</span><span class="w"> </span>due<span class="w"> </span>to<span class="w"> </span><span class="m">2</span><span class="w"> </span>previous<span class="w"> </span>errors
</code></pre></div>
<p>I'm using openSUSE Tumbleweed, Cargo <code>1.83</code>, and Rust <code>1.83</code>.</p>
<p>It seems like a version mismatch between Wasmtime dependencies and the Rust version, but I can't exactly say what the issue is here.<br>
I used the same environment to build Wasmtime <code>v29.0.1</code>, and it was built just fine.</p>
<p>Can somebody say what the Cargo and Rust version used in Wasmtime <code>v0.38.1</code> is?</p>
</blockquote>



<a name="500471429"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310240%20Issue%20building%20Wasmtime%20v0.38.1/near/500471429" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310240.20Issue.20building.20Wasmtime.20v0.2E38.2E1.html#500471429">(Feb 18 2025 at 17:17)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/10240#issuecomment-2666352406">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10240">issue #10240</a>:</p>
<blockquote>
<p>As @bjorn3 mentioned this is an unsupported version of Wasmtime, so there aren't dedicated resources for providing assistance to this and it's a best-effort basis of volunteers. @bjorn3's diagnosis seems accurate though in that you'll probably need to wrangle rustc versions and/or change versions of dependencies to align with what was used at the time.</p>
<p>Given though that this isn't an issue with a supported version of Wasmtime I'm going to close this. You can feel free to follow-up here though if aligning versions helps.</p>
</blockquote>



<a name="501087916"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310240%20Issue%20building%20Wasmtime%20v0.38.1/near/501087916" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310240.20Issue.20building.20Wasmtime.20v0.2E38.2E1.html#501087916">(Feb 21 2025 at 11:58)</a>:</h4>
<p>lucasmlp <a href="https://github.com/bytecodealliance/wasmtime/issues/10240#issuecomment-2674363896">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10240">issue #10240</a>:</p>
<blockquote>
<p>Hi @bjorn3 <br>
Thanks for the reply. We decided to go another way around this.</p>
</blockquote>



<a name="513770747"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310240%20Issue%20building%20Wasmtime%20v0.38.1/near/513770747" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310240.20Issue.20building.20Wasmtime.20v0.2E38.2E1.html#513770747">(Apr 23 2025 at 04:11)</a>:</h4>
<p>ihayet <a href="https://github.com/bytecodealliance/wasmtime/issues/10240#issuecomment-2823006874">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10240">issue #10240</a>:</p>
<blockquote>
<p>Confirming that the build was successful with rustc 1.61. Thanks.</p>
</blockquote>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>