<html>
<head><meta charset="utf-8"><title>wasmtime / PR #12577 Add struct subtypes · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html">wasmtime / PR #12577 Add struct subtypes</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="573432529"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573432529" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573432529">(Feb 12 2026 at 04:24)</a>:</h4>
<p>khagankhan opened <a href="https://github.com/bytecodealliance/wasmtime/pull/12577">PR #12577</a> from <code>khagankhan:struct-subtypes</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<h1>Add support for struct subtyping</h1>
<p>This PR adds support for one struct type being a subtype of another.</p>
<h2>Changes</h2>
<ul>
<li><code>SubType</code> now has:<ul>
<li><code>supertype: Option&lt;TypeId&gt;</code></li>
<li><code>is_final: bool</code></li>
</ul>
</li>
<li>Mutators may:<ul>
<li>Randomly assign an existing struct as supertype</li>
<li>Mark a type as <code>final</code> with 1/4 probability</li>
</ul>
</li>
</ul>
<h2>Cycle Handling</h2>
<ul>
<li><code>Types::merge_rec_groups_via_scc(...)</code>:<ul>
<li>Finds cycles across rec-groups and merges them.</li>
</ul>
</li>
<li><code>Types::break_type_cycles_in_rec_groups(...)</code>:<ul>
<li>Breaks cycles within a rec-group by clearing <code>supertype</code>.</li>
</ul>
</li>
</ul>
<h2>Ordering</h2>
<ul>
<li>Rec-groups are topologically sorted using Kahn topo-sort.</li>
<li>Types are sorted via DFS (<code>Enter</code>/<code>Exit</code> enum) so supertypes come before subtypes.</li>
</ul>
<h2>Fixups</h2>
<p>Handled in <code>Types::fixup</code>:</p>
<ul>
<li>If a subtype references a <code>final</code> supertype its supertype becomes <code>None</code></li>
<li>If a supertype is removed, its subtypes has no supertype anyome (becomes <code>None</code>)</li>
</ul>
<h2>Mutator Update</h2>
<ul>
<li><code>duplicate_rec_group</code> now actually  duplicates.</li>
</ul>
<p>New tests added.</p>
<p>cc @fitzgen @eeide</p>
</blockquote>



<a name="573432530"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573432530" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573432530">(Feb 12 2026 at 04:24)</a>:</h4>
<p><strong>khagankhan</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-fuzz-reviewers">wasmtime-fuzz-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12577">PR #12577</a>.</p>



<a name="573432531"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573432531" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573432531">(Feb 12 2026 at 04:24)</a>:</h4>
<p><strong>khagankhan</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12577">PR #12577</a>.</p>



<a name="573434672"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573434672" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573434672">(Feb 12 2026 at 04:48)</a>:</h4>
<p>khagankhan updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12577">PR #12577</a>.</p>



<a name="573441104"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573441104" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573441104">(Feb 12 2026 at 06:04)</a>:</h4>
<p>github-actions[bot] added the label <code>fuzzing</code> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12577">PR #12577</a>.</p>



<a name="573447474"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573447474" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573447474">(Feb 12 2026 at 07:04)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/12577#issuecomment-3889037723">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12577">PR #12577</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "fuzzing"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>fitzgen: fuzzing</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="573627361"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573627361" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573627361">(Feb 12 2026 at 22:13)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12577#discussion_r2801131110">PR review comment</a>:</p>
<blockquote>
<p>The DFS should handle this special case in a general way already, right? I think we can remove this.</p>
</blockquote>



<a name="573627362"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573627362" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573627362">(Feb 12 2026 at 22:13)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12577#discussion_r2801297284">PR review comment</a>:</p>
<blockquote>
<p>Ah okay, great. Yeah we should make this DFS code generic and reuse in our various places where we need to do a DFS.</p>
</blockquote>



<a name="573627363"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573627363" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573627363">(Feb 12 2026 at 22:13)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12577#discussion_r2801243915">PR review comment</a>:</p>
<blockquote>
<p>Allocating these things within this double-nested loop is going to thrash the allocator and be quite slow. I think this DFS could be refactored to be more sympathatic to the machine and look something like this:</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// A map from `TypeId` to the DFS index when we started traversing that type.</span>
<span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">dfs_pre_index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BTreeMap</span><span class="p">::</span><span class="n">new</span><span class="p">();</span>

<span class="c1">// A map from `TypeId` to the DFS index when we finished traversing that type.</span>
<span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">dfs_post_index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BTreeMap</span><span class="p">::</span><span class="n">new</span><span class="p">();</span>

<span class="k">enum</span><span class="w"> </span><span class="nc">DfsEvent</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Enter</span><span class="p">,</span>
<span class="w">    </span><span class="n">Exit</span><span class="p">,</span>
<span class="p">}</span>
<span class="k">use</span><span class="w"> </span><span class="n">DfsEvent</span><span class="p">::</span><span class="o">*</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span>
<span class="w">    </span><span class="p">.</span><span class="n">all_type_ids</span><span class="p">()</span><span class="w"> </span><span class="c1">// new method that returns `impl Iterator&lt;Item = TypeId&gt;`</span>
<span class="w">    </span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="o">|</span><span class="n">ty</span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">Enter</span><span class="p">,</span><span class="w"> </span><span class="n">ty</span><span class="p">))</span>
<span class="w">    </span><span class="p">.</span><span class="n">collect</span><span class="p">::</span><span class="o">&lt;</span><span class="nb">Vec</span><span class="o">&lt;</span><span class="n">_</span><span class="o">&gt;&gt;</span><span class="p">();</span>

<span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="k">while</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">((</span><span class="n">event</span><span class="p">,</span><span class="w"> </span><span class="n">ty</span><span class="p">))</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stack</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">match</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Enter</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">dfs_pre_index</span><span class="p">.</span><span class="n">entry</span><span class="p">(</span><span class="n">ty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Entry</span><span class="p">::</span><span class="n">Occupied</span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{},</span>
<span class="w">            </span><span class="n">Entry</span><span class="p">::</span><span class="n">Vacant</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">e</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
<span class="w">                </span><span class="n">index</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">                </span><span class="n">stack</span><span class="p">.</span><span class="n">push</span><span class="p">((</span><span class="n">Exit</span><span class="p">,</span><span class="w"> </span><span class="n">ty</span><span class="p">));</span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">sup_ty</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">type_defs</span><span class="p">[</span><span class="n">ty</span><span class="p">].</span><span class="n">supertype</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">dfs_pre_index</span><span class="p">.</span><span class="n">contains_key</span><span class="p">(</span><span class="o">&amp;</span><span class="n">sup_ty</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">dfs_post_index</span><span class="p">.</span><span class="n">contains_key</span><span class="p">(</span><span class="o">&amp;</span><span class="n">sup_ty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="c1">// Cyclic subtyping! Break the cycle.</span>
<span class="w">                        </span><span class="bp">self</span><span class="p">.</span><span class="n">type_defs</span><span class="p">[</span><span class="n">ty</span><span class="p">].</span><span class="n">supertype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">None</span><span class="p">;</span>
<span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">stack</span><span class="p">.</span><span class="n">push</span><span class="p">((</span><span class="n">Event</span><span class="p">::</span><span class="n">Enter</span><span class="p">,</span><span class="w"> </span><span class="n">sup_ty</span><span class="p">));</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">Exit</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dfs_post_index</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">ty</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">);</span>
<span class="w">            </span><span class="fm">debug_assert!</span><span class="p">(</span><span class="n">old</span><span class="p">.</span><span class="n">is_none</span><span class="p">());</span>
<span class="w">            </span><span class="n">index</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="573627364"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573627364" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573627364">(Feb 12 2026 at 22:13)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12577#discussion_r2801256209">PR review comment</a>:</p>
<blockquote>
<p>It occurs to me that we don't actually even need SCCs yet, since subtyping doesn't care about rec group boundaries so long as the supertype is defined before the subtype. So I think we can delay all this stuff until we actually have struct fields (or array elements). This is nice because it means that support for subtyping will be able to land before we make the existing SCC algorithm reusable and all that.</p>
</blockquote>



<a name="573627365"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573627365" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573627365">(Feb 12 2026 at 22:13)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12577#discussion_r2801304578">PR review comment</a>:</p>
<blockquote>
<p>I already talked about how we can remove the SCC stuff in this PR, but for the future: this method should sort in place, rather than allocating and returning a new vector.</p>
</blockquote>



<a name="573627366"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573627366" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573627366">(Feb 12 2026 at 22:13)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12577#discussion_r2801111984">PR review comment</a>:</p>
<blockquote>
<p>I think we will want to move our existing SCC implementation somewhere that it can be reused so that we don't have forks of the same code in the same tree.</p>
<p>I can do this and let you know when to rebase.</p>
</blockquote>



<a name="573627367"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573627367" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573627367">(Feb 12 2026 at 22:13)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12577#discussion_r2801157167">PR review comment</a>:</p>
<blockquote>
<p>I don't think we should need to think about rec groups at all while breaking supertype cycles. The only constraint on a type's supertype is that the supertype is already defined at the point of the type's definition.</p>
<p>After breaking cycles, it should be sufficient to reorder types within a rec group as necessary, as a follow up fixup pass.</p>
<p>I bring this up because we don't want to, for example, artificially disallow a type subtyping another type defined earlier in its rec group. (We should have a test that defines a rec group of two types, where the first is the supertype of the second, and then calls <code>fixup</code> and make sure that the subtyping is preserved.)</p>
</blockquote>



<a name="573627369"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573627369" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573627369">(Feb 12 2026 at 22:13)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12577#pullrequestreview-3793731662">PR review</a>:</p>
<blockquote>
<p>Thanks! Feedback inline below.</p>
</blockquote>



<a name="573627371"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573627371" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573627371">(Feb 12 2026 at 22:13)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12577#discussion_r2801291316">PR review comment</a>:</p>
<blockquote>
<p>And we should probably make generic and reuse the DFS code from my last comment to do this topo sorting as well (although rec groups form a DAG, not a tree, but I think the code should work just fine for this case, perhaps with some minimal tweaks, as well).</p>
</blockquote>



<a name="573828894"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312577%20Add%20struct%20subtypes/near/573828894" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312577.20Add.20struct.20subtypes.html#573828894">(Feb 13 2026 at 21:13)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/12577#issuecomment-3899502469">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12577">PR #12577</a>:</p>
<blockquote>
<p>@khagankhan I just put a PR to make Wasmtime's existing SCC computation and DFS traversal stuff reusable, and I think this PR can be rebased on top of it: <a href="https://github.com/bytecodealliance/wasmtime/pull/12590">https://github.com/bytecodealliance/wasmtime/pull/12590</a></p>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>