<html>
<head><meta charset="utf-8"><title>wasmtime / PR #12160 Cranelift: make all non-tail calls p... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312160.20Cranelift.3A.20make.20all.20non-tail.20calls.20p.2E.2E.2E.html">wasmtime / PR #12160 Cranelift: make all non-tail calls p...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="563438683"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312160%20Cranelift%3A%20make%20all%20non-tail%20calls%20p.../near/563438683" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312160.20Cranelift.3A.20make.20all.20non-tail.20calls.20p.2E.2E.2E.html#563438683">(Dec 12 2025 at 10:20)</a>:</h4>
<p>cfallin opened <a href="https://github.com/bytecodealliance/wasmtime/pull/12160">PR #12160</a> from <code>cfallin:patchability-is-not-an-instruction-its-a-way-of-life</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>(Stacked on top of #12133.)</p>
<p>As discussed in this week's Cranelift meeting, we've discovered a need to generalize the <code>patchable_call</code> mechanism and corresponding <code>patchable</code> ABI slightly. In particular, we will need patchable <code>try_call</code> callsites as well in order to allow breakpoint handlers to throw exceptions (desirable functionality eventually) and have this work in the presence of inlining. Also, it's just a nice generalization to say that patchability is an orthogonal dimension to the call ABI and the other restrictions we initially imposed, and works as long as the basic requirement (no return values) is met.</p>
<p>This also renames the <code>patchable</code> ABI to <code>preserve_all</code>, to make it clear that its purpose is actually orthogonal, and it can be used independently of patchable callsites. It also deletes the <code>cold</code> ABI, which never actually did anything and is misleading in the presence of an actual cold-ish (subzero temperature, actually) ABI like <code>preserve_all</code>.</p>
</blockquote>



<a name="563438684"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312160%20Cranelift%3A%20make%20all%20non-tail%20calls%20p.../near/563438684" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312160.20Cranelift.3A.20make.20all.20non-tail.20calls.20p.2E.2E.2E.html#563438684">(Dec 12 2025 at 10:20)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12160">PR #12160</a>.</p>



<a name="563438685"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312160%20Cranelift%3A%20make%20all%20non-tail%20calls%20p.../near/563438685" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312160.20Cranelift.3A.20make.20all.20non-tail.20calls.20p.2E.2E.2E.html#563438685">(Dec 12 2025 at 10:20)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12160">PR #12160</a>.</p>



<a name="563438686"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312160%20Cranelift%3A%20make%20all%20non-tail%20calls%20p.../near/563438686" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312160.20Cranelift.3A.20make.20all.20non-tail.20calls.20p.2E.2E.2E.html#563438686">(Dec 12 2025 at 10:20)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12160">PR #12160</a>.</p>



<a name="563438687"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312160%20Cranelift%3A%20make%20all%20non-tail%20calls%20p.../near/563438687" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312160.20Cranelift.3A.20make.20all.20non-tail.20calls.20p.2E.2E.2E.html#563438687">(Dec 12 2025 at 10:20)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12160">PR #12160</a>.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>