<html>
<head><meta charset="utf-8"><title>wasmtime / PR #11828 Rename test programs · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html">wasmtime / PR #11828 Rename test programs</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="543959042"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/543959042" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#543959042">(Oct 09 2025 at 13:22)</a>:</h4>
<p>yoshuawuyts opened <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a> from <code>yoshuawuyts:rename-test-programs</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<h2>Description</h2>
<p>This PR is a first step towards refactoring our test programs, starting by prefixing them based on whether they are p1, p2, or p3. These changes are fairly simple, but still change a lot of files - so I figured I'd start with some of the most obvious tests and check whether I'm going about making these changes the right way.</p>
<p>In terms of actual changes, the following rename has been applied:</p>
<ul>
<li><code>preview2_</code> -&gt; <code>p2_</code></li>
<li><code>api_</code> -&gt; <code>p2_api_</code></li>
<li><code>cli_</code> -&gt; <code>p2_cli_</code></li>
<li><code>http_</code> -&gt; <code>p2_http_</code></li>
<li><code>preview1_</code> -&gt; <code>p1_</code></li>
</ul>
<h2>Thought on a follow-up PR</h2>
<p>Assuming this PR looks good and CI passes, I'm wondering what to do about some of the other tests. For example, we have the <code>nn_</code> tests that are currently p2-only. I'm inclined to prefix those as <code>p2_nn_</code>, with the anticipation that eventually they will become <code>p3_nn_</code> once they're moved over.</p>
<p>There are also the <code>async_</code> tests. Should those be renamed to <code>p3_async_</code>? They're just about the component model, and not WASI directly. But they do exercise the p3 bindings generation. I feel like things would be different if the were Wast tests. But for now I'm inclined to say we should prefix those as <code>p3_async_</code> in a follow-up PR.</p>
</blockquote>



<a name="543959044"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/543959044" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#543959044">(Oct 09 2025 at 13:22)</a>:</h4>
<p><strong>yoshuawuyts</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-wasi-reviewers">wasmtime-wasi-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a>.</p>



<a name="543959048"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/543959048" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#543959048">(Oct 09 2025 at 13:22)</a>:</h4>
<p><strong>yoshuawuyts</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a>.</p>



<a name="543959051"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/543959051" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#543959051">(Oct 09 2025 at 13:22)</a>:</h4>
<p><strong>yoshuawuyts</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a>.</p>



<a name="543959053"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/543959053" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#543959053">(Oct 09 2025 at 13:22)</a>:</h4>
<p><strong>yoshuawuyts</strong> requested <a href="https://github.com/pchickey">pchickey</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a>.</p>



<a name="543966362"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/543966362" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#543966362">(Oct 09 2025 at 13:52)</a>:</h4>
<p>yoshuawuyts <a href="https://github.com/bytecodealliance/wasmtime/pull/11828#issuecomment-3385985391">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a>:</p>
<blockquote>
<p>Oops, didn't test locally with the right flags. Fixing the failing tests now.</p>
</blockquote>



<a name="544038028"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/544038028" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#544038028">(Oct 09 2025 at 20:00)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11828#pullrequestreview-3320447403">PR review</a>:</p>
<blockquote>
<p>Thanks!</p>
<blockquote>
<p>For example, we have the nn_ tests that are currently p2-only. </p>
</blockquote>
<p>Given that wasi-nn hasn't had a stable wix release yet I'd say leave these as <code>nn_*</code> and this can change in the future if a stable WIT release happens.</p>
<blockquote>
<p>There are also the async_ tests. Should those be renamed to p3_async_? </p>
</blockquote>
<p>I'd leave these as <code>async_*</code> because "p3" is mostly centered around WASIp3 and async bindings are sort of "just a component model thing". Basically for testing I think it's worthwhile keeping a separation between "p3" being WASIp3 and "component model async" being separate.<br>
</p>
</blockquote>



<a name="544038029"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/544038029" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#544038029">(Oct 09 2025 at 20:00)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11828#discussion_r2417823484">PR review comment</a>:</p>
<blockquote>
<p>Mind leaving this in <code>~/.gitignore</code> to avoid adding it here too?</p>
</blockquote>



<a name="544341878"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/544341878" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#544341878">(Oct 11 2025 at 18:53)</a>:</h4>
<p>yoshuawuyts updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a>.</p>



<a name="544341901"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/544341901" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#544341901">(Oct 11 2025 at 18:53)</a>:</h4>
<p>yoshuawuyts submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11828#pullrequestreview-3327528108">PR review</a>.</p>



<a name="544341902"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/544341902" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#544341902">(Oct 11 2025 at 18:53)</a>:</h4>
<p>yoshuawuyts created <a href="https://github.com/bytecodealliance/wasmtime/pull/11828#discussion_r2423087617">PR review comment</a>:</p>
<blockquote>
<p>done!</p>
</blockquote>



<a name="544342133"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/544342133" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#544342133">(Oct 11 2025 at 18:56)</a>:</h4>
<p>yoshuawuyts edited <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a>:</p>
<blockquote>
<h2>Description</h2>
<p>This PR is a first step towards refactoring our test programs, starting by prefixing them based on whether they are p1, p2, or p3. These changes are fairly simple, but still change a lot of files - so I figured I'd start with some of the most obvious tests and check whether I'm going about making these changes the right way.</p>
<p>In terms of actual changes, the following rename has been applied:</p>
<table>
<thead>
<tr>
<th>before</th>
<th>after</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>preview2_</code></td>
<td><code>p2_</code></td>
</tr>
<tr>
<td><code>api_</code></td>
<td><code>p2_api_</code></td>
</tr>
<tr>
<td><code>cli_</code></td>
<td><code>p2_cli_</code></td>
</tr>
<tr>
<td><code>http_</code></td>
<td><code>p2_http_</code></td>
</tr>
<tr>
<td><code>preview1_</code></td>
<td><code>p1_</code></td>
</tr>
</tbody>
</table>
<h2>Thought on a follow-up PR</h2>
<p>Assuming this PR looks good and CI passes, I'm wondering what to do about some of the other tests. For example, we have the <code>nn_</code> tests that are currently p2-only. I'm inclined to prefix those as <code>p2_nn_</code>, with the anticipation that eventually they will become <code>p3_nn_</code> once they're moved over.</p>
<p>There are also the <code>async_</code> tests. Should those be renamed to <code>p3_async_</code>? They're just about the component model, and not WASI directly. But they do exercise the p3 bindings generation. I feel like things would be different if the were Wast tests. But for now I'm inclined to say we should prefix those as <code>p3_async_</code> in a follow-up PR.</p>
</blockquote>



<a name="544715599"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/544715599" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#544715599">(Oct 14 2025 at 10:50)</a>:</h4>
<p>yoshuawuyts updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a>.</p>



<a name="544716114"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/544716114" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#544716114">(Oct 14 2025 at 10:53)</a>:</h4>
<p>yoshuawuyts updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a>.</p>



<a name="544716766"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/544716766" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#544716766">(Oct 14 2025 at 10:57)</a>:</h4>
<p>yoshuawuyts updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a>.</p>



<a name="544724196"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/544724196" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#544724196">(Oct 14 2025 at 11:34)</a>:</h4>
<p>yoshuawuyts updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a>.</p>



<a name="544726108"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/544726108" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#544726108">(Oct 14 2025 at 11:44)</a>:</h4>
<p><strong>yoshuawuyts</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a> as ready for review.</p>



<a name="544736593"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/544736593" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#544736593">(Oct 14 2025 at 12:34)</a>:</h4>
<p>yoshuawuyts <a href="https://github.com/bytecodealliance/wasmtime/pull/11828#issuecomment-3401583247">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a>:</p>
<blockquote>
<p>Tests are passing; this should be ready to merge now!</p>
</blockquote>



<a name="544774625"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311828%20Rename%20test%20programs/near/544774625" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311828.20Rename.20test.20programs.html#544774625">(Oct 14 2025 at 15:05)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/11828">PR #11828</a>.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>