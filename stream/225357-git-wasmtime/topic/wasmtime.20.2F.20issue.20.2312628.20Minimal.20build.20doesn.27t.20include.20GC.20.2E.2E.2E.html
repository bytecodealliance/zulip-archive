<html>
<head><meta charset="utf-8"><title>wasmtime / issue #12628 Minimal build doesn&#x27;t include GC ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312628.20Minimal.20build.20doesn.27t.20include.20GC.20.2E.2E.2E.html">wasmtime / issue #12628 Minimal build doesn&#x27;t include GC ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="574998218"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312628%20Minimal%20build%20doesn%27t%20include%20GC%20.../near/574998218" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312628.20Minimal.20build.20doesn.27t.20include.20GC.20.2E.2E.2E.html#574998218">(Feb 20 2026 at 17:44)</a>:</h4>
<p>effulgentsia opened <a href="https://github.com/bytecodealliance/wasmtime/issues/12628">issue #12628</a>:</p>
<blockquote>
<h4>Feature</h4>
<p>Either enable the equivalent of <code>config.gc_support(false)</code> to be called from the C API, or make the default be <code>false</code> when using the minimal (without GC) wasmtime build. Currently, the combination of the minimal build not having GC, but the default assumption of GC support being true and no C API to set it to false results in a panic when creating the engine.</p>
<h4>Benefit</h4>
<p>To be able to use <code>wasmtime-go</code> (or any other SDK that uses the C API) to embed the minimal wasmtime build into an application when Cranelift, GC, etc. aren't needed and wanting to minimize the size of the compiled application.</p>
<h4>Implementation</h4>
<p>I think exposing <code>config.gc_support(false)</code> to the C API would be the most straightforward and useful beyond the minimal build use case.</p>
<h4>Alternatives</h4>
<p>Packaging the minimal build in such a way that it defaults to returning false for GC support since it lacks GC.<br>
</p>
</blockquote>



<a name="575000487"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312628%20Minimal%20build%20doesn%27t%20include%20GC%20.../near/575000487" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312628.20Minimal.20build.20doesn.27t.20include.20GC.20.2E.2E.2E.html#575000487">(Feb 20 2026 at 17:56)</a>:</h4>
<p>tschneidereit <a href="https://github.com/bytecodealliance/wasmtime/issues/12628#issuecomment-3936317199">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12628">issue #12628</a>:</p>
<blockquote>
<p>I agree that exposing <code>config.gc_support(false)</code> would make sense, and that (for now, at least) the minimal build should omit GC support. I also think that for builds that don't include GC support, ideally the <code>config</code> would default to <code>false</code> as well, since the current default doesn't make much sense.</p>
<p>Would you be up for working on adding this, @effulgentsia?</p>
</blockquote>



<a name="575019256"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312628%20Minimal%20build%20doesn%27t%20include%20GC%20.../near/575019256" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312628.20Minimal.20build.20doesn.27t.20include.20GC.20.2E.2E.2E.html#575019256">(Feb 20 2026 at 19:59)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> added the wasmtime:c-api label to <a href="https://github.com/bytecodealliance/wasmtime/issues/12628">Issue #12628</a>.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>