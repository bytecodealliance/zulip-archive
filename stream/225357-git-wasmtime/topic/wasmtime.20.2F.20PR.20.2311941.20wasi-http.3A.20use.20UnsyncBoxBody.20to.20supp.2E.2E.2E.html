<html>
<head><meta charset="utf-8"><title>wasmtime / PR #11941 wasi-http: use UnsyncBoxBody to supp... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311941.20wasi-http.3A.20use.20UnsyncBoxBody.20to.20supp.2E.2E.2E.html">wasmtime / PR #11941 wasi-http: use UnsyncBoxBody to supp...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="547085913"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311941%20wasi-http%3A%20use%20UnsyncBoxBody%20to%20supp.../near/547085913" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311941.20wasi-http.3A.20use.20UnsyncBoxBody.20to.20supp.2E.2E.2E.html#547085913">(Oct 25 2025 at 22:20)</a>:</h4>
<p>jellevandenhooff opened <a href="https://github.com/bytecodealliance/wasmtime/pull/11941">PR #11941</a> from <code>jellevandenhooff:wasi-http-p3-unsync-box-body</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This is a bit of a drive-by PR -- I do not entirely know what I am doing and am very open to pointers or feedback.</p>
<p>This PR replaces the BoxBody used in the p3 wasi-http implementation with UnsyncBoxBody. It is the same type, without the Sync constraint. The axum framework uses UnsyncBoxBody everywhere and is not compatible with the conversion functions in the p3 crate otherwise.</p>
<p>Since axum already happily uses the UnsyncBoxBody internally, I would guess it is a reasonable choice to use here, but I am not sure.</p>
<p>I tested code by running <code>cargo test --features=p3</code> in the wasi-http crate, and <code>cargo test all serve</code> for the CLI. I also got my own code locally to work against this branch and was able to forward an axum request to a wasm handler.</p>
</blockquote>



<a name="547085915"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311941%20wasi-http%3A%20use%20UnsyncBoxBody%20to%20supp.../near/547085915" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311941.20wasi-http.3A.20use.20UnsyncBoxBody.20to.20supp.2E.2E.2E.html#547085915">(Oct 25 2025 at 22:20)</a>:</h4>
<p><strong>jellevandenhooff</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-wasi-reviewers">wasmtime-wasi-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11941">PR #11941</a>.</p>



<a name="547085916"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311941%20wasi-http%3A%20use%20UnsyncBoxBody%20to%20supp.../near/547085916" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311941.20wasi-http.3A.20use.20UnsyncBoxBody.20to.20supp.2E.2E.2E.html#547085916">(Oct 25 2025 at 22:20)</a>:</h4>
<p><strong>jellevandenhooff</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11941">PR #11941</a>.</p>



<a name="547085917"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311941%20wasi-http%3A%20use%20UnsyncBoxBody%20to%20supp.../near/547085917" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311941.20wasi-http.3A.20use.20UnsyncBoxBody.20to.20supp.2E.2E.2E.html#547085917">(Oct 25 2025 at 22:20)</a>:</h4>
<p><strong>jellevandenhooff</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11941">PR #11941</a>.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>