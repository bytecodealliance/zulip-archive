<html>
<head><meta charset="utf-8"><title>wasmtime / PR #11186 Couple of optimizations to the Crane... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html">wasmtime / PR #11186 Couple of optimizations to the Crane...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="527458328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527458328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527458328">(Jul 07 2025 at 11:32)</a>:</h4>
<p>bjorn3 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/11186">PR #11186</a> from <code>bjorn3:optimize_cranelift_cache</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>Fixes <a href="https://github.com/bytecodealliance/wasmtime/issues/11134">https://github.com/bytecodealliance/wasmtime/issues/11134</a></p>
</blockquote>



<a name="527458329"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527458329" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527458329">(Jul 07 2025 at 11:32)</a>:</h4>
<p><strong>bjorn3</strong> requested <a href="https://github.com/abrown">abrown</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11186">PR #11186</a>.</p>



<a name="527458330"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527458330" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527458330">(Jul 07 2025 at 11:32)</a>:</h4>
<p><strong>bjorn3</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11186">PR #11186</a>.</p>



<a name="527458536"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527458536" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527458536">(Jul 07 2025 at 11:33)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11186#pullrequestreview-2993407641">PR review</a>.</p>



<a name="527458537"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527458537" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527458537">(Jul 07 2025 at 11:33)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/11186#discussion_r2189793515">PR review comment</a>:</p>
<blockquote>
<p>This is necessary to due to the change to using <code>SecondaryMap</code> for <code>ValueLabelsRanges</code>.</p>
</blockquote>



<a name="527459423"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527459423" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527459423">(Jul 07 2025 at 11:38)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11186">PR #11186</a>.</p>



<a name="527468011"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527468011" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527468011">(Jul 07 2025 at 12:25)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11186">PR #11186</a>.</p>



<a name="527468087"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527468087" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527468087">(Jul 07 2025 at 12:25)</a>:</h4>
<p>bjorn3 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/11186#discussion_r2189793515">PR review comment</a>.</p>



<a name="527526838"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527526838" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527526838">(Jul 07 2025 at 17:38)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/11186#discussion_r2190700207">PR review comment</a>:</p>
<blockquote>
<p>I wondered if there was a way to avoid exposing the internal byte representation but <code>pub(crate)</code> isn't an option so it's not clear what else would work. If you're happy with this then let's leave it as is.</p>
</blockquote>



<a name="527526839"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527526839" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527526839">(Jul 07 2025 at 17:38)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11186#pullrequestreview-2994796637">PR review</a>:</p>
<blockquote>
<p>This makes sense. I'll wait to hear if you have any opinions about protecting the internal bit representation before merging.</p>
</blockquote>



<a name="527526841"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527526841" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527526841">(Jul 07 2025 at 17:38)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/11186#discussion_r2190702526">PR review comment</a>:</p>
<blockquote>
<p>But maybe an <code>IsaFlags([u8])</code> with <code>impl Hash</code> could work...</p>
</blockquote>



<a name="527697285"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527697285" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527697285">(Jul 08 2025 at 13:58)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11186">PR #11186</a>.</p>



<a name="527697349"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527697349" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527697349">(Jul 08 2025 at 13:58)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11186#pullrequestreview-2997791836">PR review</a>.</p>



<a name="527697350"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527697350" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527697350">(Jul 08 2025 at 13:58)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/11186#discussion_r2192614337">PR review comment</a>:</p>
<blockquote>
<p>Done</p>
</blockquote>



<a name="527733617"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311186%20Couple%20of%20optimizations%20to%20the%20Crane.../near/527733617" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311186.20Couple.20of.20optimizations.20to.20the.20Crane.2E.2E.2E.html#527733617">(Jul 08 2025 at 16:33)</a>:</h4>
<p>abrown merged <a href="https://github.com/bytecodealliance/wasmtime/pull/11186">PR #11186</a>.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>