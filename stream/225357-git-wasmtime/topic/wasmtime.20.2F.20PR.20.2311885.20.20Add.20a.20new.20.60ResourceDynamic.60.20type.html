<html>
<head><meta charset="utf-8"><title>wasmtime / PR #11885  Add a new `ResourceDynamic` type · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311885.20.20Add.20a.20new.20.60ResourceDynamic.60.20type.html">wasmtime / PR #11885  Add a new `ResourceDynamic` type</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="545802240"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311885%20%20Add%20a%20new%20%60ResourceDynamic%60%20type/near/545802240" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311885.20.20Add.20a.20new.20.60ResourceDynamic.60.20type.html#545802240">(Oct 19 2025 at 04:43)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/11885">PR #11885</a> from <code>alexcrichton:refactor-resources</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This commit adds a new type <code>wasmtime::component::ResourceDynamic</code> to<br>
the embedding API which internally is more-or-less the same as<br>
<code>Resource&lt;T&gt;</code> but with different type information. This<br>
<code>ResourceDynamic</code> specifically enables storing runtime information for<br>
managing the type of the resource as opposed to <code>Resource&lt;T&gt;</code> which<br>
requires static information.</p>
<p>The main goal of this type is to enable exposing resources in the C API<br>
of Wasmtime. Currently there is no way to define different resource<br>
types in the C API because the only option is <code>Resource&lt;T&gt;</code>. With this<br>
type it will be possible to create distinct resource types in the C API<br>
for embedders to use.</p>
<p>cc <a href="https://github.com/bytecodealliance/wasmtime/issues/11437">https://github.com/bytecodealliance/wasmtime/issues/11437</a></p>
</blockquote>



<a name="545802241"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311885%20%20Add%20a%20new%20%60ResourceDynamic%60%20type/near/545802241" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311885.20.20Add.20a.20new.20.60ResourceDynamic.60.20type.html#545802241">(Oct 19 2025 at 04:43)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/dicej">dicej</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11885">PR #11885</a>.</p>



<a name="545802242"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311885%20%20Add%20a%20new%20%60ResourceDynamic%60%20type/near/545802242" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311885.20.20Add.20a.20new.20.60ResourceDynamic.60.20type.html#545802242">(Oct 19 2025 at 04:43)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11885">PR #11885</a>.</p>



<a name="545802263"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311885%20%20Add%20a%20new%20%60ResourceDynamic%60%20type/near/545802263" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311885.20.20Add.20a.20new.20.60ResourceDynamic.60.20type.html#545802263">(Oct 19 2025 at 04:44)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/11885#issuecomment-3419210732">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11885">PR #11885</a>:</p>
<blockquote>
<p>I'll note that to achieve this I felt it necessary to do some refactoring first. I've split up all of the refactorings as separate commits so this is likely easiest to look at commit-by-commit rather than all-at-once.</p>
</blockquote>



<a name="546036802"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311885%20%20Add%20a%20new%20%60ResourceDynamic%60%20type/near/546036802" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311885.20.20Add.20a.20new.20.60ResourceDynamic.60.20type.html#546036802">(Oct 20 2025 at 17:05)</a>:</h4>
<p>dicej submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11885#pullrequestreview-3357251134">PR review</a>.</p>



<a name="546036804"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311885%20%20Add%20a%20new%20%60ResourceDynamic%60%20type/near/546036804" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311885.20.20Add.20a.20new.20.60ResourceDynamic.60.20type.html#546036804">(Oct 20 2025 at 17:05)</a>:</h4>
<p>dicej created <a href="https://github.com/bytecodealliance/wasmtime/pull/11885#discussion_r2445598561">PR review comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>//! inside of a store. The `ResourceAny::resource_drop` method, or a conversion
</code></pre></div><br>
</p>
</blockquote>



<a name="546036805"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311885%20%20Add%20a%20new%20%60ResourceDynamic%60%20type/near/546036805" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311885.20.20Add.20a.20new.20.60ResourceDynamic.60.20type.html#546036805">(Oct 20 2025 at 17:05)</a>:</h4>
<p>dicej created <a href="https://github.com/bytecodealliance/wasmtime/pull/11885#discussion_r2445600560">PR review comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>// crate failed to compile with obscure errors. At least this is an internal
</code></pre></div><br>
</p>
</blockquote>



<a name="546037225"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311885%20%20Add%20a%20new%20%60ResourceDynamic%60%20type/near/546037225" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311885.20.20Add.20a.20new.20.60ResourceDynamic.60.20type.html#546037225">(Oct 20 2025 at 17:08)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11885">PR #11885</a>.</p>



<a name="546037253"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311885%20%20Add%20a%20new%20%60ResourceDynamic%60%20type/near/546037253" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311885.20.20Add.20a.20new.20.60ResourceDynamic.60.20type.html#546037253">(Oct 20 2025 at 17:08)</a>:</h4>
<p>alexcrichton has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/11885">PR #11885</a>.</p>



<a name="546044959"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311885%20%20Add%20a%20new%20%60ResourceDynamic%60%20type/near/546044959" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311885.20.20Add.20a.20new.20.60ResourceDynamic.60.20type.html#546044959">(Oct 20 2025 at 17:46)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/11885">PR #11885</a>.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>