<html>
<head><meta charset="utf-8"><title>wasmtime / issue #11830 &quot;Couldn&#x27;t materialize&quot; any expres... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311830.20.22Couldn.27t.20materialize.22.20any.20expres.2E.2E.2E.html">wasmtime / issue #11830 &quot;Couldn&#x27;t materialize&quot; any expres...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="544168583"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311830%20%22Couldn%27t%20materialize%22%20any%20expres.../near/544168583" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311830.20.22Couldn.27t.20materialize.22.20any.20expres.2E.2E.2E.html#544168583">(Oct 10 2025 at 13:21)</a>:</h4>
<p>edward-playbit opened <a href="https://github.com/bytecodealliance/wasmtime/issues/11830">issue #11830</a>:</p>
<blockquote>
<h3>Test Case</h3>
<p>Compile the following two .c files with these commands on macOS:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>clang<span class="w"> </span>-c<span class="w"> </span>--target<span class="o">=</span>wasm32<span class="w"> </span>-o<span class="w"> </span>a.o<span class="w"> </span>a.c<span class="w"> </span>-g
wasm-ld<span class="w"> </span>-o<span class="w"> </span>a.wasm<span class="w"> </span>a.o<span class="w"> </span>--import-memory<span class="w"> </span>--no-entry<span class="w"> </span>--export<span class="o">=</span>func
clang<span class="w"> </span>-o<span class="w"> </span>b<span class="w"> </span>b.c<span class="w"> </span>-Wall<span class="w"> </span>-Wextra<span class="w"> </span>-fsanitize<span class="o">=</span>address<span class="w"> </span>-g<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-I<span class="w"> </span>wasmtime-37.0.1.2/include<span class="w"> </span>-L<span class="w"> </span>wasmtime-37.0.1.2/lib<span class="w"> </span>-l<span class="w"> </span>wasmtime
</code></pre></div>
<p><code>a.c</code>:</p>
<div class="codehilite" data-code-language="C"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">func</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">s</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><code>b.c</code>:</p>
<div class="codehilite" data-code-language="C"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;assert.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;wasm.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;wasmtime.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">wasm_trap_t</span><span class="o">*</span><span class="w"> </span><span class="n">trap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="w">    </span><span class="n">wasmtime_error_t</span><span class="o">*</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>

<span class="w">    </span><span class="n">wasm_config_t</span><span class="o">*</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wasm_config_new</span><span class="p">();</span>
<span class="w">    </span><span class="n">wasmtime_config_debug_info_set</span><span class="p">(</span><span class="n">config</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="w">    </span><span class="n">wasmtime_config_cranelift_opt_level_set</span><span class="p">(</span><span class="n">config</span><span class="p">,</span><span class="w"> </span><span class="n">WASMTIME_OPT_LEVEL_NONE</span><span class="p">);</span>

<span class="w">    </span><span class="n">wasm_engine_t</span><span class="o">*</span><span class="w"> </span><span class="n">engine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wasm_engine_new_with_config</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
<span class="w">    </span><span class="n">wasmtime_store_t</span><span class="o">*</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wasmtime_store_new</span><span class="p">(</span><span class="n">engine</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="w">    </span><span class="n">wasmtime_context_t</span><span class="o">*</span><span class="w"> </span><span class="n">cx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wasmtime_store_context</span><span class="p">(</span><span class="n">store</span><span class="p">);</span>
<span class="w">    </span><span class="n">wasmtime_linker_t</span><span class="o">*</span><span class="w"> </span><span class="n">linker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wasmtime_linker_new</span><span class="p">(</span><span class="n">engine</span><span class="p">);</span>
<span class="w">    </span><span class="n">wasm_limits_t</span><span class="w"> </span><span class="n">limits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">.</span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UINT32_MAX</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="n">wasm_memorytype_t</span><span class="o">*</span><span class="w"> </span><span class="n">mem_ty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wasm_memorytype_new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">limits</span><span class="p">);</span>
<span class="w">    </span><span class="n">wasmtime_memory_t</span><span class="w">  </span><span class="n">memory</span><span class="p">;</span>

<span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wasmtime_memory_new</span><span class="p">(</span><span class="n">cx</span><span class="p">,</span><span class="w"> </span><span class="n">mem_ty</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">memory</span><span class="p">);</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="o">!</span><span class="n">err</span><span class="p">);</span>
<span class="w">    </span><span class="n">wasm_memorytype_delete</span><span class="p">(</span><span class="n">mem_ty</span><span class="p">);</span>
<span class="w">    </span><span class="n">wasmtime_extern_t</span><span class="w"> </span><span class="n">mem_extern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">kind</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WASMTIME_EXTERN_MEMORY</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">of</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="p">.</span><span class="n">memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">memory</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wasmtime_linker_define</span><span class="p">(</span><span class="n">linker</span><span class="p">,</span><span class="w"> </span><span class="n">cx</span><span class="p">,</span><span class="w"> </span><span class="s">"env"</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s">"memory"</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">mem_extern</span><span class="p">);</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="o">!</span><span class="n">err</span><span class="p">);</span>

<span class="w">    </span><span class="kt">FILE</span><span class="o">*</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="s">"a.wasm"</span><span class="p">,</span><span class="w"> </span><span class="s">"rb"</span><span class="p">);</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">f</span><span class="p">);</span>
<span class="w">    </span><span class="n">fseek</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_END</span><span class="p">);</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ftell</span><span class="p">(</span><span class="n">f</span><span class="p">);</span>
<span class="w">    </span><span class="n">fseek</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_SET</span><span class="p">);</span>
<span class="w">    </span><span class="n">wasm_byte_vec_t</span><span class="w"> </span><span class="n">bytes</span><span class="p">;</span>
<span class="w">    </span><span class="n">wasm_byte_vec_new_uninitialized</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
<span class="w">    </span><span class="n">fread</span><span class="p">(</span><span class="n">bytes</span><span class="p">.</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">);</span>
<span class="w">    </span><span class="n">fclose</span><span class="p">(</span><span class="n">f</span><span class="p">);</span>

<span class="w">    </span><span class="n">wasmtime_module_t</span><span class="o">*</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wasmtime_module_new</span><span class="p">(</span><span class="n">engine</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="o">*</span><span class="p">)</span><span class="n">bytes</span><span class="p">.</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">bytes</span><span class="p">.</span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">module</span><span class="p">);</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="o">!</span><span class="n">err</span><span class="p">);</span>
<span class="w">    </span><span class="n">wasm_byte_vec_delete</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bytes</span><span class="p">);</span>
<span class="w">    </span><span class="n">wasmtime_instance_t</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>
<span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wasmtime_linker_instantiate</span><span class="p">(</span><span class="n">linker</span><span class="p">,</span><span class="w"> </span><span class="n">cx</span><span class="p">,</span><span class="w"> </span><span class="n">module</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">instance</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">trap</span><span class="p">);</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="o">!</span><span class="n">err</span><span class="p">);</span>

<span class="w">    </span><span class="n">wasmtime_extern_t</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wasmtime_instance_export_get</span><span class="p">(</span><span class="n">cx</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">instance</span><span class="p">,</span><span class="w"> </span><span class="s">"func"</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">item</span><span class="p">);</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">success</span><span class="p">);</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="n">kind</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">WASMTIME_EXTERN_FUNC</span><span class="p">);</span>
<span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wasmtime_func_call</span><span class="p">(</span><span class="n">cx</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">item</span><span class="p">.</span><span class="n">of</span><span class="p">.</span><span class="n">func</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">trap</span><span class="p">);</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="o">!</span><span class="n">err</span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3>Steps to Reproduce</h3>
<p>Run the compiled executable under LLDB with the following command:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>lldb<span class="w"> </span>b<span class="w"> </span>-b<span class="w"> </span>-o<span class="w"> </span><span class="s2">"b func"</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">"r"</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">"n"</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">"n"</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">"p s"</span>
</code></pre></div>
<p>Note: You will need to create the file <code>~/.lldbinit</code> with the following contents if not already:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">settings</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">plugin</span><span class="p">.</span><span class="n">jit</span><span class="o">-</span><span class="n">loader</span><span class="p">.</span><span class="n">gdb</span><span class="p">.</span><span class="n">enable</span><span class="w"> </span><span class="n">on</span>
</code></pre></div>
<h3>Expected Results</h3>
<p>To see the current value of the <code>s</code> variable printed, i.e. <code>0</code>.</p>
<h3>Actual Results</h3>
<p>Instead, the following error message is displayed:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="nc">Couldn</span><span class="o">'</span><span class="na">t</span><span class="w"> </span><span class="n">materialize</span><span class="p">:</span><span class="w"> </span><span class="nc">couldn</span><span class="o">'</span><span class="na">t</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">s</span><span class="p">:</span><span class="w"> </span><span class="nc">variable</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">available</span>
<span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="nc">errored</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">DoExecute</span><span class="p">,</span><span class="w"> </span><span class="n">couldn</span><span class="o">'</span><span class="na">t</span><span class="w"> </span><span class="n">PrepareToExecuteJITExpression</span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: 37.0.1.2</p>
<p>clang, wasm-ld and lldb version: 21.1.2 (from Homebrew)</p>
<p>Operating system: macOS 15.6.1 (24G90)</p>
<p>Architecture: Apple M2 Max (aarch64)</p>
<h3>Extra Info</h3>
<p>There is an existing issue with something similar: <a href="https://github.com/bytecodealliance/wasmtime/issues/11337">https://github.com/bytecodealliance/wasmtime/issues/11337</a>. However that issue is only in the case "after indirect call", while this issue is that variables cannot be displayed at all.</p>
</blockquote>



<a name="544168585"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311830%20%22Couldn%27t%20materialize%22%20any%20expres.../near/544168585" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311830.20.22Couldn.27t.20materialize.22.20any.20expres.2E.2E.2E.html#544168585">(Oct 10 2025 at 13:21)</a>:</h4>
<p><a href="https://github.com/edward-playbit">edward-playbit</a> added the bug label to <a href="https://github.com/bytecodealliance/wasmtime/issues/11830">Issue #11830</a>.</p>



<a name="544186315"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311830%20%22Couldn%27t%20materialize%22%20any%20expres.../near/544186315" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311830.20.22Couldn.27t.20materialize.22.20any.20expres.2E.2E.2E.html#544186315">(Oct 10 2025 at 14:41)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> added the wasmtime:debugging label to <a href="https://github.com/bytecodealliance/wasmtime/issues/11830">Issue #11830</a>.</p>



<a name="544212504"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311830%20%22Couldn%27t%20materialize%22%20any%20expres.../near/544212504" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311830.20.22Couldn.27t.20materialize.22.20any.20expres.2E.2E.2E.html#544212504">(Oct 10 2025 at 16:49)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/11830#issuecomment-3391175997">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/11830">issue #11830</a>:</p>
<blockquote>
<p>@edward-playbit I'll make the same comment I made in #11337 (because "after indirect call" does not alter the fundamental underlying case):</p>
<blockquote>
<p>Unfortunately I don't have an easy answer/fix, but I'll note that historically our native-debugger support has been quite best-effort, and is more or less unmaintained at the moment. The DWARF translation has had known bugs, and we know that various aspects of our lowering can cause values to become unavailable. All of that to say: I'm not surprised that you are finding holes, and I wouldn't recommend relying on debugging by attaching a native debugger to wasmtime at the moment.</p>
<p>We do have a <a href="https://github.com/bytecodealliance/rfcs/blob/main/accepted/wasmtime-debugging.md">debugging RFC</a> that captures a lot of thinking about our debugging plans from a year ago; and assuming plans don't change, I should be able to start work on pieces of this later in the year.</p>
</blockquote>
<p>My update on that since that Jul 28 comment is that I am now actively working on "guest debugging", which will subsume use of a native debugger as you're attempting here.</p>
</blockquote>



<a name="571263442"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311830%20%22Couldn%27t%20materialize%22%20any%20expres.../near/571263442" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311830.20.22Couldn.27t.20materialize.22.20any.20expres.2E.2E.2E.html#571263442">(Feb 01 2026 at 07:03)</a>:</h4>
<p>philipc <a href="https://github.com/bytecodealliance/wasmtime/issues/11830#issuecomment-3830497688">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/11830">issue #11830</a>:</p>
<blockquote>
<p>Since I have a fix (#12484) for #11337, I tried reproducing this one too, but I am unable to reproduce this on Ubuntu 24.04 and clang 22 using a build from the repository (commit bc4582c347aafd174f583a006891603d6bcb25ab). These are the commands I ran:</p>
<p><div class="codehilite" data-code-language="Bash"><pre><span></span><code>cmake<span class="w"> </span>-S<span class="w"> </span>crates/c-api<span class="w"> </span>-B<span class="w"> </span>target/c-api<span class="w"> </span>--install-prefix<span class="w"> </span><span class="s2">"</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">/artifacts"</span>
cmake<span class="w"> </span>--build<span class="w"> </span>target/c-api
cmake<span class="w"> </span>--install<span class="w"> </span>target/c-api
clang<span class="w"> </span>-c<span class="w"> </span>--target<span class="o">=</span>wasm32<span class="w"> </span>-o<span class="w"> </span>a.o<span class="w"> </span>a.c<span class="w"> </span>-g
wasm-ld<span class="w"> </span>-o<span class="w"> </span>a.wasm<span class="w"> </span>a.o<span class="w"> </span>--import-memory<span class="w"> </span>--no-entry<span class="w"> </span>--export<span class="o">=</span>func
clang<span class="w"> </span>-o<span class="w"> </span>b<span class="w"> </span>b.c<span class="w"> </span>-Wall<span class="w"> </span>-Wextra<span class="w"> </span>-fsanitize<span class="o">=</span>address<span class="w"> </span>-g<span class="w"> </span>-I<span class="w"> </span>artifacts/include<span class="w"> </span>-L<span class="w"> </span>artifacts/lib<span class="w"> </span>-l<span class="w"> </span>wasmtime
<span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>artifacts/lib<span class="w"> </span>lldb-20<span class="w"> </span>b<span class="w"> </span>-b<span class="w"> </span>-o<span class="w"> </span><span class="s2">"b func"</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">"r"</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">"n"</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">"n"</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">"p s"</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="571272312"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311830%20%22Couldn%27t%20materialize%22%20any%20expres.../near/571272312" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311830.20.22Couldn.27t.20materialize.22.20any.20expres.2E.2E.2E.html#571272312">(Feb 01 2026 at 09:43)</a>:</h4>
<p>philipc edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/11830#issuecomment-3830497688">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/11830">issue #11830</a>:</p>
<blockquote>
<p>Since I have a fix (#12484) for #11337, I tried reproducing this one too, but I am unable to reproduce this on Ubuntu 24.04 and clang 21 using a build from the repository (tag v37.0.1). These are the commands I ran:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>cmake<span class="w"> </span>-S<span class="w"> </span>crates/c-api<span class="w"> </span>-B<span class="w"> </span>target/c-api<span class="w"> </span>--install-prefix<span class="w"> </span><span class="s2">"</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">/artifacts"</span>
cmake<span class="w"> </span>--build<span class="w"> </span>target/c-api
cmake<span class="w"> </span>--install<span class="w"> </span>target/c-api
clang-21<span class="w"> </span>-c<span class="w"> </span>--target<span class="o">=</span>wasm32<span class="w"> </span>-o<span class="w"> </span>a.o<span class="w"> </span>a.c<span class="w"> </span>-g
wasm-ld-21<span class="w"> </span>-o<span class="w"> </span>a.wasm<span class="w"> </span>a.o<span class="w"> </span>--import-memory<span class="w"> </span>--no-entry<span class="w"> </span>--export<span class="o">=</span>func
clang-21<span class="w"> </span>-o<span class="w"> </span>b<span class="w"> </span>b.c<span class="w"> </span>-Wall<span class="w"> </span>-Wextra<span class="w"> </span>-fsanitize<span class="o">=</span>address<span class="w"> </span>-g<span class="w"> </span>-I<span class="w"> </span>artifacts/include<span class="w"> </span>-L<span class="w"> </span>artifacts/lib<span class="w"> </span>-l<span class="w"> </span>wasmtime
<span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>artifacts/lib<span class="w"> </span>lldb-20<span class="w"> </span>b<span class="w"> </span>-b<span class="w"> </span>-o<span class="w"> </span><span class="s2">"b func"</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">"r"</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">"n"</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">"n"</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">"p s"</span>
</code></pre></div>
<p>Edit: changed to older versions</p>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>