<html>
<head><meta charset="utf-8"><title>wasmtime / PR #10487 fuzz: enable `relaxed-simd` for the ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310487.20fuzz.3A.20enable.20.60relaxed-simd.60.20for.20the.20.2E.2E.2E.html">wasmtime / PR #10487 fuzz: enable `relaxed-simd` for the ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="508939965"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310487%20fuzz%3A%20enable%20%60relaxed-simd%60%20for%20the%20.../near/508939965" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310487.20fuzz.3A.20enable.20.60relaxed-simd.60.20for.20the.20.2E.2E.2E.html#508939965">(Mar 29 2025 at 16:57)</a>:</h4>
<p>Robbepop edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10487">PR #10487</a>.</p>



<a name="508940039"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310487%20fuzz%3A%20enable%20%60relaxed-simd%60%20for%20the%20.../near/508940039" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310487.20fuzz.3A.20enable.20.60relaxed-simd.60.20for.20the.20.2E.2E.2E.html#508940039">(Mar 29 2025 at 16:58)</a>:</h4>
<p>Robbepop edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10487">PR #10487</a>:</p>
<blockquote>
<p>This enables <code>relaxed-simd</code> for the Wasmi differential fuzzing oracle.</p>
<p>Wasmi implements all <code>relaxed-simd</code> operators deterministically. Fused multiply-add has only 1 rounding error on all platforms. On <code>no_std</code> we use <code>libm</code> to achieve this.</p>
<p>Note that the <code>relaxed-simd</code> proposal support is very new for Wasmi. I have only ran Wasmi's differential fuzzing for ~45 minutes before it crashed with <a href="https://github.com/bytecodealliance/wasmtime/issues/10479">the already known Wasmtime bug</a>.<br>
</p>
</blockquote>



<a name="508941156"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310487%20fuzz%3A%20enable%20%60relaxed-simd%60%20for%20the%20.../near/508941156" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310487.20fuzz.3A.20enable.20.60relaxed-simd.60.20for.20the.20.2E.2E.2E.html#508941156">(Mar 29 2025 at 17:11)</a>:</h4>
<p>Robbepop edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10487">PR #10487</a>:</p>
<blockquote>
<p>This enables <code>relaxed-simd</code> for the Wasmi differential fuzzing oracle.</p>
<p>Wasmi implements all <code>relaxed-simd</code> operators deterministically. Fused multiply-add has only 1 rounding error on all platforms. On <code>no_std</code> we use <code>libm</code> to achieve this. Where possible Wasmi simply uses the non-relaxed counterparts for some of the <code>relaxed-simd</code> operators.</p>
<p>Note that the <code>relaxed-simd</code> proposal support is very new for Wasmi. I have only ran Wasmi's differential fuzzing for ~45 minutes before it crashed with <a href="https://github.com/bytecodealliance/wasmtime/issues/10479">the already known Wasmtime bug</a>.<br>
</p>
</blockquote>



<a name="508948054"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310487%20fuzz%3A%20enable%20%60relaxed-simd%60%20for%20the%20.../near/508948054" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310487.20fuzz.3A.20enable.20.60relaxed-simd.60.20for.20the.20.2E.2E.2E.html#508948054">(Mar 29 2025 at 18:46)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/10487#issuecomment-2764055620">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10487">PR #10487</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "fuzzing"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>fitzgen: fuzzing</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="509276205"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310487%20fuzz%3A%20enable%20%60relaxed-simd%60%20for%20the%20.../near/509276205" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310487.20fuzz.3A.20enable.20.60relaxed-simd.60.20for.20the.20.2E.2E.2E.html#509276205">(Mar 31 2025 at 18:39)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/10487#issuecomment-2767091323">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10487">PR #10487</a>:</p>
<blockquote>
<p>Unfortunately I don't think this will do anything at this time due to <a href="https://github.com/bytecodealliance/wasmtime/blob/ae69c92e756890ef7d15826b471ee083ff51ed5b/crates/fuzzing/src/generators/config.rs#L103-L105">this line</a>. I'm not sure how we can change that because while wasmi/wasmtime may be able to be differentially fuzzed against each other it assumes certain wasmtime configuration which isn't plumbed yet and differential execution against v8 or even the spec interpreter in the future may not be possible</p>
</blockquote>



<a name="509282874"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310487%20fuzz%3A%20enable%20%60relaxed-simd%60%20for%20the%20.../near/509282874" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310487.20fuzz.3A.20enable.20.60relaxed-simd.60.20for.20the.20.2E.2E.2E.html#509282874">(Mar 31 2025 at 19:19)</a>:</h4>
<p>Robbepop <a href="https://github.com/bytecodealliance/wasmtime/pull/10487#issuecomment-2767181121">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10487">PR #10487</a>:</p>
<blockquote>
<p>@alexcrichton thanks for the clarifications.</p>
<p>I agree, this won't be very useful for Wasmtime at the moment. I currently do perform <code>relaxed-simd</code> differential fuzzing in Wasmi's fuzzer and it seems to match Wasmtime's semantics. However, I just got the weird feeling that even with <code>config.relaxed_simd_deterministic()</code> enbabled this might change since <code>relaxed-simd</code> instructions can remain deterministic while changing semantics as long as the new semantics are deterministic across platforms.</p>
</blockquote>



<a name="509283017"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310487%20fuzz%3A%20enable%20%60relaxed-simd%60%20for%20the%20.../near/509283017" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310487.20fuzz.3A.20enable.20.60relaxed-simd.60.20for.20the.20.2E.2E.2E.html#509283017">(Mar 31 2025 at 19:20)</a>:</h4>
<p>Robbepop edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/10487#issuecomment-2767181121">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10487">PR #10487</a>:</p>
<blockquote>
<p>@alexcrichton thanks for the clarifications.</p>
<p>I agree, this won't be very useful for Wasmtime at the moment. I currently do perform <code>relaxed-simd</code> differential fuzzing in Wasmi's fuzzer and it seems to match Wasmtime's semantics. However, I just got the weird feeling that even with <code>config.relaxed_simd_deterministic()</code> enbabled this might change since <code>relaxed-simd</code> instructions can remain deterministic while changing semantics as long as the new semantics are deterministic across platforms.</p>
<p>So maybe ... I should stop fuzzing <code>relaxed-simd</code> in Wasmi as well. <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> </p>
</blockquote>



<a name="509286523"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310487%20fuzz%3A%20enable%20%60relaxed-simd%60%20for%20the%20.../near/509286523" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310487.20fuzz.3A.20enable.20.60relaxed-simd.60.20for.20the.20.2E.2E.2E.html#509286523">(Mar 31 2025 at 19:41)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/10487#issuecomment-2767225277">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10487">PR #10487</a>:</p>
<blockquote>
<p>I think the intention is that the deterministic profile of relaxed-simd is spec'd as one thing and that "thing" won't change. Officially though there aren't profiles at the moment, so it's more of a handshake between folks at this point that the deterministic profile won't be changing AFAIK</p>
</blockquote>



<a name="509292053"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310487%20fuzz%3A%20enable%20%60relaxed-simd%60%20for%20the%20.../near/509292053" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310487.20fuzz.3A.20enable.20.60relaxed-simd.60.20for.20the.20.2E.2E.2E.html#509292053">(Mar 31 2025 at 20:14)</a>:</h4>
<p>Robbepop <a href="https://github.com/bytecodealliance/wasmtime/pull/10487#issuecomment-2767296692">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10487">PR #10487</a>:</p>
<blockquote>
<blockquote>
<p>I think the intention is that the deterministic profile of relaxed-simd is spec'd as one thing and that "thing" won't change. Officially though there aren't profiles at the moment, so it's more of a handshake between folks at this point that the deterministic profile won't be changing AFAIK</p>
</blockquote>
<p>Ah I didn't know about the deterministic profile but it seems I got it right by accident.</p>
</blockquote>



<a name="509641993"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310487%20fuzz%3A%20enable%20%60relaxed-simd%60%20for%20the%20.../near/509641993" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310487.20fuzz.3A.20enable.20.60relaxed-simd.60.20for.20the.20.2E.2E.2E.html#509641993">(Apr 02 2025 at 09:11)</a>:</h4>
<p>Robbepop <a href="https://github.com/bytecodealliance/wasmtime/pull/10487#issuecomment-2771931755">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10487">PR #10487</a>:</p>
<blockquote>
<p>I think this can be closed for now.</p>
</blockquote>



<a name="509712250"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310487%20fuzz%3A%20enable%20%60relaxed-simd%60%20for%20the%20.../near/509712250" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310487.20fuzz.3A.20enable.20.60relaxed-simd.60.20for.20the.20.2E.2E.2E.html#509712250">(Apr 02 2025 at 14:23)</a>:</h4>
<p>alexcrichton closed without merge <a href="https://github.com/bytecodealliance/wasmtime/pull/10487">PR #10487</a>.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>