<html>
<head><meta charset="utf-8"><title>wasmtime / issue #12352 crash running all the wasmtime an... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312352.20crash.20running.20all.20the.20wasmtime.20an.2E.2E.2E.html">wasmtime / issue #12352 crash running all the wasmtime an...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="568099585"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312352%20crash%20running%20all%20the%20wasmtime%20an.../near/568099585" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312352.20crash.20running.20all.20the.20wasmtime.20an.2E.2E.2E.html#568099585">(Jan 14 2026 at 23:42)</a>:</h4>
<p>lukewagner opened <a href="https://github.com/bytecodealliance/wasmtime/issues/12352">issue #12352</a>:</p>
<blockquote>
<p>Running this command on the current <code>dev</code> release of wasmtime:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">wasmtime</span><span class="w"> </span><span class="n">wast</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">component</span><span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="k">async</span><span class="o">=</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">component</span><span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="k">async</span><span class="o">-</span><span class="n">builtins</span><span class="o">=</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">component</span><span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">threading</span><span class="o">=</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">component</span><span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="k">async</span><span class="o">-</span><span class="n">stackful</span><span class="o">=</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">exceptions</span><span class="o">=</span><span class="n">y</span><span class="w"> </span><span class="n">wasmtime</span><span class="cm">/*.wast wasm-tools/*.wast</span>
</code></pre></div>
<p>on the main branch of the component-model repo in the <code>test</code> directory currently crashes with this message:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">thread</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="w"> </span><span class="p">(</span><span class="mi">639680</span><span class="p">)</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">crates</span><span class="o">/</span><span class="n">wast</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">wast</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">569</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span>
<span class="nc">assertion</span><span class="w"> </span><span class="n">failed</span><span class="p">:</span><span class="w"> </span><span class="nc">prev</span><span class="p">.</span><span class="n">is_none</span><span class="p">()</span>
</code></pre></div>
<p>Running <code>wasmtime/*.wast</code> or <code>wasm-tools/*.wast</code> independently passes, so it's some interaction between the tests in both directories that seems to cause the failure.</p>
</blockquote>



<a name="568099586"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312352%20crash%20running%20all%20the%20wasmtime%20an.../near/568099586" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312352.20crash.20running.20all.20the.20wasmtime.20an.2E.2E.2E.html#568099586">(Jan 14 2026 at 23:42)</a>:</h4>
<p><a href="https://github.com/lukewagner">lukewagner</a> added the bug label to <a href="https://github.com/bytecodealliance/wasmtime/issues/12352">Issue #12352</a>.</p>



<a name="568249800"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312352%20crash%20running%20all%20the%20wasmtime%20an.../near/568249800" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312352.20crash.20running.20all.20the.20wasmtime.20an.2E.2E.2E.html#568249800">(Jan 15 2026 at 15:49)</a>:</h4>
<p>alexcrichton assigned alexcrichton to <a href="https://github.com/bytecodealliance/wasmtime/issues/12352">issue #12352</a>.</p>



<a name="568250806"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312352%20crash%20running%20all%20the%20wasmtime%20an.../near/568250806" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312352.20crash.20running.20all.20the.20wasmtime.20an.2E.2E.2E.html#568250806">(Jan 15 2026 at 15:53)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/12352#issuecomment-3755531605">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12352">issue #12352</a>:</p>
<blockquote>
<p>Should be fixed in <a href="https://github.com/bytecodealliance/wasmtime/pull/12358">https://github.com/bytecodealliance/wasmtime/pull/12358</a>, thanks for reporting! We unfortunately don't have great coverage of the multi-file form of <code>wasmtime wast</code> which is probably how this leaked through</p>
</blockquote>



<a name="568278388"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312352%20crash%20running%20all%20the%20wasmtime%20an.../near/568278388" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312352.20crash.20running.20all.20the.20wasmtime.20an.2E.2E.2E.html#568278388">(Jan 15 2026 at 17:50)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/12352">issue #12352</a>:</p>
<blockquote>
<p>Running this command on the current <code>dev</code> release of wasmtime:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">wasmtime</span><span class="w"> </span><span class="n">wast</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">component</span><span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="k">async</span><span class="o">=</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">component</span><span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="k">async</span><span class="o">-</span><span class="n">builtins</span><span class="o">=</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">component</span><span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">threading</span><span class="o">=</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">component</span><span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="k">async</span><span class="o">-</span><span class="n">stackful</span><span class="o">=</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">exceptions</span><span class="o">=</span><span class="n">y</span><span class="w"> </span><span class="n">wasmtime</span><span class="cm">/*.wast wasm-tools/*.wast</span>
</code></pre></div>
<p>on the main branch of the component-model repo in the <code>test</code> directory currently crashes with this message:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">thread</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="w"> </span><span class="p">(</span><span class="mi">639680</span><span class="p">)</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">crates</span><span class="o">/</span><span class="n">wast</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">wast</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">569</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span>
<span class="nc">assertion</span><span class="w"> </span><span class="n">failed</span><span class="p">:</span><span class="w"> </span><span class="nc">prev</span><span class="p">.</span><span class="n">is_none</span><span class="p">()</span>
</code></pre></div>
<p>Running <code>wasmtime/*.wast</code> or <code>wasm-tools/*.wast</code> independently passes, so it's some interaction between the tests in both directories that seems to cause the failure.</p>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>