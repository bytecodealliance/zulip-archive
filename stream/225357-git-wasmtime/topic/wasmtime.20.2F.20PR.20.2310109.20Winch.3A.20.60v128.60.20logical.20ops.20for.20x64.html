<html>
<head><meta charset="utf-8"><title>wasmtime / PR #10109 Winch: `v128` logical ops for x64 · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html">wasmtime / PR #10109 Winch: `v128` logical ops for x64</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="495799954"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495799954" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495799954">(Jan 24 2025 at 22:01)</a>:</h4>
<p>MarinPostma edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>.</p>



<a name="495800816"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495800816" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495800816">(Jan 24 2025 at 22:07)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>.</p>



<a name="495801094"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495801094" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495801094">(Jan 24 2025 at 22:09)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>.</p>



<a name="495801135"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495801135" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495801135">(Jan 24 2025 at 22:09)</a>:</h4>
<p>MarinPostma edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<p>implement <code>v128</code> simd logical operations:</p>
<ul>
<li><code>v128.not</code></li>
<li><code>v128.and</code></li>
<li><code>v128.andnot</code></li>
<li><code>v128.or</code></li>
<li><code>v128.xor</code></li>
</ul>
<p><a href="https://github.com/bytecodealliance/wasmtime/issues/8093">https://github.com/bytecodealliance/wasmtime/issues/8093</a></p>
</blockquote>



<a name="495804422"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495804422" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495804422">(Jan 24 2025 at 22:37)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#issuecomment-2613525690">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<p>Moving my review over to @saulecabrera who knows this better than I</p>
</blockquote>



<a name="495804435"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495804435" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495804435">(Jan 24 2025 at 22:37)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/saulecabrera">saulecabrera</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>.</p>



<a name="495811109"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495811109" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495811109">(Jan 24 2025 at 23:44)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#issuecomment-2613604878">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @saulecabrera</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "winch"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>saulecabrera: winch</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="495873779"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495873779" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495873779">(Jan 25 2025 at 14:04)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>.</p>



<a name="495873798"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495873798" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495873798">(Jan 25 2025 at 14:05)</a>:</h4>
<p>MarinPostma edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<p>implement <code>v128</code> simd logical operations:</p>
<ul>
<li><code>v128.not</code></li>
<li><code>v128.and</code></li>
<li><code>v128.andnot</code></li>
<li><code>v128.or</code></li>
<li><code>v128.xor</code></li>
<li><code>v128.bitselect</code></li>
</ul>
<p><a href="https://github.com/bytecodealliance/wasmtime/issues/8093">https://github.com/bytecodealliance/wasmtime/issues/8093</a></p>
</blockquote>



<a name="495879047"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495879047" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495879047">(Jan 25 2025 at 15:19)</a>:</h4>
<p>MarinPostma edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<p>implement <code>v128</code> simd logical operations:</p>
<ul>
<li><code>v128.not</code></li>
<li><code>v128.and</code></li>
<li><code>v128.andnot</code></li>
<li><code>v128.or</code></li>
<li><code>v128.xor</code></li>
<li><code>v128.bitselect</code></li>
<li><code>v128.any_true</code></li>
</ul>
<p><a href="https://github.com/bytecodealliance/wasmtime/issues/8093">https://github.com/bytecodealliance/wasmtime/issues/8093</a></p>
</blockquote>



<a name="495879052"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495879052" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495879052">(Jan 25 2025 at 15:19)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>.</p>



<a name="495883911"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495883911" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495883911">(Jan 25 2025 at 16:20)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>.</p>



<a name="495883937"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495883937" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495883937">(Jan 25 2025 at 16:21)</a>:</h4>
<p>MarinPostma edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<p>implement <code>v128</code> simd logical operations:</p>
<ul>
<li><code>v128.not</code></li>
<li><code>v128.and</code></li>
<li><code>v128.andnot</code></li>
<li><code>v128.or</code></li>
<li><code>v128.xor</code></li>
<li><code>v128.bitselect</code></li>
<li><code>v128.any_true</code></li>
<li><code>v128.load8_lane</code></li>
<li><code>v128.load16_lane</code></li>
<li><code>v128.load32_lane</code></li>
<li><code>v128.load64_lane</code></li>
</ul>
<p><a href="https://github.com/bytecodealliance/wasmtime/issues/8093">https://github.com/bytecodealliance/wasmtime/issues/8093</a></p>
</blockquote>



<a name="495890504"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495890504" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495890504">(Jan 25 2025 at 17:41)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>.</p>



<a name="495890579"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/495890579" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#495890579">(Jan 25 2025 at 17:42)</a>:</h4>
<p>MarinPostma edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<p>implement <code>v128</code> simd logical operations:</p>
<ul>
<li><code>v128.not</code></li>
<li><code>v128.and</code></li>
<li><code>v128.andnot</code></li>
<li><code>v128.or</code></li>
<li><code>v128.xor</code></li>
<li><code>v128.bitselect</code></li>
<li><code>v128.any_true</code></li>
<li><code>v128.load8_lane</code></li>
<li><code>v128.load16_lane</code></li>
<li><code>v128.load32_lane</code></li>
<li><code>v128.load64_lane</code></li>
<li><code>v128.store8_lane</code></li>
<li><code>v128.store16_lane</code></li>
<li><code>v128.store32_lane</code></li>
<li><code>v128.store64_lane</code></li>
</ul>
<p><a href="https://github.com/bytecodealliance/wasmtime/issues/8093">https://github.com/bytecodealliance/wasmtime/issues/8093</a></p>
</blockquote>



<a name="496102835"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496102835" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496102835">(Jan 27 2025 at 11:48)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>.</p>



<a name="496123138"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496123138" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496123138">(Jan 27 2025 at 13:33)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#pullrequestreview-2575432599">PR review</a>.</p>



<a name="496123139"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496123139" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496123139">(Jan 27 2025 at 13:33)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#discussion_r1930525547">PR review comment</a>:</p>
<blockquote>
<p>Instead of introducing new load/stored methods, I'd suggest calling <code>wasm_load</code> and <code>wasm_store</code>. This approach would probably require modifying the existing <code>LoadKind</code> definition in case the current definition can't represent the semantics of lane loading/storing. That's the approach we've followed for other vector loads (e.g., <code>load_splat</code>)</p>
<p>1 main reason:</p>
<ul>
<li>Wasm loads/stores are critical, from the sandboxing perspective, and we're trying to keep the implementation as tight as possible, reusing the existing methods makes auditing them and maintaining them much easier. </li>
</ul>
</blockquote>



<a name="496123140"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496123140" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496123140">(Jan 27 2025 at 13:33)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#discussion_r1930533002">PR review comment</a>:</p>
<blockquote>
<p>A small remark on naming: to be consistent with the rest of the naming in the MacroAssembler for type-specific instructions, perhaps we could consider prefixing all these methods with <code>v128_</code>? e.g., <code>v128_or</code>, similar to float operations, e.g., <code>float_abs</code></p>
</blockquote>



<a name="496123141"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496123141" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496123141">(Jan 27 2025 at 13:33)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#discussion_r1930536534">PR review comment</a>:</p>
<blockquote>
<p>We need to check that the host/target supports AVX for all of these methods: </p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="bp">self</span><span class="p">.</span><span class="n">flags</span><span class="p">.</span><span class="n">has_avx</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">bail</span><span class="o">!</span><span class="p">(</span><span class="n">CodeGenError</span><span class="p">::</span><span class="n">UnimplementedForNoAvx</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="496205711"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496205711" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496205711">(Jan 27 2025 at 20:23)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>.</p>



<a name="496206108"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496206108" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496206108">(Jan 27 2025 at 20:26)</a>:</h4>
<p>MarinPostma <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#issuecomment-2616817964">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<p>@saulecabrera it should be good now. I have take the opportunity to tighten store/loads even more regarding atomics operation. Having the <code>MemOpKind</code> as a separate arg meant that we could declare many opeartion as atomics, but that would have no effect.</p>
</blockquote>



<a name="496217930"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496217930" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496217930">(Jan 27 2025 at 21:53)</a>:</h4>
<p>MarinPostma edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#issuecomment-2616817964">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<p>@saulecabrera it should be good now. I have taken the opportunity to tighten store/loads even more regarding atomics operation. Having the <code>MemOpKind</code> as a separate arg meant that we could declare many opeartion as atomics, but that would have no effect.</p>
</blockquote>



<a name="496325862"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496325862" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496325862">(Jan 28 2025 at 12:42)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#pullrequestreview-2578122072">PR review</a>:</p>
<blockquote>
<p>LGTM, thanks!</p>
</blockquote>



<a name="496325924"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496325924" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496325924">(Jan 28 2025 at 12:43)</a>:</h4>
<p>saulecabrera <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#issuecomment-2618898803">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<p>There's a conflict, once resolved, we can land this one. </p>
</blockquote>



<a name="496365798"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496365798" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496365798">(Jan 28 2025 at 15:43)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>.</p>



<a name="496365980"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496365980" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496365980">(Jan 28 2025 at 15:44)</a>:</h4>
<p>MarinPostma <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#issuecomment-2619372746">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<p>done</p>
</blockquote>



<a name="496402713"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496402713" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496402713">(Jan 28 2025 at 18:48)</a>:</h4>
<p>MarinPostma <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#issuecomment-2619805654">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<p>looks like a spurious failure? @saulecabrera </p>
</blockquote>



<a name="496405636"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496405636" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496405636">(Jan 28 2025 at 19:05)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#issuecomment-2619839404">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<p>it's a bit hidden (alas) but I think that failure was non-spurious: <a href="https://github.com/bytecodealliance/wasmtime/actions/runs/13016537423/job/36307106911">https://github.com/bytecodealliance/wasmtime/actions/runs/13016537423/job/36307106911</a></p>
</blockquote>



<a name="496406967"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496406967" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496406967">(Jan 28 2025 at 19:13)</a>:</h4>
<p>saulecabrera <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#issuecomment-2619854151">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<p>Yeah, doesn't seem to be spurious. You need to update the spec tests here <a href="https://github.com/bytecodealliance/wasmtime/blob/main/crates/wast-util/src/lib.rs#L492">https://github.com/bytecodealliance/wasmtime/blob/main/crates/wast-util/src/lib.rs#L492</a> to include the ones that you enabled, so that it's marked as expected that these tests should fail on architectures that don't support AVX+. I believe this is mostly for for darwin x86_64, which runs via Rosetta and therefore there's no AVX support. </p>
</blockquote>



<a name="496431422"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496431422" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496431422">(Jan 28 2025 at 21:58)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>.</p>



<a name="496431740"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496431740" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496431740">(Jan 28 2025 at 22:01)</a>:</h4>
<p>MarinPostma <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#issuecomment-2620145543">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>:</p>
<blockquote>
<p>I think I have fixed it, but I don't have a mac to try it right now. Thanks!</p>
</blockquote>



<a name="496453697"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496453697" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496453697">(Jan 29 2025 at 01:34)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#pullrequestreview-2579758564">PR review</a>.</p>



<a name="496453698"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496453698" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496453698">(Jan 29 2025 at 01:34)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#discussion_r1933088438">PR review comment</a>:</p>
<blockquote>
<p>The failures that CI are related to the <code>vpinsr*</code>instruction, which are emitted here. We need to add <code>self.ensure_has_avx()?</code> to get CI green. </p>
</blockquote>



<a name="496453787"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496453787" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496453787">(Jan 29 2025 at 01:35)</a>:</h4>
<p>saulecabrera edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#discussion_r1933088438">PR review comment</a>.</p>



<a name="496507034"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496507034" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496507034">(Jan 29 2025 at 09:47)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>.</p>



<a name="496524032"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496524032" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496524032">(Jan 29 2025 at 11:17)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#pullrequestreview-2580724703">PR review</a>.</p>



<a name="496524034"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496524034" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496524034">(Jan 29 2025 at 11:17)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/10109#discussion_r1933696754">PR review comment</a>:</p>
<blockquote>
<p>I setup the action on my fork, all tests pass now. worry for the back and forth <span aria-label="sweat" class="emoji emoji-1f613" role="img" title="sweat">:sweat:</span> </p>
</blockquote>



<a name="496534645"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310109%20Winch%3A%20%60v128%60%20logical%20ops%20for%20x64/near/496534645" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310109.20Winch.3A.20.60v128.60.20logical.20ops.20for.20x64.html#496534645">(Jan 29 2025 at 12:16)</a>:</h4>
<p>saulecabrera merged <a href="https://github.com/bytecodealliance/wasmtime/pull/10109">PR #10109</a>.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>