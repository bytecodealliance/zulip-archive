<html>
<head><meta charset="utf-8"><title>wasmtime / PR #11323 wasi-http: Add default-send-request ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html">wasmtime / PR #11323 wasi-http: Add default-send-request ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="530775207"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530775207" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530775207">(Jul 25 2025 at 13:30)</a>:</h4>
<p>brian14708 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/11323">PR #11323</a> from <code>brian14708:feature/wasi-http-default-send-request</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This PR adds a <code>default-send-request</code> feature flag to the <code>wasmtime-wasi-http</code> crate that allows disabling the default HTTP request handler implementation and its associated TLS dependencies.<br>
</p>
</blockquote>



<a name="530775208"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530775208" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530775208">(Jul 25 2025 at 13:30)</a>:</h4>
<p><strong>brian14708</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-wasi-reviewers">wasmtime-wasi-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11323">PR #11323</a>.</p>



<a name="530775253"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530775253" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530775253">(Jul 25 2025 at 13:30)</a>:</h4>
<p>brian14708 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11323">PR #11323</a>.</p>



<a name="530776029"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530776029" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530776029">(Jul 25 2025 at 13:34)</a>:</h4>
<p>brian14708 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11323">PR #11323</a>.</p>



<a name="530800662"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530800662" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530800662">(Jul 25 2025 at 15:37)</a>:</h4>
<p>dicej submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11323#pullrequestreview-3055946702">PR review</a>:</p>
<blockquote>
<p>Looks great, thanks; just one suggestion inline.</p>
</blockquote>



<a name="530800663"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530800663" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530800663">(Jul 25 2025 at 15:37)</a>:</h4>
<p>dicej created <a href="https://github.com/bytecodealliance/wasmtime/pull/11323#discussion_r2231443294">PR review comment</a>:</p>
<blockquote>
<p>Would you mind prefixing each of these with <code>dep:</code> (e.g. <code>"dep:tokio-rustls"</code> per <a href="https://doc.rust-lang.org/cargo/reference/features.html#optional-dependencies">https://doc.rust-lang.org/cargo/reference/features.html#optional-dependencies</a> to avoid possible ambiguity?</p>
</blockquote>



<a name="530827898"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530827898" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530827898">(Jul 25 2025 at 18:31)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11323#pullrequestreview-3056435206">PR review</a>:</p>
<blockquote>
<p>(if you don't mind me doing some review too)</p>
<p>Thanks for this! In addition to the comments below can you add a check on CI that the crate builds without default features? For example somewhere <a href="https://github.com/bytecodealliance/wasmtime/blob/88079b4f3f47e11c1263bde10b9c30bcbe86cc86/.github/workflows/main.yml#L310-L396">around here</a></p>
</blockquote>



<a name="530827900"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530827900" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530827900">(Jul 25 2025 at 18:31)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11323#discussion_r2231771535">PR review comment</a>:</p>
<blockquote>
<p>FWIW we generally do not test all possible combinations of features, so I think it's reasonable to leave this out and have it be a compile error if the feature is disabled and tested. My thinking is along the lines of my above comment where I'd prefer to avoid reachable always-return-error functions if possible</p>
</blockquote>



<a name="530827902"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530827902" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530827902">(Jul 25 2025 at 18:31)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11323#discussion_r2231770241">PR review comment</a>:</p>
<blockquote>
<p>Personally I don't feel this is the best way to model the behavior here. Could the crate feature be used to control whether this is is a provided function or not? For example without the crate feature this would be an empty function meaning that callers would be required to implement it. With the crate feature though it would be a provided function meaning it has a default implementation.</p>
</blockquote>



<a name="530867834"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530867834" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530867834">(Jul 26 2025 at 00:11)</a>:</h4>
<p><strong>brian14708</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11323">PR #11323</a>.</p>



<a name="530867835"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530867835" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530867835">(Jul 26 2025 at 00:11)</a>:</h4>
<p><strong>brian14708</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11323">PR #11323</a>.</p>



<a name="530867836"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530867836" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530867836">(Jul 26 2025 at 00:11)</a>:</h4>
<p>brian14708 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11323">PR #11323</a>.</p>



<a name="530868317"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530868317" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530868317">(Jul 26 2025 at 00:16)</a>:</h4>
<p>brian14708 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11323">PR #11323</a>.</p>



<a name="530869484"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530869484" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530869484">(Jul 26 2025 at 00:30)</a>:</h4>
<p>brian14708 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11323">PR #11323</a>.</p>



<a name="530869831"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530869831" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530869831">(Jul 26 2025 at 00:35)</a>:</h4>
<p>brian14708 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11323#pullrequestreview-3057205908">PR review</a>.</p>



<a name="530869832"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530869832" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530869832">(Jul 26 2025 at 00:35)</a>:</h4>
<p>brian14708 created <a href="https://github.com/bytecodealliance/wasmtime/pull/11323#discussion_r2232288185">PR review comment</a>:</p>
<blockquote>
<p>Thanks, missed a <code>no-default-features</code> in <code>wasmtime-cli</code> otherwise.</p>
</blockquote>



<a name="530885088"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311323%20wasi-http%3A%20Add%20default-send-request%20.../near/530885088" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311323.20wasi-http.3A.20Add.20default-send-request.20.2E.2E.2E.html#530885088">(Jul 26 2025 at 03:39)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/11323">PR #11323</a>.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>