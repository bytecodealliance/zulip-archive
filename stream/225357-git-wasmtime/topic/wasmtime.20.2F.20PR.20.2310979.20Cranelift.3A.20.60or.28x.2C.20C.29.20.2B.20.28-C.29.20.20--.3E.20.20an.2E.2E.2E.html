<html>
<head><meta charset="utf-8"><title>wasmtime / PR #10979 Cranelift: `or(x, C) + (-C)  --&gt;  an... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html">wasmtime / PR #10979 Cranelift: `or(x, C) + (-C)  --&gt;  an...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="522954279"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/522954279" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#522954279">(Jun 08 2025 at 08:17)</a>:</h4>
<p>bongjunj opened <a href="https://github.com/bytecodealliance/wasmtime/pull/10979">PR #10979</a> from <code>bongjunj:add-or-to-and</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
<p>This add <code>or(x, C) + (-C)  --&gt;  and(x, ~C)</code></p>
<p>&lt;details&gt;<br>
&lt;summary&gt;proof.isle&lt;/summary&gt;</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">(</span><span class="n">rule</span>
<span class="w">  </span><span class="p">(</span><span class="n">simplify</span><span class="w"> </span><span class="p">(</span><span class="n">iadd</span><span class="w"> </span><span class="n">ty</span>
<span class="w">              </span><span class="p">(</span><span class="n">bor</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">iconst_s</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">n</span><span class="p">))</span>
<span class="w">              </span><span class="p">(</span><span class="n">iconst_s</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">m</span><span class="p">)))</span>
<span class="w">  </span><span class="p">(</span><span class="k">if</span><span class="o">-</span><span class="kd">let</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="p">(</span><span class="n">i64_neg</span><span class="w"> </span><span class="n">n</span><span class="p">))</span>
<span class="w">  </span><span class="p">(</span><span class="n">band</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">iconst</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">imm64_masked</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">i64_as_u64</span><span class="w"> </span><span class="p">(</span><span class="n">i64_not</span><span class="w"> </span><span class="n">n</span><span class="p">))))))</span>

<span class="p">(</span><span class="n">form</span>
<span class="w">  </span><span class="n">bv_unary_8_to_64</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">)))</span>
<span class="p">)</span>

<span class="p">(</span><span class="n">form</span>
<span class="w">  </span><span class="n">bv_binary_8_to_64</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">)))</span>
<span class="p">)</span>

<span class="p">(</span><span class="n">form</span>
<span class="w">  </span><span class="n">bv_ternary_8_to_64</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">)))</span>
<span class="p">)</span>


<span class="p">(</span><span class="n">form</span>
<span class="w">  </span><span class="n">bv_ty_unary_8_to_64</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">)))</span>
<span class="p">)</span>

<span class="p">(</span><span class="n">form</span>
<span class="w">  </span><span class="n">bv_ty_binary_8_to_64</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">)))</span>
<span class="p">)</span>

<span class="p">(</span><span class="n">form</span>
<span class="w">  </span><span class="n">bv_ty_ternary_8_to_64</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w">  </span><span class="mi">8</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">)))</span>
<span class="p">)</span>

<span class="p">(</span><span class="k">type</span><span class="w"> </span><span class="nc">Type</span><span class="w"> </span><span class="p">(</span><span class="n">primitive</span><span class="w"> </span><span class="n">Type</span><span class="p">))</span>
<span class="p">(</span><span class="k">type</span><span class="w"> </span><span class="nc">Value</span><span class="w"> </span><span class="p">(</span><span class="n">primitive</span><span class="w"> </span><span class="n">Value</span><span class="p">))</span>
<span class="p">(</span><span class="k">type</span><span class="w"> </span><span class="nc">Imm64</span><span class="w"> </span><span class="p">(</span><span class="n">primitive</span><span class="w"> </span><span class="n">Imm64</span><span class="p">))</span>
<span class="p">(</span><span class="k">type</span><span class="w"> </span><span class="nc">Inst</span><span class="w"> </span><span class="p">(</span><span class="n">primitive</span><span class="w"> </span><span class="n">Inst</span><span class="p">))</span>
<span class="p">(</span><span class="k">type</span><span class="w"> </span><span class="nc">SkeletonInstSimplification</span><span class="w"> </span><span class="p">(</span><span class="n">primitive</span><span class="w"> </span><span class="n">SkeletonInstSimplification</span><span class="p">))</span>
<span class="p">(</span><span class="k">type</span><span class="w"> </span><span class="nc">IntCC</span><span class="w"> </span><span class="k">extern</span>
<span class="w">    </span><span class="p">(</span><span class="k">enum</span>
<span class="w">        </span><span class="nc">Equal</span>
<span class="w">        </span><span class="n">NotEqual</span>
<span class="w">        </span><span class="n">SignedGreaterThan</span>
<span class="w">        </span><span class="n">SignedGreaterThanOrEqual</span>
<span class="w">        </span><span class="n">SignedLessThan</span>
<span class="w">        </span><span class="n">SignedLessThanOrEqual</span>
<span class="w">        </span><span class="n">UnsignedGreaterThan</span>
<span class="w">        </span><span class="n">UnsignedGreaterThanOrEqual</span>
<span class="w">        </span><span class="n">UnsignedLessThan</span>
<span class="w">        </span><span class="n">UnsignedLessThanOrEqual</span><span class="p">))</span>

<span class="p">(</span><span class="n">model</span><span class="w"> </span><span class="n">IntCC</span><span class="w"> </span><span class="p">(</span><span class="k">enum</span>
<span class="w">    </span><span class="p">(</span><span class="n">Equal</span><span class="w"> </span><span class="p">#</span><span class="n">x00</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">NotEqual</span><span class="w"> </span><span class="p">#</span><span class="n">x01</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">SignedGreaterThan</span><span class="w"> </span><span class="p">#</span><span class="n">x02</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">SignedGreaterThanOrEqual</span><span class="w"> </span><span class="p">#</span><span class="n">x03</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">SignedLessThan</span><span class="w"> </span><span class="p">#</span><span class="n">x04</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">SignedLessThanOrEqual</span><span class="w"> </span><span class="p">#</span><span class="n">x05</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">UnsignedGreaterThan</span><span class="w"> </span><span class="p">#</span><span class="n">x06</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">UnsignedGreaterThanOrEqual</span><span class="w"> </span><span class="p">#</span><span class="n">x07</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">UnsignedLessThan</span><span class="w"> </span><span class="p">#</span><span class="n">x08</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">UnsignedLessThanOrEqual</span><span class="w"> </span><span class="p">#</span><span class="n">x09</span><span class="p">)))</span>


<span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="p">(</span><span class="n">bor</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">provide</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">bvor</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="n">result</span><span class="p">))</span>
<span class="w">    </span><span class="p">(</span><span class="n">require</span>
<span class="w">        </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">))))</span>
<span class="p">(</span><span class="n">decl</span><span class="w"> </span><span class="n">bor</span><span class="w"> </span><span class="p">(</span><span class="n">Type</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">extractor</span><span class="w"> </span><span class="n">bor</span><span class="w"> </span><span class="n">bor</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">bor</span><span class="w"> </span><span class="n">bor</span><span class="p">)</span>
<span class="p">(</span><span class="n">instantiate</span><span class="w"> </span><span class="n">bor</span><span class="w"> </span><span class="n">bv_ty_binary_8_to_64</span><span class="p">)</span>

<span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="p">(</span><span class="n">band</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">provide</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">bvand</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="n">result</span><span class="p">))</span>
<span class="w">    </span><span class="p">(</span><span class="n">require</span>
<span class="w">        </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">))))</span>
<span class="p">(</span><span class="n">decl</span><span class="w"> </span><span class="n">band</span><span class="w"> </span><span class="p">(</span><span class="n">Type</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">extractor</span><span class="w"> </span><span class="n">band</span><span class="w"> </span><span class="n">band</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">band</span><span class="w"> </span><span class="n">band</span><span class="p">)</span>
<span class="p">(</span><span class="n">instantiate</span><span class="w"> </span><span class="n">band</span><span class="w"> </span><span class="n">bv_ty_binary_8_to_64</span><span class="p">)</span>

<span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="p">(</span><span class="n">bxor</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">provide</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">bvxor</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="n">result</span><span class="p">))</span>
<span class="w">    </span><span class="p">(</span><span class="n">require</span>
<span class="w">        </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">))))</span>
<span class="p">(</span><span class="n">decl</span><span class="w"> </span><span class="n">bxor</span><span class="w"> </span><span class="p">(</span><span class="n">Type</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">extractor</span><span class="w"> </span><span class="n">bxor</span><span class="w"> </span><span class="n">bxor</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">bxor</span><span class="w"> </span><span class="n">bxor</span><span class="p">)</span>
<span class="p">(</span><span class="n">instantiate</span><span class="w"> </span><span class="n">bxor</span><span class="w"> </span><span class="n">bv_ty_binary_8_to_64</span><span class="p">)</span>

<span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="p">(</span><span class="n">sshr</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">provide</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">result</span>
<span class="w">           </span><span class="p">(</span><span class="n">bvashr</span><span class="w"> </span><span class="n">x</span>
<span class="w">                  </span><span class="p">(</span><span class="n">bvand</span><span class="w"> </span><span class="p">(</span><span class="n">conv_to</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bvsub</span><span class="w"> </span><span class="p">(</span><span class="n">int2bv</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">))</span>
<span class="w">                                                     </span><span class="p">#</span><span class="n">x0000000000000001</span><span class="p">))</span>
<span class="w">                         </span><span class="n">y</span><span class="p">))))</span>
<span class="w">    </span><span class="p">(</span><span class="n">require</span>
<span class="w">        </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">))))</span>
<span class="p">(</span><span class="n">decl</span><span class="w"> </span><span class="n">sshr</span><span class="w"> </span><span class="p">(</span><span class="n">Type</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">extractor</span><span class="w"> </span><span class="n">sshr</span><span class="w"> </span><span class="n">sshr</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">sshr</span><span class="w"> </span><span class="n">sshr</span><span class="p">)</span>
<span class="p">(</span><span class="n">instantiate</span><span class="w"> </span><span class="n">sshr</span><span class="w"> </span><span class="n">bv_ty_binary_8_to_64</span><span class="p">)</span>

<span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="p">(</span><span class="n">ushr</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">provide</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">result</span>
<span class="w">           </span><span class="p">(</span><span class="n">bvlshr</span><span class="w"> </span><span class="n">x</span>
<span class="w">                  </span><span class="p">(</span><span class="n">bvand</span><span class="w"> </span><span class="p">(</span><span class="n">conv_to</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bvsub</span><span class="w"> </span><span class="p">(</span><span class="n">int2bv</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">))</span>
<span class="w">                                                     </span><span class="p">#</span><span class="n">x0000000000000001</span><span class="p">))</span>
<span class="w">                         </span><span class="n">y</span><span class="p">))))</span>
<span class="w">    </span><span class="p">(</span><span class="n">require</span>
<span class="w">        </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">))))</span>
<span class="p">(</span><span class="n">decl</span><span class="w"> </span><span class="n">ushr</span><span class="w"> </span><span class="p">(</span><span class="n">Type</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">extractor</span><span class="w"> </span><span class="n">ushr</span><span class="w"> </span><span class="n">ushr</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">ushr</span><span class="w"> </span><span class="n">ushr</span><span class="p">)</span>
<span class="p">(</span><span class="n">instantiate</span><span class="w"> </span><span class="n">ushr</span><span class="w"> </span><span class="n">bv_ty_binary_8_to_64</span><span class="p">)</span>

<span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="p">(</span><span class="n">iadd</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">provide</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">(</span><span class="n">bvadd</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)))</span>
<span class="w">    </span><span class="p">(</span><span class="n">require</span>
<span class="w">        </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">))))</span>
<span class="p">(</span><span class="n">decl</span><span class="w"> </span><span class="n">iadd</span><span class="w"> </span><span class="p">(</span><span class="n">Type</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">extractor</span><span class="w"> </span><span class="n">iadd</span><span class="w"> </span><span class="n">iadd</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">iadd</span><span class="w"> </span><span class="n">iadd</span><span class="p">)</span>
<span class="p">(</span><span class="n">instantiate</span><span class="w"> </span><span class="n">iadd</span><span class="w"> </span><span class="n">bv_ty_binary_8_to_64</span><span class="p">)</span>

<span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="p">(</span><span class="n">isub</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">provide</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">(</span><span class="n">bvsub</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)))</span>
<span class="w">    </span><span class="p">(</span><span class="n">require</span>
<span class="w">        </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">))))</span>
<span class="p">(</span><span class="n">decl</span><span class="w"> </span><span class="n">isub</span><span class="w"> </span><span class="p">(</span><span class="n">Type</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">extractor</span><span class="w"> </span><span class="n">isub</span><span class="w"> </span><span class="n">isub</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">isub</span><span class="w"> </span><span class="n">isub</span><span class="p">)</span>
<span class="p">(</span><span class="n">instantiate</span><span class="w"> </span><span class="n">isub</span><span class="w"> </span><span class="n">bv_ty_binary_8_to_64</span><span class="p">)</span>

<span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="p">(</span><span class="n">imul</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">provide</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">(</span><span class="n">bvmul</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)))</span>
<span class="w">    </span><span class="p">(</span><span class="n">require</span>
<span class="w">        </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">))))</span>
<span class="p">(</span><span class="n">decl</span><span class="w"> </span><span class="n">imul</span><span class="w"> </span><span class="p">(</span><span class="n">Type</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">extractor</span><span class="w"> </span><span class="n">imul</span><span class="w"> </span><span class="n">imul</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">imul</span><span class="w"> </span><span class="n">imul</span><span class="p">)</span>
<span class="p">(</span><span class="n">instantiate</span><span class="w"> </span><span class="n">imul</span><span class="w"> </span><span class="n">bv_ty_binary_8_to_64</span><span class="p">)</span>

<span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="p">(</span><span class="n">iabs</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">provide</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">result</span>
<span class="w">                </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bvsge</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">conv_to</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">#</span><span class="n">x0000000000000000</span><span class="p">))</span>
<span class="w">                    </span><span class="n">x</span>
<span class="w">                    </span><span class="p">(</span><span class="n">bvneg</span><span class="w"> </span><span class="n">x</span><span class="p">))))</span>
<span class="w">    </span><span class="p">(</span><span class="n">require</span>
<span class="w">        </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">))))</span>
<span class="p">(</span><span class="n">decl</span><span class="w"> </span><span class="n">iabs</span><span class="w"> </span><span class="p">(</span><span class="n">Type</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">extractor</span><span class="w"> </span><span class="n">iabs</span><span class="w"> </span><span class="n">iabs</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">iabs</span><span class="w"> </span><span class="n">iabs</span><span class="p">)</span>
<span class="p">(</span><span class="n">instantiate</span><span class="w"> </span><span class="n">iabs</span><span class="w"> </span><span class="n">bv_ty_unary_8_to_64</span><span class="p">)</span>


<span class="p">;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">&amp;</span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="err">\</span><span class="n">pmod</span><span class="w"> </span><span class="n">B</span><span class="p">,</span>
<span class="p">;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="err">\</span><span class="n">cdot</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="n">s</span><span class="w"> </span><span class="err">\</span><span class="n">pmod</span><span class="p">{</span><span class="mi">2</span><span class="o">^</span><span class="n">B</span><span class="p">}.</span>
<span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="p">(</span><span class="n">ishl</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">provide</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">result</span>
<span class="w">           </span><span class="p">(</span><span class="n">bvshl</span><span class="w"> </span><span class="n">x</span>
<span class="w">                  </span><span class="p">(</span><span class="n">bvand</span><span class="w"> </span><span class="p">(</span><span class="n">conv_to</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bvsub</span><span class="w"> </span><span class="p">(</span><span class="n">int2bv</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">))</span>
<span class="w">                                                     </span><span class="p">#</span><span class="n">x0000000000000001</span><span class="p">))</span>
<span class="w">                         </span><span class="n">y</span><span class="p">))))</span>
<span class="w">    </span><span class="p">(</span><span class="n">require</span>
<span class="w">        </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">))))</span>
<span class="p">(</span><span class="n">decl</span><span class="w"> </span><span class="n">ishl</span><span class="w"> </span><span class="p">(</span><span class="n">Type</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">extractor</span><span class="w"> </span><span class="n">ishl</span><span class="w"> </span><span class="n">ishl</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">ishl</span><span class="w"> </span><span class="n">ishl</span><span class="p">)</span>
<span class="p">(</span><span class="n">instantiate</span><span class="w"> </span><span class="n">ishl</span><span class="w"> </span><span class="n">bv_ty_binary_8_to_64</span><span class="p">)</span>

<span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="p">(</span><span class="n">select</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">provide</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="p">#</span><span class="n">x00</span><span class="p">)</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">x</span><span class="p">)))</span>
<span class="w">    </span><span class="p">(</span><span class="n">require</span>
<span class="w">        </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">y</span><span class="p">))))</span>
<span class="p">(</span><span class="n">decl</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="p">(</span><span class="n">Type</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">extractor</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="n">select</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="n">select</span><span class="p">)</span>
<span class="p">(</span><span class="n">instantiate</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="n">bv_ty_ternary_8_to_64</span><span class="p">)</span>

<span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="p">(</span><span class="n">icmp</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">cc</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">provide</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">result</span>
<span class="w">            </span><span class="p">(</span><span class="n">switch</span><span class="w"> </span><span class="n">cc</span>
<span class="w">                </span><span class="p">((</span><span class="n">IntCC</span><span class="p">.</span><span class="n">Equal</span><span class="p">)</span><span class="w">                        </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w">       </span><span class="p">#</span><span class="n">x01</span><span class="w"> </span><span class="p">#</span><span class="n">x00</span><span class="p">))</span>
<span class="w">                </span><span class="p">((</span><span class="n">IntCC</span><span class="p">.</span><span class="n">NotEqual</span><span class="p">)</span><span class="w">                     </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">not</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">))</span><span class="w"> </span><span class="p">#</span><span class="n">x01</span><span class="w"> </span><span class="p">#</span><span class="n">x00</span><span class="p">))</span>
<span class="w">                </span><span class="p">((</span><span class="n">IntCC</span><span class="p">.</span><span class="n">SignedGreaterThan</span><span class="p">)</span><span class="w">            </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bvsgt</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w">   </span><span class="p">#</span><span class="n">x01</span><span class="w"> </span><span class="p">#</span><span class="n">x00</span><span class="p">))</span>
<span class="w">                </span><span class="p">((</span><span class="n">IntCC</span><span class="p">.</span><span class="n">SignedGreaterThanOrEqual</span><span class="p">)</span><span class="w">     </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bvsge</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w">   </span><span class="p">#</span><span class="n">x01</span><span class="w"> </span><span class="p">#</span><span class="n">x00</span><span class="p">))</span>
<span class="w">                </span><span class="p">((</span><span class="n">IntCC</span><span class="p">.</span><span class="n">SignedLessThan</span><span class="p">)</span><span class="w">               </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bvslt</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w">   </span><span class="p">#</span><span class="n">x01</span><span class="w"> </span><span class="p">#</span><span class="n">x00</span><span class="p">))</span>
<span class="w">                </span><span class="p">((</span><span class="n">IntCC</span><span class="p">.</span><span class="n">SignedLessThanOrEqual</span><span class="p">)</span><span class="w">        </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bvsle</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w">   </span><span class="p">#</span><span class="n">x01</span><span class="w"> </span><span class="p">#</span><span class="n">x00</span><span class="p">))</span>
<span class="w">                </span><span class="p">((</span><span class="n">IntCC</span><span class="p">.</span><span class="n">UnsignedGreaterThan</span><span class="p">)</span><span class="w">          </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bvugt</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w">   </span><span class="p">#</span><span class="n">x01</span><span class="w"> </span><span class="p">#</span><span class="n">x00</span><span class="p">))</span>
<span class="w">                </span><span class="p">((</span><span class="n">IntCC</span><span class="p">.</span><span class="n">UnsignedGreaterThanOrEqual</span><span class="p">)</span><span class="w">   </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bvuge</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w">   </span><span class="p">#</span><span class="n">x01</span><span class="w"> </span><span class="p">#</span><span class="n">x00</span><span class="p">))</span>
<span class="w">                </span><span class="p">((</span><span class="n">IntCC</span><span class="p">.</span><span class="n">UnsignedLessThan</span><span class="p">)</span><span class="w">             </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bvult</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w">   </span><span class="p">#</span><span class="n">x01</span><span class="w"> </span><span class="p">#</span><span class="n">x00</span><span class="p">))</span>
<span class="w">                </span><span class="p">((</span><span class="n">IntCC</span><span class="p">.</span><span class="n">UnsignedLessThanOrEqual</span><span class="p">)</span><span class="w">      </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bvule</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w">   </span><span class="p">#</span><span class="n">x01</span><span class="w"> </span><span class="p">#</span><span class="n">x00</span><span class="p">)))))</span>
<span class="w">    </span><span class="p">(</span><span class="n">require</span>
<span class="w">        </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span>
<span class="w">        </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="p">(</span><span class="n">widthof</span><span class="w"> </span><span class="n">x</span><span class="p">)))</span>
<span class="w">        </span><span class="p">(</span><span class="n">or</span>
<span class="w">            </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">cc</span><span class="w"> </span><span class="p">(</span><span class="n">IntCC</span><span class="p">.</span><span class="n">Equal</span><span class="p">))</span>
<span class="w">            </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">cc</span><span class="w"> </span><span class="p">(</span><span class="n">IntCC</span><span class="p">.</span><span class="n">NotEqual</span><span class="p">))</span>
<span class="w">            </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">cc</span><span class="w"> </span><span class="p">(</span><span class="n">IntCC</span><span class="p">.</span><span class="n">UnsignedGreaterThanOrEqual</span><span class="p">))</span>
<span class="w">            </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">cc</span><span class="w"> </span><span class="p">(</span><span class="n">IntCC</span><span class="p">.</span><span class="n">UnsignedGreaterThan</span><span class="p">))</span>
<span class="w">            </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">cc</span><span class="w"> </span><span class="p">(</span><span class="n">IntCC</span><span class="p">.</span><span class="n">UnsignedLessThanOrEqual</span><span class="p">))</span>
<span class="w">            </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">cc</span><span class="w"> </span><span class="p">(</span><span class="n">IntCC</span><span class="p">.</span><span class="n">UnsignedLessThan</span><span class="p">))</span>
<span class="w">            </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">cc</span><span class="w"> </span><span class="p">(</span><span class="n">IntCC</span><span class="p">.</span><span class="n">SignedGreaterThanOrEqual</span><span class="p">))</span>
<span class="w">            </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">cc</span><span class="w"> </span><span class="p">(</span><span class="n">IntCC</span><span class="p">.</span><span class="n">SignedGreaterThan</span><span class="p">))</span>
<span class="w">            </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">cc</span><span class="w"> </span><span class="p">(</span><span class="n">IntCC</span><span class="p">.</span><span class="n">SignedLessThanOrEqual</span><span class="p">))</span>
<span class="w">            </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">cc</span><span class="w"> </span><span class="p">(</span><span class="n">IntCC</span><span class="p">.</span><span class="n">SignedLessThan</span><span class="p">)))))</span>

<span class="p">(</span><span class="n">decl</span><span class="w"> </span><span class="n">icmp</span><span class="w"> </span><span class="p">(</span><span class="n">Type</span><span class="w"> </span><span class="n">IntCC</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">extractor</span><span class="w"> </span><span class="n">icmp</span><span class="w"> </span><span class="n">icmp</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">icmp</span><span class="w"> </span><span class="n">icmp</span><span class="p">)</span>
<span class="p">(</span><span class="n">instantiate</span><span class="w"> </span><span class="n">icmp</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">8</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">16</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">32</span><span class="p">)))</span>
<span class="w">  </span><span class="p">((</span><span class="n">args</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">8</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="n">canon</span><span class="w"> </span><span class="p">(</span><span class="n">bv</span><span class="w"> </span><span class="mi">64</span><span class="p">)))</span>
<span class="p">)</span>

<span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="p">(</span><span class="n">iconst</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">arg</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">provide</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="p">(</span><span class="n">zero_ext</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="n">result</span><span class="p">)))</span>
<span class="w">    </span><span class="p">(</span><span class="n">require</span><span class="w"> </span><span class="p">(</span><span class="n">or</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="mi">64</span><span class="p">))))</span>
<span class="p">(</span><span class="n">decl</span><span class="w"> </span><span class="n">iconst</span><span class="w"> </span><span class="p">(</span><span class="n">Type</span><span class="w"> </span><span class="n">Imm64</span><span class="p">)</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">iconst</span><span class="w"> </span><span class="n">iconst</span><span class="p">)</span>
<span class="p">(</span><span class="k">extern</span><span class="w"> </span><span class="n">extractor</span><span class="w"> </span><span class="n">iconst</span><span class="w"> </span><span class="n">ic</span>
<span class="p">[</span><span class="n">message</span><span class="w"> </span><span class="n">truncated</span><span class="p">]</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="522954280"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/522954280" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#522954280">(Jun 08 2025 at 08:17)</a>:</h4>
<p><strong>bongjunj</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10979">PR #10979</a>.</p>



<a name="522954281"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/522954281" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#522954281">(Jun 08 2025 at 08:17)</a>:</h4>
<p><strong>bongjunj</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10979">PR #10979</a>.</p>



<a name="522966841"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/522966841" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#522966841">(Jun 08 2025 at 09:45)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/10979#issuecomment-2953829215">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10979">PR #10979</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @cfallin, @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift", "isle"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>cfallin: isle</li>
<li>fitzgen: isle</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="523139499"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/523139499" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#523139499">(Jun 09 2025 at 17:35)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10979#pullrequestreview-2910794542">PR review</a>:</p>
<blockquote>
<p>Thanks! Just a couple minor nitpicks below.</p>
<p>Out of curiosity, did you find this code pattern in the wild? Synthesize it? Something else?</p>
</blockquote>



<a name="523139500"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/523139500" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#523139500">(Jun 09 2025 at 17:35)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/10979#discussion_r2136166856">PR review comment</a>:</p>
<blockquote>
<p>Can you add this summary comment to the ISLE rule? Thanks!</p>
</blockquote>



<a name="523139501"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/523139501" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#523139501">(Jun 09 2025 at 17:35)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/10979#discussion_r2136162318">PR review comment</a>:</p>
<blockquote>
<p>With this change, the rhs is slightly simpler and we don't need to introduce the new <code>i64_not</code> constructor</p>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>  (band ty x (iconst ty (imm64_masked ty (u64_not n)))))
</code></pre></div><br>
</p>
</blockquote>



<a name="523139793"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/523139793" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#523139793">(Jun 09 2025 at 17:38)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/10979#issuecomment-2956475966">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10979">PR #10979</a>:</p>
<blockquote>
<p><a href="https://github.com/bytecodealliance/wasmtime/actions/runs/15516516108/job/43684140159?pr=10979#step:19:865">https://github.com/bytecodealliance/wasmtime/actions/runs/15516516108/job/43684140159?pr=10979#step:19:865</a></p>
<p>Looks like this optimization applied to one of our existing test cases in CI, changing its golden output.</p>
<p>You can update the output via</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="n">CRANELIFT_TEST_BLESS</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="n">cargo</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="n">cranelift</span><span class="o">-</span><span class="n">tools</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">filetests</span><span class="o">/</span><span class="n">filetests</span><span class="o">/</span><span class="n">isa</span><span class="o">/</span><span class="n">x64</span><span class="o">/</span><span class="n">stack_switch</span><span class="p">.</span><span class="n">clif</span>
</code></pre></div>
<p>And then commit that test expectation update and include it in this PR.</p>
</blockquote>



<a name="523140070"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/523140070" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#523140070">(Jun 09 2025 at 17:40)</a>:</h4>
<p>fitzgen edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10979#discussion_r2136162318">PR review comment</a>.</p>



<a name="523193426"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/523193426" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#523193426">(Jun 10 2025 at 01:43)</a>:</h4>
<p>bongjunj updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10979">PR #10979</a>.</p>



<a name="523193657"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/523193657" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#523193657">(Jun 10 2025 at 01:46)</a>:</h4>
<p>bongjunj <a href="https://github.com/bytecodealliance/wasmtime/pull/10979#issuecomment-2957456765">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10979">PR #10979</a>:</p>
<blockquote>
<p>Hi, thanks for the comment.</p>
<ol>
<li>I added the summary to the ISLE rule,</li>
<li>and updated the expected output as you mentioned.</li>
</ol>
<p>Actually I'm collecting these code patterns from LLVM using some kind of synthesizer.</p>
</blockquote>



<a name="523340084"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/523340084" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#523340084">(Jun 10 2025 at 17:33)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10979#pullrequestreview-2914496764">PR review</a>:</p>
<blockquote>
<p>Thanks!</p>
</blockquote>



<a name="523342773"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/523342773" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#523342773">(Jun 10 2025 at 17:51)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/10979#issuecomment-2960145641">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10979">PR #10979</a>:</p>
<blockquote>
<blockquote>
<p>Actually I'm collecting these code patterns from LLVM using some kind of synthesizer.</p>
</blockquote>
<p>Nice! I'd love to hear a little more about this. Are you harvesting LHSes via LLVM and then synthesizing RHSes directly for ISLE? Or synthesizing RHSes for LLVM and porting them to ISLE? Are you using Souper or a different synthesizer?</p>
<hr>
<p>FWIW, we have some Souper-synthesized rules that we haven't completed landing (mostly because I don't have time) over in <a href="https://github.com/bytecodealliance/wasmtime/issues/5783">https://github.com/bytecodealliance/wasmtime/issues/5783</a></p>
<p>And we also have some infrastructure for harvesting Souper LHSes from CLIF input. The following command will harvest LHSes from the <code>path/to/input.clif</code> file and write each of them into the <code>path/to/left-hand-sides</code> directory:</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$ </span>cargo<span class="w"> </span>run<span class="w"> </span>-p<span class="w"> </span>cranelift-tools<span class="w"> </span>--<span class="w"> </span>souper-harvest<span class="w"> </span>path/to/input.clif<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-o<span class="w"> </span>path/to/left-hand-sides
</code></pre></div>
<p>And then we also have a helper script to <a href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/run-souper.sh">run Souper</a>. This will take those harvested LHSes from the previous step and run Souper on each of them. For each RHS that it finds, it will write a <code>$LHS.result</code> file next to the <code>$LHS</code> file:</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$ </span>./cranelift/run-souper.sh<span class="w"> </span>path/to/souper-check<span class="w"> </span>path/to/left-hand-sides
</code></pre></div>
<p>As far as getting the initial CLIF input goes for the above commands, Wasmtime has a <code>--emit-clif</code> option you can use. The following will write a <code>.clif</code> file into <code>path/to/output/dir</code> for each function inside the Wasm module:</p>
<p><div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$ </span>wasmtime<span class="w"> </span>compile<span class="w"> </span>path/to/module.wasm<span class="w"> </span>--emit-clif<span class="w"> </span>path/to/output/dir
</code></pre></div><br>
</p>
</blockquote>



<a name="523343100"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/523343100" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#523343100">(Jun 10 2025 at 17:53)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/10979">PR #10979</a>.</p>



<a name="523911811"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310979%20Cranelift%3A%20%60or%28x%2C%20C%29%20%2B%20%28-C%29%20%20--%3E%20%20an.../near/523911811" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310979.20Cranelift.3A.20.60or.28x.2C.20C.29.20.2B.20.28-C.29.20.20--.3E.20.20an.2E.2E.2E.html#523911811">(Jun 13 2025 at 09:57)</a>:</h4>
<p>bongjunj <a href="https://github.com/bytecodealliance/wasmtime/pull/10979#issuecomment-2969801677">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10979">PR #10979</a>:</p>
<blockquote>
<p>My synthesizer construct the LHS and RHS from the input and the output programs of LLVM optimizers. Most of the job is done by deterministic mapping from LLVM opcode to Cranelift ones. But the remaining part of synthesizing relationships among constants is the problem Im solving.</p>
<p>Thanks for the idea using souper. I will take a look into that.</p>
</blockquote>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>