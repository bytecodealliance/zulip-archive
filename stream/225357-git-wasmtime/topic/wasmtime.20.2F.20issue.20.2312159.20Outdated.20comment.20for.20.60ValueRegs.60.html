<html>
<head><meta charset="utf-8"><title>wasmtime / issue #12159 Outdated comment for `ValueRegs` · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312159.20Outdated.20comment.20for.20.60ValueRegs.60.html">wasmtime / issue #12159 Outdated comment for `ValueRegs`</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="563286316"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312159%20Outdated%20comment%20for%20%60ValueRegs%60/near/563286316" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312159.20Outdated.20comment.20for.20.60ValueRegs.60.html#563286316">(Dec 11 2025 at 21:33)</a>:</h4>
<p>MilkeeyCat opened <a href="https://github.com/bytecodealliance/wasmtime/issues/12159">issue #12159</a>:</p>
<blockquote>
<p><a href="https://github.com/bytecodealliance/wasmtime/blob/05a711f6ff5317bbc5b5268a05543719f96482d5/cranelift/codegen/src/machinst/valueregs.rs#L19-L20">https://github.com/bytecodealliance/wasmtime/blob/05a711f6ff5317bbc5b5268a05543719f96482d5/cranelift/codegen/src/machinst/valueregs.rs#L19-L20</a></p>
<p>It was true when this file was created in <a href="https://github.com/bytecodealliance/wasmtime/commit/6eea015d6c512882e426ffc670b180a971afad05">https://github.com/bytecodealliance/wasmtime/commit/6eea015d6c512882e426ffc670b180a971afad05</a> but after ARM32 backend removal(<a href="https://github.com/bytecodealliance/wasmtime/commit/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab">https://github.com/bytecodealliance/wasmtime/commit/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab</a>) <code>VALUE_REGS_PARTS</code> is always equal to <code>2</code>.</p>
</blockquote>



<a name="563308085"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312159%20Outdated%20comment%20for%20%60ValueRegs%60/near/563308085" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312159.20Outdated.20comment.20for.20.60ValueRegs.60.html#563308085">(Dec 12 2025 at 00:58)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/12159#issuecomment-3644445352">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12159">issue #12159</a>:</p>
<blockquote>
<p>PR welcome to fix this, if you'd like -- I'd be happy to review.</p>
</blockquote>



<a name="563335524"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312159%20Outdated%20comment%20for%20%60ValueRegs%60/near/563335524" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312159.20Outdated.20comment.20for.20.60ValueRegs.60.html#563335524">(Dec 12 2025 at 07:07)</a>:</h4>
<p>MilkeeyCat <a href="https://github.com/bytecodealliance/wasmtime/issues/12159#issuecomment-3645207447">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12159">issue #12159</a>:</p>
<blockquote>
<p>Would you like "we cap the capacity of this at four (when any 32-bit target is enabled) or two (otherwise)" part to be removed or changed to something else?</p>
</blockquote>



<a name="563417478"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312159%20Outdated%20comment%20for%20%60ValueRegs%60/near/563417478" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312159.20Outdated.20comment.20for.20.60ValueRegs.60.html#563417478">(Dec 12 2025 at 08:19)</a>:</h4>
<p>cfallin closed <a href="https://github.com/bytecodealliance/wasmtime/issues/12159">issue #12159</a>:</p>
<blockquote>
<p><a href="https://github.com/bytecodealliance/wasmtime/blob/05a711f6ff5317bbc5b5268a05543719f96482d5/cranelift/codegen/src/machinst/valueregs.rs#L19-L20">https://github.com/bytecodealliance/wasmtime/blob/05a711f6ff5317bbc5b5268a05543719f96482d5/cranelift/codegen/src/machinst/valueregs.rs#L19-L20</a></p>
<p>It was true when this file was created in <a href="https://github.com/bytecodealliance/wasmtime/commit/6eea015d6c512882e426ffc670b180a971afad05">https://github.com/bytecodealliance/wasmtime/commit/6eea015d6c512882e426ffc670b180a971afad05</a> but after ARM32 backend removal(<a href="https://github.com/bytecodealliance/wasmtime/commit/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab">https://github.com/bytecodealliance/wasmtime/commit/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab</a>) <code>VALUE_REGS_PARTS</code> is always equal to <code>2</code>.</p>
</blockquote>



<a name="563417480"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312159%20Outdated%20comment%20for%20%60ValueRegs%60/near/563417480" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312159.20Outdated.20comment.20for.20.60ValueRegs.60.html#563417480">(Dec 12 2025 at 08:19)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/12159#issuecomment-3645424058">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12159">issue #12159</a>:</p>
<blockquote>
<p>Hmm, reading a bit more context now, since you're asking -- I actually think it's fine to leave as-is. It's vacuously true that the capacity of <code>ValueRegs</code> is four registers on targets with only 32-bit registers, because we have no such targets; but more importantly it documents the intent, which is that it should always have capacity for 128 bits. Not really worth bikeshedding better text here IMHO. I'll go ahead and close this issue but thanks for raising it!</p>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>