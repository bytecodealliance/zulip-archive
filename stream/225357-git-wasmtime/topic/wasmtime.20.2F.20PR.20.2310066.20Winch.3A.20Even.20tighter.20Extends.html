<html>
<head><meta charset="utf-8"><title>wasmtime / PR #10066 Winch: Even tighter Extends · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html">wasmtime / PR #10066 Winch: Even tighter Extends</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="495128572"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495128572" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495128572">(Jan 21 2025 at 19:23)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10066">PR #10066</a>.</p>



<a name="495128573"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495128573" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495128573">(Jan 21 2025 at 19:23)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10066">PR #10066</a>.</p>



<a name="495128574"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495128574" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495128574">(Jan 21 2025 at 19:23)</a>:</h4>
<p>MarinPostma opened <a href="https://github.com/bytecodealliance/wasmtime/pull/10066">PR #10066</a> from <code>MarinPostma:movzv-unsigned-extend</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>Followup to <a href="https://github.com/bytecodealliance/wasmtime/pull/10053">https://github.com/bytecodealliance/wasmtime/pull/10053</a></p>
<p>This PR has two commit:</p>
<p>1) The first commit makes <code>mov*</code> instruct receive the adequate <code>Extend</code> operation. And it makes extend conversion  operation harder to misuse.<br>
2) The second commit it <strong>optional</strong>. This is an alternative to <code>Signed/UnsignedExtend</code>, that merges the two into a <code>Extend&lt;T&gt;</code>, and factorizes common behaviour, avoiding repetition. The <code>T</code> is either <code>Signed</code> or <code>Zero</code>, with precautions in the design so that it's hard to misuse.<br>
</p>
</blockquote>



<a name="495129356"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495129356" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495129356">(Jan 21 2025 at 19:28)</a>:</h4>
<p>MarinPostma edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10066">PR #10066</a>:</p>
<blockquote>
<p>Followup to <a href="https://github.com/bytecodealliance/wasmtime/pull/10053">https://github.com/bytecodealliance/wasmtime/pull/10053</a></p>
<p>This PR has two commit:</p>
<p>1) The first commit makes <code>mov*</code> instruct receive the adequate <code>Extend</code> operation. And it makes extend conversion  operation harder to misuse.<br>
2) The second commit is <strong>optional</strong>. This is an alternative to <code>Signed/UnsignedExtend</code>, that merges the two into a <code>Extend&lt;T&gt;</code>, and factorizes common behaviour, avoiding repetition. The <code>T</code> is either <code>Signed</code> or <code>Zero</code>, with precautions in the design so that it's hard to misuse.<br>
</p>
</blockquote>



<a name="495135038"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495135038" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495135038">(Jan 21 2025 at 20:03)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#pullrequestreview-2565581348">PR review</a>:</p>
<blockquote>
<p>Thanks for this. Left two minor comments inline. </p>
</blockquote>



<a name="495135040"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495135040" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495135040">(Jan 21 2025 at 20:03)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#discussion_r1924296384">PR review comment</a>:</p>
<blockquote>
<p>To avoid an unused member, could you use <code>PhantomData</code> to hold the type instead? <a href="https://doc.rust-lang.org/std/marker/struct.PhantomData.html">https://doc.rust-lang.org/std/marker/struct.PhantomData.html</a></p>
</blockquote>



<a name="495135041"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495135041" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495135041">(Jan 21 2025 at 20:03)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#discussion_r1924299032">PR review comment</a>:</p>
<blockquote>
<p>Small naming convention/suggestion: we usually use <code>src</code>, <code>dst</code> for explicit moves, could we keep <code>from_bits</code> and <code>to_bits</code>? Although given that this now returns <code>OperandSize</code> it could maybe be <code>from_size</code> and <code>to_size</code>?</p>
</blockquote>



<a name="495139506"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495139506" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495139506">(Jan 21 2025 at 20:33)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#pullrequestreview-2565637819">PR review</a>.</p>



<a name="495139507"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495139507" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495139507">(Jan 21 2025 at 20:33)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#discussion_r1924330295">PR review comment</a>:</p>
<blockquote>
<p>do you mean for every variant? like <code>I64ExtendI8(PhantomData&lt;T&gt;)</code>? I think that would make construction pretty cumbersome, no?<br>
If you mean <code>__Kind(PhamtomData&lt;T&gt;)</code>, then that defeats the purpose of this variant being unconstructible, since you can't construct <code>Signed</code> and <code>Zero</code></p>
</blockquote>



<a name="495139748"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495139748" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495139748">(Jan 21 2025 at 20:35)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#discussion_r1924332006">PR review comment</a>:</p>
<blockquote>
<p>No problem. It's just that it kinda overlaps with usual rust naming convention for <code>from_</code> and <code>to_</code>, which I found a bit confusing. I'll make the change now.</p>
</blockquote>



<a name="495139749"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495139749" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495139749">(Jan 21 2025 at 20:35)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#pullrequestreview-2565640591">PR review</a>.</p>



<a name="495140560"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495140560" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495140560">(Jan 21 2025 at 20:40)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10066">PR #10066</a>.</p>



<a name="495143424"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495143424" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495143424">(Jan 21 2025 at 20:59)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#pullrequestreview-2565681180">PR review</a>.</p>



<a name="495143425"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495143425" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495143425">(Jan 21 2025 at 20:59)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#discussion_r1924356498">PR review comment</a>:</p>
<blockquote>
<p>I meant more around the lines of:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">pub</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="nc">ExtendBits</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="sd">/// 8 to 32 bit extend.</span>
<span class="w">    </span><span class="n">I32Extend8</span><span class="p">,</span>
<span class="w">    </span><span class="sd">/// 16 to 32 bit extend.</span>
<span class="w">    </span><span class="n">I32Extend16</span><span class="p">,</span>
<span class="w">    </span><span class="sd">/// 8 to 64 bit extend.</span>
<span class="w">    </span><span class="n">I64Extend8</span><span class="p">,</span>
<span class="w">    </span><span class="sd">/// 16 to 64 bit extend.</span>
<span class="w">    </span><span class="n">I64Extend16</span><span class="p">,</span>
<span class="w">    </span><span class="sd">/// 32 to 64 bit extend.</span>
<span class="w">    </span><span class="n">I64Extend32</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">pub</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nb">Extend</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">bits</span><span class="p">:</span><span class="w"> </span><span class="nc">ExtendBits</span><span class="p">,</span>
<span class="w">    </span><span class="n">marker</span><span class="p">:</span><span class="w"> </span><span class="nc">PhantomData</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
<p>Which is the kind of job that <code>PhantomData</code> is for. </p>
<p>That way you can avoid the unused enum member. In your approach <code>Signed</code> and <code>Zero</code> are mostly used as type flags to ensure that the extension is associated correctly, but even though your comment states that the <code>__Kind(T)</code> variant cannot be constructed, from a practical perspective, you could do <code>Extend::__Kind(Signed)</code> I believe. </p>
</blockquote>



<a name="495143567"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495143567" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495143567">(Jan 21 2025 at 21:00)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#pullrequestreview-2565682352">PR review</a>.</p>



<a name="495143570"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495143570" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495143570">(Jan 21 2025 at 21:00)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#discussion_r1924357206">PR review comment</a>:</p>
<blockquote>
<p>The general disadvantage that I see is that this approach adds a bit more complexity to the implementation. </p>
</blockquote>



<a name="495144587"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495144587" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495144587">(Jan 21 2025 at 21:06)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#pullrequestreview-2565693075">PR review</a>.</p>



<a name="495144589"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495144589" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495144589">(Jan 21 2025 at 21:06)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#discussion_r1924363716">PR review comment</a>:</p>
<blockquote>
<p>But we can always iterate on this after landing this change, I think regardless of the unused member, extends are in a better place now. </p>
</blockquote>



<a name="495144630"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495144630" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495144630">(Jan 21 2025 at 21:07)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#pullrequestreview-2565693577">PR review</a>.</p>



<a name="495145455"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495145455" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495145455">(Jan 21 2025 at 21:12)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#pullrequestreview-2565702602">PR review</a>.</p>



<a name="495145456"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495145456" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495145456">(Jan 21 2025 at 21:12)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#discussion_r1924369636">PR review comment</a>:</p>
<blockquote>
<p>| from a practical perspective, you could do Extend::__Kind(Signed) I believe.</p>
<p>that's in fact not possible :) You would need to exhibit a variant, but there are none, c.f: <a href="https://doc.rust-lang.org/reference/items/enumerations.html#zero-variant-enums">https://doc.rust-lang.org/reference/items/enumerations.html#zero-variant-enums</a></p>
</blockquote>



<a name="495145856"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495145856" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495145856">(Jan 21 2025 at 21:15)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#pullrequestreview-2565707368">PR review</a>.</p>



<a name="495145860"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495145860" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495145860">(Jan 21 2025 at 21:15)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#discussion_r1924372426">PR review comment</a>:</p>
<blockquote>
<p>I think your proposal could work nicely too, if we implemented <code>Deref&lt;Target = ExtendBits&gt;</code> for <code>Extend&lt;T: ExtendType&gt;</code></p>
</blockquote>



<a name="495145990"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495145990" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495145990">(Jan 21 2025 at 21:16)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#pullrequestreview-2565709025">PR review</a>.</p>



<a name="495145991"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495145991" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495145991">(Jan 21 2025 at 21:16)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#discussion_r1924373478">PR review comment</a>:</p>
<blockquote>
<p>we'd need to add contructors to make instanciation simpler, though, which may hurt readability</p>
</blockquote>



<a name="495146553"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495146553" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495146553">(Jan 21 2025 at 21:20)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#pullrequestreview-2565715627">PR review</a>.</p>



<a name="495146555"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495146555" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495146555">(Jan 21 2025 at 21:20)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/10066#discussion_r1924377582">PR review comment</a>:</p>
<blockquote>
<p>Oh I see, I overlooked, I read this as <code>struct</code> not <code>enum</code> (for <code>Signed</code> and <code>Zero</code>), but this makes sense. Thanks for clarifying. </p>
<blockquote>
<p>we'd need to add contructors to make instanciation simpler, though, which may hurt readability</p>
</blockquote>
<p>Yeah, I think the current approach is simple enough, if there's a strong reason to change it in the future then we can. For now I'd suggest we keep it as is. </p>
</blockquote>



<a name="495149539"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310066%20Winch%3A%20Even%20tighter%20Extends/near/495149539" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310066.20Winch.3A.20Even.20tighter.20Extends.html#495149539">(Jan 21 2025 at 21:41)</a>:</h4>
<p>saulecabrera merged <a href="https://github.com/bytecodealliance/wasmtime/pull/10066">PR #10066</a>.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>