<html>
<head><meta charset="utf-8"><title>wasmtime / PR #10621 wasmtime component: get InstancePre ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310621.20wasmtime.20component.3A.20get.20InstancePre.20.2E.2E.2E.html">wasmtime / PR #10621 wasmtime component: get InstancePre ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="513470317"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310621%20wasmtime%20component%3A%20get%20InstancePre%20.../near/513470317" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310621.20wasmtime.20component.3A.20get.20InstancePre.20.2E.2E.2E.html#513470317">(Apr 21 2025 at 21:10)</a>:</h4>
<p>pchickey edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10621">PR #10621</a>.</p>



<a name="513470969"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310621%20wasmtime%20component%3A%20get%20InstancePre%20.../near/513470969" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310621.20wasmtime.20component.3A.20get.20InstancePre.20.2E.2E.2E.html#513470969">(Apr 21 2025 at 21:15)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10621#pullrequestreview-2782258810">PR review</a>.</p>



<a name="513471140"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310621%20wasmtime%20component%3A%20get%20InstancePre%20.../near/513471140" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310621.20wasmtime.20component.3A.20get.20InstancePre.20.2E.2E.2E.html#513471140">(Apr 21 2025 at 21:16)</a>:</h4>
<p>pchickey edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10621">PR #10621</a>:</p>
<blockquote>
<ul>
<li><code>wasmtime::component::InstancePre</code> gets a new field to hold an arc to the imported resources table <code>resource_types: Arc&lt;PrimaryMap&lt;ResourceIndex, ResourceType&gt;&gt;</code>. This information is available at the two spots where an <code>InstancePre</code> is constructed (one of which is new, below), so theres no additional computation required here, just a clone of the arc.</li>
<li><code>InstancePre</code> gets a new method <code>instance_type(&amp;self) -&gt; InstanceType&lt;'_&gt;</code>. The <code>InstanceType</code> is used for typechecking. The whole purpose of this PR is so that typechecking can occur from either an Instance or InstancePre, and without taking a borrow into a Store, for the sake of #10610.</li>
<li><code>wasmtime::component::Instance</code> gets a new method <code>instance_pre&lt;T&gt;(&amp;self, store: &amp;impl AsContext&lt;Data = T&gt;) -&gt; InstancePre&lt;T&gt;</code>. All of the information required to construct the <code>InstancePre</code> is already found in the Store at the Instances's index.<br>
</li>
</ul>
</blockquote>



<a name="513471145"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310621%20wasmtime%20component%3A%20get%20InstancePre%20.../near/513471145" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310621.20wasmtime.20component.3A.20get.20InstancePre.20.2E.2E.2E.html#513471145">(Apr 21 2025 at 21:16)</a>:</h4>
<p><strong>pchickey</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10621">PR #10621</a>.</p>



<a name="513471148"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310621%20wasmtime%20component%3A%20get%20InstancePre%20.../near/513471148" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310621.20wasmtime.20component.3A.20get.20InstancePre.20.2E.2E.2E.html#513471148">(Apr 21 2025 at 21:16)</a>:</h4>
<p><strong>pchickey</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/10621">PR #10621</a> as ready for review.</p>



<a name="513471149"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310621%20wasmtime%20component%3A%20get%20InstancePre%20.../near/513471149" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310621.20wasmtime.20component.3A.20get.20InstancePre.20.2E.2E.2E.html#513471149">(Apr 21 2025 at 21:16)</a>:</h4>
<p><strong>pchickey</strong> requested <a href="https://github.com/dicej">dicej</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10621">PR #10621</a>.</p>



<a name="513471160"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310621%20wasmtime%20component%3A%20get%20InstancePre%20.../near/513471160" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310621.20wasmtime.20component.3A.20get.20InstancePre.20.2E.2E.2E.html#513471160">(Apr 21 2025 at 21:16)</a>:</h4>
<p><strong>pchickey</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10621">PR #10621</a>.</p>



<a name="513473688"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310621%20wasmtime%20component%3A%20get%20InstancePre%20.../near/513473688" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310621.20wasmtime.20component.3A.20get.20InstancePre.20.2E.2E.2E.html#513473688">(Apr 21 2025 at 21:38)</a>:</h4>
<p>pchickey merged <a href="https://github.com/bytecodealliance/wasmtime/pull/10621">PR #10621</a>.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>