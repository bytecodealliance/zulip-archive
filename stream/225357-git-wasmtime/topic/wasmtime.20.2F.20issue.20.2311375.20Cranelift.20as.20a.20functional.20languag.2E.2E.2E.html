<html>
<head><meta charset="utf-8"><title>wasmtime / issue #11375 Cranelift as a functional languag... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311375.20Cranelift.20as.20a.20functional.20languag.2E.2E.2E.html">wasmtime / issue #11375 Cranelift as a functional languag...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="532666995"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311375%20Cranelift%20as%20a%20functional%20languag.../near/532666995" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311375.20Cranelift.20as.20a.20functional.20languag.2E.2E.2E.html#532666995">(Aug 04 2025 at 07:48)</a>:</h4>
<p>Germ210 opened <a href="https://github.com/bytecodealliance/wasmtime/issues/11375">issue #11375</a>:</p>
<blockquote>
<p>Currently, I am designing a language that requires tail call optimization and possibly calling C functions/being called from C functions. How does Cranelift handle cross ABI compatibility?</p>
<p>On top of that, Cranelift does not support 32 bit architectures, are there any plan for that? If not, what should I use for generating code for those architectures instead?</p>
</blockquote>



<a name="534022951"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311375%20Cranelift%20as%20a%20functional%20languag.../near/534022951" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311375.20Cranelift.20as.20a.20functional.20languag.2E.2E.2E.html#534022951">(Aug 12 2025 at 17:06)</a>:</h4>
<p>cfallin closed <a href="https://github.com/bytecodealliance/wasmtime/issues/11375">issue #11375</a>:</p>
<blockquote>
<p>Currently, I am designing a language that requires tail call optimization and possibly calling C functions/being called from C functions. How does Cranelift handle cross ABI compatibility?</p>
<p>On top of that, Cranelift does not support 32 bit architectures, are there any plan for that? If not, what should I use for generating code for those architectures instead?</p>
</blockquote>



<a name="534022955"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311375%20Cranelift%20as%20a%20functional%20languag.../near/534022955" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311375.20Cranelift.20as.20a.20functional.20languag.2E.2E.2E.html#534022955">(Aug 12 2025 at 17:06)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/11375#issuecomment-3180244797">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/11375">issue #11375</a>:</p>
<blockquote>
<blockquote>
<p>How does Cranelift handle cross ABI compatibility?</p>
</blockquote>
<p>We have a notion of calling convention in signatures; Cranelift supports a function that is compiled using one calling convention calling a function with another convention(and this is well-tested and used in practice in Wasmtime). So you should be able to define your external C functions using <code>sys_v</code> (on Unix/Linux/macOS) or <code>fastcall</code> (on Windows) conventions and the calls should work fine. I'd encourage you to peruse our <a href="https://docs.rs/cranelift-codegen/latest/cranelift_codegen/isa/enum.CallConv.html">documentation</a> for more.</p>
<blockquote>
<p>On top of that, Cranelift does not support 32 bit architectures, are there any plan for that?</p>
</blockquote>
<p>You can find all of our tracking issues for supporting new ISAs using the <code>cranelift:new-target</code> issue label: <a href="https://github.com/bytecodealliance/wasmtime/issues?q=state%3Aopen%20label%3A%22cranelift%3Anew-target%22">link</a>. For example, arm32 in #1173 and x86-32 in #1980 are both 32-bit platforms.</p>
<p>The main issue is developer time: we don't have enough full-time contributors to Cranelift to develop and maintain backends for all of these ISAs. As I've described in comments in most of those listed issues, we estimate the effort to build a new backend at around 3 months of work / 20k lines of code. And we expect new backends to ideally have a fulltime maintainer available (i.e., not a one-time develop-and-dump prospect).</p>
<blockquote>
<p>If not, what should I use for generating code for those architectures instead?</p>
</blockquote>
<p>While this question is outside the scope of the Cranelift issue tracker, for "some other compiler" I'd recommend LLVM by default.</p>
</blockquote>



<a name="534022989"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311375%20Cranelift%20as%20a%20functional%20languag.../near/534022989" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311375.20Cranelift.20as.20a.20functional.20languag.2E.2E.2E.html#534022989">(Aug 12 2025 at 17:06)</a>:</h4>
<p>cfallin edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/11375#issuecomment-3180244797">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/11375">issue #11375</a>:</p>
<blockquote>
<blockquote>
<p>How does Cranelift handle cross ABI compatibility?</p>
</blockquote>
<p>We have a notion of calling convention in signatures; Cranelift supports a function that is compiled using one calling convention calling a function with another convention (and this is well-tested and used in practice in Wasmtime). So you should be able to define your external C functions using <code>sys_v</code> (on Unix/Linux/macOS) or <code>fastcall</code> (on Windows) conventions and the calls should work fine. I'd encourage you to peruse our <a href="https://docs.rs/cranelift-codegen/latest/cranelift_codegen/isa/enum.CallConv.html">documentation</a> for more.</p>
<blockquote>
<p>On top of that, Cranelift does not support 32 bit architectures, are there any plan for that?</p>
</blockquote>
<p>You can find all of our tracking issues for supporting new ISAs using the <code>cranelift:new-target</code> issue label: <a href="https://github.com/bytecodealliance/wasmtime/issues?q=state%3Aopen%20label%3A%22cranelift%3Anew-target%22">link</a>. For example, arm32 in #1173 and x86-32 in #1980 are both 32-bit platforms.</p>
<p>The main issue is developer time: we don't have enough full-time contributors to Cranelift to develop and maintain backends for all of these ISAs. As I've described in comments in most of those listed issues, we estimate the effort to build a new backend at around 3 months of work / 20k lines of code. And we expect new backends to ideally have a fulltime maintainer available (i.e., not a one-time develop-and-dump prospect).</p>
<blockquote>
<p>If not, what should I use for generating code for those architectures instead?</p>
</blockquote>
<p>While this question is outside the scope of the Cranelift issue tracker, for "some other compiler" I'd recommend LLVM by default.</p>
</blockquote>



<a name="534023038"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311375%20Cranelift%20as%20a%20functional%20languag.../near/534023038" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311375.20Cranelift.20as.20a.20functional.20languag.2E.2E.2E.html#534023038">(Aug 12 2025 at 17:07)</a>:</h4>
<p>cfallin edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/11375#issuecomment-3180244797">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/11375">issue #11375</a>:</p>
<blockquote>
<blockquote>
<p>How does Cranelift handle cross ABI compatibility?</p>
</blockquote>
<p>We have a notion of calling convention in signatures; Cranelift supports a function that is compiled using one calling convention calling a function with another convention (and this is well-tested and used in practice in Wasmtime). So you should be able to define your external C functions using <code>system_v</code> (on Unix/Linux/macOS) or <code>fastcall</code> (on Windows) conventions and the calls should work fine. I'd encourage you to peruse our <a href="https://docs.rs/cranelift-codegen/latest/cranelift_codegen/isa/enum.CallConv.html">documentation</a> for more.</p>
<blockquote>
<p>On top of that, Cranelift does not support 32 bit architectures, are there any plan for that?</p>
</blockquote>
<p>You can find all of our tracking issues for supporting new ISAs using the <code>cranelift:new-target</code> issue label: <a href="https://github.com/bytecodealliance/wasmtime/issues?q=state%3Aopen%20label%3A%22cranelift%3Anew-target%22">link</a>. For example, arm32 in #1173 and x86-32 in #1980 are both 32-bit platforms.</p>
<p>The main issue is developer time: we don't have enough full-time contributors to Cranelift to develop and maintain backends for all of these ISAs. As I've described in comments in most of those listed issues, we estimate the effort to build a new backend at around 3 months of work / 20k lines of code. And we expect new backends to ideally have a fulltime maintainer available (i.e., not a one-time develop-and-dump prospect).</p>
<blockquote>
<p>If not, what should I use for generating code for those architectures instead?</p>
</blockquote>
<p>While this question is outside the scope of the Cranelift issue tracker, for "some other compiler" I'd recommend LLVM by default.</p>
</blockquote>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>