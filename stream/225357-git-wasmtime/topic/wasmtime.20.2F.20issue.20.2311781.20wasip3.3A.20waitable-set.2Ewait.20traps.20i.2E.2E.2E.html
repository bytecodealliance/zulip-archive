<html>
<head><meta charset="utf-8"><title>wasmtime / issue #11781 wasip3: waitable-set.wait traps i... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311781.20wasip3.3A.20waitable-set.2Ewait.20traps.20i.2E.2E.2E.html">wasmtime / issue #11781 wasip3: waitable-set.wait traps i...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="542798166"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311781%20wasip3%3A%20waitable-set.wait%20traps%20i.../near/542798166" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311781.20wasip3.3A.20waitable-set.2Ewait.20traps.20i.2E.2E.2E.html#542798166">(Oct 02 2025 at 17:42)</a>:</h4>
<p>lukewagner opened <a href="https://github.com/bytecodealliance/wasmtime/issues/11781">issue #11781</a>:</p>
<blockquote>
<p>Based on our current emoji-gating, I believe this is meant to work.  <a href="https://github.com/WebAssembly/component-model/blob/main/test/async/wait-during-callback.wast">This test</a> hits <a href="https://github.com/bytecodealliance/wasmtime/blob/7cebfa206fe4a40ab54e9862f30b05c5fefb9043/crates/wasmtime/src/runtime/component/concurrent.rs#L2859">this guard</a> which I think is just left over from an earlier iteration of the spec when <code>waitable-set.wait</code> was rejected.  (Credit to @TartanLlama for catching and pointing out.)</p>
</blockquote>



<a name="542798167"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311781%20wasip3%3A%20waitable-set.wait%20traps%20i.../near/542798167" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311781.20wasip3.3A.20waitable-set.2Ewait.20traps.20i.2E.2E.2E.html#542798167">(Oct 02 2025 at 17:42)</a>:</h4>
<p><a href="https://github.com/lukewagner">lukewagner</a> added the bug label to <a href="https://github.com/bytecodealliance/wasmtime/issues/11781">Issue #11781</a>.</p>



<a name="542801539"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311781%20wasip3%3A%20waitable-set.wait%20traps%20i.../near/542801539" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311781.20wasip3.3A.20waitable-set.2Ewait.20traps.20i.2E.2E.2E.html#542801539">(Oct 02 2025 at 18:01)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> added the wasm-proposal:component-model-async label to <a href="https://github.com/bytecodealliance/wasmtime/issues/11781">Issue #11781</a>.</p>



<a name="542981765"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311781%20wasip3%3A%20waitable-set.wait%20traps%20i.../near/542981765" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311781.20wasip3.3A.20waitable-set.2Ewait.20traps.20i.2E.2E.2E.html#542981765">(Oct 03 2025 at 16:21)</a>:</h4>
<p>dicej assigned dicej to <a href="https://github.com/bytecodealliance/wasmtime/issues/11781">issue #11781</a>.</p>



<a name="543370909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311781%20wasip3%3A%20waitable-set.wait%20traps%20i.../near/543370909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311781.20wasip3.3A.20waitable-set.2Ewait.20traps.20i.2E.2E.2E.html#543370909">(Oct 06 2025 at 17:16)</a>:</h4>
<p>dicej closed <a href="https://github.com/bytecodealliance/wasmtime/issues/11781">issue #11781</a>:</p>
<blockquote>
<p>Based on our current emoji-gating, I believe this is meant to work.  <a href="https://github.com/WebAssembly/component-model/blob/main/test/async/wait-during-callback.wast">This test</a> hits <a href="https://github.com/bytecodealliance/wasmtime/blob/7cebfa206fe4a40ab54e9862f30b05c5fefb9043/crates/wasmtime/src/runtime/component/concurrent.rs#L2859">this guard</a> which I think is just left over from an earlier iteration of the spec when <code>waitable-set.wait</code> was rejected.  (Credit to @TartanLlama for catching and pointing out.)</p>
</blockquote>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>