<html>
<head><meta charset="utf-8"><title>wasmtime / PR #11440 feat(p3): implement `wasi:http` · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html">wasmtime / PR #11440 feat(p3): implement `wasi:http`</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="534690481"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/534690481" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#534690481">(Aug 15 2025 at 17:53)</a>:</h4>
<p>rvolosatovs opened <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a> from <code>rvolosatovs:feat/wasip3-http-impl</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This PR builds on top of #11221 and will contain the full implementation of <code>wasi:http</code> proposal with refcounting (no child resources). This will be made ready-for-review once all currently ignored tests pass</p>
</blockquote>



<a name="534690535"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/534690535" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#534690535">(Aug 15 2025 at 17:53)</a>:</h4>
<p>rvolosatovs edited <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>:</p>
<blockquote>
<p>This PR builds on top of #11221 and will contain the full implementation of <code>wasi:http</code> proposal with refcounting (no child resources). This will be made ready-for-review once all currently ignored tests pass</p>
<p><a href="https://github.com/bytecodealliance/wasmtime/pull/11440/commits/480558daacc00f95b594f332b9f1747d15e69f3f">https://github.com/bytecodealliance/wasmtime/pull/11440/commits/480558daacc00f95b594f332b9f1747d15e69f3f</a> is currently the only commit here worth looking at</p>
</blockquote>



<a name="534692507"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/534692507" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#534692507">(Aug 15 2025 at 18:08)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="534692899"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/534692899" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#534692899">(Aug 15 2025 at 18:11)</a>:</h4>
<p>rvolosatovs edited <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>:</p>
<blockquote>
<p>This PR builds on top of #11221 and will contain the full implementation of <code>wasi:http</code> proposal with refcounting (no child resources). This will be made ready-for-review once all currently ignored tests pass</p>
<p><a href="https://github.com/bytecodealliance/wasmtime/pull/11440/commits/4819aade1167a937d6c00f6026eb5451d2f100e3">https://github.com/bytecodealliance/wasmtime/pull/11440/commits/4819aade1167a937d6c00f6026eb5451d2f100e3</a> is currently the only commit here worth looking at</p>
</blockquote>



<a name="534698120"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/534698120" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#534698120">(Aug 15 2025 at 18:53)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#pullrequestreview-3124823538">PR review</a>.</p>



<a name="534698123"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/534698123" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#534698123">(Aug 15 2025 at 18:53)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2279672571">PR review comment</a>:</p>
<blockquote>
<p>One suggestion perhaps for many of these methods is to have a generic extension trait which supports an arbitrary <code>T</code> for <code>Resource&lt;T&gt;</code> which could help deduplicate these methods?</p>
</blockquote>



<a name="534698124"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/534698124" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#534698124">(Aug 15 2025 at 18:53)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2279674707">PR review comment</a>:</p>
<blockquote>
<p>Could this use <code>trappable_error</code> configuration to aovid the double-layer of <code>Result</code>? That would also enable using <code>?</code> below to propagate errors.</p>
</blockquote>



<a name="535140516"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/535140516" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#535140516">(Aug 19 2025 at 14:19)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="535142083"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/535142083" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#535142083">(Aug 19 2025 at 14:27)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="535142414"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/535142414" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#535142414">(Aug 19 2025 at 14:29)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="535150009"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/535150009" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#535150009">(Aug 19 2025 at 15:04)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537876115"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537876115" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537876115">(Sep 05 2025 at 13:53)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537876557"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537876557" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537876557">(Sep 05 2025 at 13:55)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537915402"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537915402" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537915402">(Sep 05 2025 at 17:25)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537915675"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537915675" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537915675">(Sep 05 2025 at 17:27)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537916120"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537916120" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537916120">(Sep 05 2025 at 17:31)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537916202"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537916202" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537916202">(Sep 05 2025 at 17:31)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537919291"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537919291" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537919291">(Sep 05 2025 at 17:42)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537920492"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537920492" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537920492">(Sep 05 2025 at 17:51)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537921261"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537921261" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537921261">(Sep 05 2025 at 17:55)</a>:</h4>
<p>rvolosatovs <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#issuecomment-3259279697">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>:</p>
<blockquote>
<p>I'm done for the week and will continue on Monday, but this is pretty close to having all test cases passing.</p>
<p>@alexcrichton @dicej feel free to make the necessary changes in the PR to make the rest of the test cases work if there's a desire to still finish <code>wasi:http</code> this week.<br>
Alternatively, merging this PR as-is and addressing the rest in follow-ups would work as well.</p>
</blockquote>



<a name="537921513"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537921513" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537921513">(Sep 05 2025 at 17:57)</a>:</h4>
<p>rvolosatovs edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#issuecomment-3259279697">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>:</p>
<blockquote>
<p>I'm done for the week and will continue on Monday, but this is pretty close to having all test cases passing.</p>
<p>@alexcrichton @dicej feel free to make the necessary changes in the PR to make the rest of the test cases work if there's a desire to still finish <code>wasi:http</code> this week.<br>
Alternatively, merging this PR as-is and addressing the rest in follow-ups would work as well.</p>
<p>If we're okay with waiting until next week, this should be complete by Monday evening</p>
</blockquote>



<a name="537921753"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537921753" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537921753">(Sep 05 2025 at 17:59)</a>:</h4>
<p>rvolosatovs edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#issuecomment-3259279697">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>:</p>
<blockquote>
<p>I'm done for the week and will continue on Monday, but this is pretty close to having all test cases passing.</p>
<p>@alexcrichton @dicej feel free to make the necessary changes in the PR to make the rest of the test cases work and get this over the line if there's a desire to still finish <code>wasi:http</code> this week.<br>
Alternatively, merging this PR as-is and addressing the rest in follow-ups would work as well.</p>
<p>If we're okay with waiting until next week, this should be complete by Monday evening</p>
</blockquote>



<a name="537954676"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954676" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954676">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537954780"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954780" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954780">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2325994639">PR review comment</a>:</p>
<blockquote>
<p>Debugging this: in my opinion the bug is that dropping a <code>request</code> resource does not properly close its stream handles. That's not currently possible, however, because during <code>drop</code> there's no access to the store. I made <a href="https://github.com/bytecodealliance/wasmtime/pull/11628">https://github.com/bytecodealliance/wasmtime/pull/11628</a> to fix this.</p>
</blockquote>



<a name="537954781"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954781" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954781">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326114756">PR review comment</a>:</p>
<blockquote>
<p>Could you comment this function to the purpose of <code>fut</code>? </p>
</blockquote>



<a name="537954782"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954782" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954782">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326108781">PR review comment</a>:</p>
<blockquote>
<p>I've debugged these three ignores and it's due to <a href="https://github.com/bytecodealliance/wasmtime/blob/a655cc19550c1381ea263ca3a1ec52c4bde53ff6/crates/test-programs/src/p3/http.rs#L101-L109">this code</a> needing to happen concurrently with <code>handler::handle</code> now instead of synchronously after. It's easy enough to lift that <code>async</code> block to the <code>join!</code> above except then it runs into the panic described in <a href="https://github.com/bytecodealliance/wasmtime/issues/11621">https://github.com/bytecodealliance/wasmtime/issues/11621</a> so these will have to wait for that to get fixed</p>
</blockquote>



<a name="537954783"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954783" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954783">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326129259">PR review comment</a>:</p>
<blockquote>
<p>Could this and <code>get</code> get removed in favor of the <code>Deref</code> impl?</p>
</blockquote>



<a name="537954784"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954784" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954784">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326128107">PR review comment</a>:</p>
<blockquote>
<p>Mind expanding the docs here to explain what this is used for? For example how headers are immutable when read from some locations but mutable in others. Regardless everything uses an <code>Arc</code> and exhibits copy-on-write behavior.</p>
</blockquote>



<a name="537954785"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954785" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954785">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326125208">PR review comment</a>:</p>
<blockquote>
<p>This may be preexisting with wasip2 as well, but I'm having a tough time piecing together what's going on here. Mind leaving some comments to what this is doing?</p>
</blockquote>



<a name="537954786"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954786" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954786">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326126785">PR review comment</a>:</p>
<blockquote>
<p>Could this use a <code>TrappableError</code> from the <code>wasmtime_wasi</code> crate like filesystem &amp; sockets?</p>
</blockquote>



<a name="537954787"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954787" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954787">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326142134">PR review comment</a>:</p>
<blockquote>
<p>This is one of the reasons I'm seeking more documentation on the various future parameters. This and below looks to be a very careful and particular dance with respect to various errors but I'm not really sure what's going on here in the abstract. I would hope that we can figure out a way to simplify this, but in lieu of that I'm hoping for more docs as to what's going on.</p>
</blockquote>



<a name="537954788"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954788" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954788">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326142826">PR review comment</a>:</p>
<blockquote>
<p>Is this <code>HttpResult::Ok(( ... ))?</code> still needed? (vs just "do the thing")</p>
</blockquote>



<a name="537954789"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954789" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954789">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326130324">PR review comment</a>:</p>
<blockquote>
<p>Could you expand the documentation here to include what the various layers of futures are and what their meaning is?</p>
</blockquote>



<a name="537954790"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954790" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954790">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326139381">PR review comment</a>:</p>
<blockquote>
<p>Technically this is a slightly dangerous <code>?</code> (and everything below before the body is consumed) because if the body is a guest body the resources won't get properly closed.</p>
<p>Would it make sense to lift the body construction all the way to the top here so that happens first?</p>
</blockquote>



<a name="537954791"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954791" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954791">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326146061">PR review comment</a>:</p>
<blockquote>
<p>Mind adding a small doc block here explaining what this is doing? The code is pretty self-explanatory but I still think it'd be good to have an intro</p>
</blockquote>



<a name="537954792"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954792" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954792">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#pullrequestreview-3190712979">PR review</a>:</p>
<blockquote>
<p>Ok I've gone over this and it looks good to me, thanks again @rvolosatovs!</p>
<p>I've left a bunch of comments below which I'd like to resolve at some point, but doesn't need to block. I'm going to flag this for merge and I'll file follow-ups.</p>
</blockquote>



<a name="537954793"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954793" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954793">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326147886">PR review comment</a>:</p>
<blockquote>
<p>If you'd like you can drop the <code>for&lt;'a&gt;</code> here and use <code>WasiHttpCtxView&lt;'_&gt;</code> at the end</p>
</blockquote>



<a name="537954794"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954794" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954794">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326144452">PR review comment</a>:</p>
<blockquote>
<p>I realize this is probably copied from wasip2, but could this <code>log::warn!</code> the error that's discarded here?</p>
</blockquote>



<a name="537954795"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954795" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954795">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326155880">PR review comment</a>:</p>
<blockquote>
<p>Is it possible to share this with <code>Request::consume_body</code> since it's more-or-less the same function?</p>
</blockquote>



<a name="537954796"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954796" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954796">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326149303">PR review comment</a>:</p>
<blockquote>
<p>Mind leaving some comments here (and in <code>is_end_stream</code>) about the state machine being managed here? Doesn't need to be too wordy but having headings to grasp on I think would be helpful</p>
</blockquote>



<a name="537954798"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954798" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954798">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326115756">PR review comment</a>:</p>
<blockquote>
<p>Like response below, could you comment this returned future here and with <code>new</code>?</p>
</blockquote>



<a name="537954799"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954799" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954799">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326158138">PR review comment</a>:</p>
<blockquote>
<p>Mind leaving some small comments in this function body to help navigate what the state machine is doing? (e.g. a ocmment explaining the signficance of each arm here and there)</p>
</blockquote>



<a name="537954800"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954800" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954800">(Sep 05 2025 at 22:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326115084">PR review comment</a>:</p>
<blockquote>
<p>Could you comment function as to what this future is?</p>
</blockquote>



<a name="537954808"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954808" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954808">(Sep 05 2025 at 22:24)</a>:</h4>
<p><strong>alexcrichton</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a> as ready for review.</p>



<a name="537954811"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954811" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954811">(Sep 05 2025 at 22:24)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-wasi-reviewers">wasmtime-wasi-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537954812"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954812" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954812">(Sep 05 2025 at 22:24)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/dicej">dicej</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537954813"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954813" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954813">(Sep 05 2025 at 22:24)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537954815"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954815" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954815">(Sep 05 2025 at 22:24)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537954904"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537954904" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537954904">(Sep 05 2025 at 22:25)</a>:</h4>
<p>alexcrichton has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="537979797"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537979797" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537979797">(Sep 06 2025 at 06:25)</a>:</h4>
<p>rvolosatovs submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#pullrequestreview-3191632073">PR review</a>.</p>



<a name="537979798"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/537979798" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#537979798">(Sep 06 2025 at 06:25)</a>:</h4>
<p>rvolosatovs created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2326576061">PR review comment</a>:</p>
<blockquote>
<p>There's currently no <code>Content-Length</code> header handling, so I would not modify this test until that's implemented in the host.</p>
</blockquote>



<a name="538107290"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/538107290" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#538107290">(Sep 07 2025 at 21:43)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="538107303"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/538107303" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#538107303">(Sep 07 2025 at 21:43)</a>:</h4>
<p>alexcrichton has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="538110967"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/538110967" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#538110967">(Sep 07 2025 at 23:08)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<a name="538240132"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/538240132" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#538240132">(Sep 08 2025 at 14:23)</a>:</h4>
<p>rvolosatovs submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#pullrequestreview-3196788415">PR review</a>.</p>



<a name="538240138"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/538240138" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#538240138">(Sep 08 2025 at 14:23)</a>:</h4>
<p>rvolosatovs created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2330418488">PR review comment</a>:</p>
<blockquote>
<p>I forgot to port the test response streaming, which I've done in wasip3-prototyping precisely to fix this. I think it's useful to specifically test the fact that <code>handle</code> returns before response body are streamed, so I'd rather not rearrange the <code>join!</code>.</p>
<p>This is fixed in <a href="https://github.com/bytecodealliance/wasmtime/pull/11636">https://github.com/bytecodealliance/wasmtime/pull/11636</a></p>
</blockquote>



<a name="538240207"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/538240207" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#538240207">(Sep 08 2025 at 14:23)</a>:</h4>
<p>rvolosatovs created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2330419443">PR review comment</a>:</p>
<blockquote>
<p>Exactly, I've used the feature you've added to fix it in <a href="https://github.com/bytecodealliance/wasmtime/pull/11636">https://github.com/bytecodealliance/wasmtime/pull/11636</a></p>
</blockquote>



<a name="538240208"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/538240208" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#538240208">(Sep 08 2025 at 14:23)</a>:</h4>
<p>rvolosatovs submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#pullrequestreview-3196789668">PR review</a>.</p>



<a name="538240711"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/538240711" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#538240711">(Sep 08 2025 at 14:25)</a>:</h4>
<p>rvolosatovs created <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#discussion_r2330424973">PR review comment</a>:</p>
<blockquote>
<p>I'm not sure that's a good idea for this particular one, since that would require exposing the <code>HttpError</code> to embedders and they'd need to handle the <code>trap</code> case themselves.</p>
<p>While this signature is definitely not ideal, IMO it's clearer and it aligns with what <code>call_handle</code> would otherwise return if called directly</p>
</blockquote>



<a name="538240712"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/538240712" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#538240712">(Sep 08 2025 at 14:25)</a>:</h4>
<p>rvolosatovs submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11440#pullrequestreview-3196797176">PR review</a>.</p>



<a name="538468748"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311440%20feat%28p3%29%3A%20implement%20%60wasi%3Ahttp%60/near/538468748" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311440.20feat.28p3.29.3A.20implement.20.60wasi.3Ahttp.60.html#538468748">(Sep 09 2025 at 15:43)</a>:</h4>
<p>rvolosatovs assigned rvolosatovs to <a href="https://github.com/bytecodealliance/wasmtime/pull/11440">PR #11440</a>.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>