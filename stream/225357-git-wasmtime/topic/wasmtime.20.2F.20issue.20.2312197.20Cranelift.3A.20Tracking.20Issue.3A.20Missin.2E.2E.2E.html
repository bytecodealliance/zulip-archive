<html>
<head><meta charset="utf-8"><title>wasmtime / issue #12197 Cranelift: Tracking Issue: Missin... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html">wasmtime / issue #12197 Cranelift: Tracking Issue: Missin...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="564944033"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/564944033" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#564944033">(Dec 22 2025 at 07:00)</a>:</h4>
<p>abc767234318 opened <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">issue #12197</a>:</p>
<blockquote>
<p>As suggested in #12171 , I am aggregating the missing lowering rules and internal errors I've encountered into a single tracking issue. I will update this list as I discover more cases.</p>
<h3>X86_64</h3>
<ul>
<li>
<p>[ ] <strong><code>vany_ture</code> with <code>i8x16</code> args</strong> (Panic: <code>no rule matched for term bitcast_gpr_to_xmm</code>)<br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; i8 fast {</p>
<p>block0:<br>
      v4 = iconst.i8 -29<br>
      v23 = scalar_to_vector.i8x16 v4  ; v4 = -29<br>
      v49 = vany_true v23<br>
      return v49<br>
  }</p>
<p>; print: %main()</p>
</li>
<li>
<p>[ ] <strong><code>sadd_sat</code> / <code>usub_sat</code> with <code>i64x2</code> / <code>i32x4</code> operands</strong><br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; i64x2 fast {<br>
      const0 = 0x7fffffffffffffff04621ba7d10dbff0<br>
  block0:<br>
      v13 = vconst.i64x2 const0<br>
      v21 = sadd_sat.i64x2 v13, v13  <br>
      return v21<br>
  }</p>
<p>; print: %main()</p>
</li>
<li>
<p>[ ] <strong><code>uunarrow</code> with <code>i64x2</code> operands</strong><br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; i32x4 {<br>
      const0 = 0x7e2ac3193c260db87e307092f0285f4c<br>
  block0:<br>
      v0 = vconst.f64x2 const0<br>
      v1 = fcvt_to_uint_sat.i64x2 v0<br>
      v2= vconst.i64x2 [1 1]<br>
      v3 = uunarrow v1, v2</p>
<div class="codehilite"><pre><span></span><code>  jump block1
</code></pre></div>

<p>block1:<br>
      return v3  <br>
  }</p>
<p>; print: %main()</p>
</li>
</ul>
<h3>aarch64</h3>
<ul>
<li>
<p>[ ] <strong><code>band_not</code> with <code>f64</code> args</strong> (Panic: <code>thread 'main' panicked at cranelift/codegen/src/isa/aarch64/inst/emit.rs:97:5: assertion ``left == right`` failed</code>)<br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; f64 fast {</p>
<p>block0:<br>
      v2 = f64const 0.0<br>
      v5 = iconst.i32 -428912370<br>
      v11 = f64const 0x1.fffffffffffffp1023<br>
      v22 = iconst.i32 0<br>
      v39 = band_not v11, v2  ; v11 = 0x1.fffffffffffffp1023, v2 = 0.0<br>
      return v39<br>
  }</p>
<p>; print: %main()</p>
</li>
</ul>
<h3>S390x</h3>
<ul>
<li>
<p>[ ] <strong><code>bxor</code> with <code>f32</code> and <code>f64</code> block args</strong> (Panic: <code>no rule matched for term aluop_xor</code>)<br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt;  f64 fast {</p>
<p>block0:<br>
      v10 = f32const -0x1.fffffep127<br>
      v11 = f64const 0x1.20365be59651ap996</p>
<div class="codehilite"><pre><span></span><code>  v21 = bxor v11, v11  ; v11 = 0x1.20365be59651ap996, v11 = 0x1.20365be59651ap996
  v65 = iconst.i32 0
  return  v21
</code></pre></div>

<p>}</p>
</li>
</ul>
</blockquote>



<a name="564944034"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/564944034" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#564944034">(Dec 22 2025 at 07:00)</a>:</h4>
<p><a href="https://github.com/abc767234318">abc767234318</a> added the bug label to <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">Issue #12197</a>.</p>



<a name="564944035"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/564944035" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#564944035">(Dec 22 2025 at 07:00)</a>:</h4>
<p><a href="https://github.com/abc767234318">abc767234318</a> added the cranelift label to <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">Issue #12197</a>.</p>



<a name="565035993"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/565035993" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#565035993">(Dec 22 2025 at 16:27)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> added the cranelift:area:aarch64 label to <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">Issue #12197</a>.</p>



<a name="565035994"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/565035994" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#565035994">(Dec 22 2025 at 16:27)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> added the cranelift:area:x86 label to <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">Issue #12197</a>.</p>



<a name="565035995"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/565035995" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#565035995">(Dec 22 2025 at 16:27)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> added the cranelift:area:s390x label to <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">Issue #12197</a>.</p>



<a name="565182916"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/565182916" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#565182916">(Dec 23 2025 at 16:29)</a>:</h4>
<p>jgraef <a href="https://github.com/bytecodealliance/wasmtime/issues/12197#issuecomment-3687241591">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">issue #12197</a>:</p>
<blockquote>
<p><code>insertlane</code> on <code>i32x2</code> returns an error as well:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">implemented</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">ISLE</span><span class="p">:</span><span class="w"> </span><span class="nc">inst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">`</span><span class="n">v5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">insertlane</span><span class="p">.</span><span class="n">i32x2</span><span class="w"> </span><span class="n">v4</span><span class="p">,</span><span class="w"> </span><span class="n">v3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="err">`</span><span class="p">,</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">`</span><span class="nb">Some</span><span class="p">(</span><span class="n">types</span><span class="p">::</span><span class="n">I32X2</span><span class="p">)</span><span class="err">`</span>
</code></pre></div>
<p>&lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">function</span><span class="w"> </span><span class="o">%</span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">f32x4</span><span class="p">,</span><span class="w"> </span><span class="n">i32x2</span><span class="w"> </span><span class="n">system_v</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ss0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">explicit_slot</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">align</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="n">ss1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">explicit_slot</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">align</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>

<span class="n">block0</span><span class="p">:</span>
<span class="w">    </span><span class="nc">v0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iconst</span><span class="p">.</span><span class="kt">i32</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">stack_store</span><span class="w"> </span><span class="n">v0</span><span class="p">,</span><span class="w"> </span><span class="n">ss0</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iconst</span><span class="p">.</span><span class="kt">i32</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="n">stack_store</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">ss1</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stack_load</span><span class="p">.</span><span class="kt">i32</span><span class="w"> </span><span class="n">ss0</span>
<span class="w">    </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stack_load</span><span class="p">.</span><span class="kt">i32</span><span class="w"> </span><span class="n">ss1</span>
<span class="w">    </span><span class="n">v4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">splat</span><span class="p">.</span><span class="n">i32x2</span><span class="w"> </span><span class="n">v2</span>
<span class="w">    </span><span class="n">v5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">insertlane</span><span class="w"> </span><span class="n">v4</span><span class="p">,</span><span class="w"> </span><span class="n">v3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">v6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f32const</span><span class="w"> </span><span class="mf">0.0</span>
<span class="w">    </span><span class="n">v7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">splat</span><span class="p">.</span><span class="n">f32x4</span><span class="w"> </span><span class="n">v6</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">v6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v7</span><span class="p">,</span><span class="w"> </span><span class="n">v5</span>
<span class="p">}</span>
</code></pre></div>
<p>&lt;/details&gt;<br>
</p>
</blockquote>



<a name="565185748"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/565185748" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#565185748">(Dec 23 2025 at 16:46)</a>:</h4>
<p>jgraef edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/12197#issuecomment-3687241591">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">issue #12197</a>:</p>
<blockquote>
<p><code>insertlane</code> on <code>i32x2</code> returns an error as well:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">implemented</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">ISLE</span><span class="p">:</span><span class="w"> </span><span class="nc">inst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">`</span><span class="n">v5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">insertlane</span><span class="p">.</span><span class="n">i32x2</span><span class="w"> </span><span class="n">v4</span><span class="p">,</span><span class="w"> </span><span class="n">v3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="err">`</span><span class="p">,</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">`</span><span class="nb">Some</span><span class="p">(</span><span class="n">types</span><span class="p">::</span><span class="n">I32X2</span><span class="p">)</span><span class="err">`</span>
</code></pre></div>
<p>&lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">function</span><span class="w"> </span><span class="o">%</span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">f32x4</span><span class="p">,</span><span class="w"> </span><span class="n">i32x2</span><span class="w"> </span><span class="n">system_v</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ss0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">explicit_slot</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">align</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="n">ss1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">explicit_slot</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">align</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>

<span class="n">block0</span><span class="p">:</span>
<span class="w">    </span><span class="nc">v0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iconst</span><span class="p">.</span><span class="kt">i32</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">stack_store</span><span class="w"> </span><span class="n">v0</span><span class="p">,</span><span class="w"> </span><span class="n">ss0</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iconst</span><span class="p">.</span><span class="kt">i32</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="n">stack_store</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">ss1</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stack_load</span><span class="p">.</span><span class="kt">i32</span><span class="w"> </span><span class="n">ss0</span>
<span class="w">    </span><span class="n">v3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stack_load</span><span class="p">.</span><span class="kt">i32</span><span class="w"> </span><span class="n">ss1</span>
<span class="w">    </span><span class="n">v4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">splat</span><span class="p">.</span><span class="n">i32x2</span><span class="w"> </span><span class="n">v2</span>
<span class="w">    </span><span class="n">v5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">insertlane</span><span class="w"> </span><span class="n">v4</span><span class="p">,</span><span class="w"> </span><span class="n">v3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">v6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f32const</span><span class="w"> </span><span class="mf">0.0</span>
<span class="w">    </span><span class="n">v7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">splat</span><span class="p">.</span><span class="n">f32x4</span><span class="w"> </span><span class="n">v6</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">v6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v7</span><span class="p">,</span><span class="w"> </span><span class="n">v5</span>
<span class="p">}</span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>Edit: error occurs when compiling to <code>x86_64</code></p>
</blockquote>



<a name="565204785"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/565204785" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#565204785">(Dec 23 2025 at 19:39)</a>:</h4>
<p>theotherjimmy <a href="https://github.com/bytecodealliance/wasmtime/issues/12197#issuecomment-3687778494">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">issue #12197</a>:</p>
<blockquote>
<p>I'll handle the s390x panic. Thanks for the reproducer.</p>
</blockquote>



<a name="565206908"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/565206908" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#565206908">(Dec 23 2025 at 20:01)</a>:</h4>
<p>theotherjimmy edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/12197#issuecomment-3687778494">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">issue #12197</a>:</p>
<blockquote>
<p>I'll handle the s390x panic. Thanks for the reproducer. I noticed that the reproducer actually does not use v10 at all, using v11 only</p>
<hr>
<p>It looks like this affects all binary operations on floating point numbers. I was able to get almost the same failure with the following combinations:</p>
<ul>
<li>F64 &amp; F64</li>
<li>F32 xor F32</li>
<li>F64 | F64<br>
I think this will be a bit more of a lift, since these operations require moving the floating point numbers into GPRs, then moving the result back.</li>
</ul>
</blockquote>



<a name="565206961"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/565206961" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#565206961">(Dec 23 2025 at 20:01)</a>:</h4>
<p>theotherjimmy edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/12197#issuecomment-3687778494">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">issue #12197</a>:</p>
<blockquote>
<p>I'll handle the s390x panic. Thanks for the reproducer. I noticed that the reproducer actually does not use v10 at all, using v11 only</p>
<hr>
<p>It looks like this affects all binary operations on floating point numbers. I was able to get almost the same failure with the following combinations:</p>
<ul>
<li>F64 &amp; F64</li>
<li>F32 xor F32</li>
<li>F64 | F64</li>
<li>! F64<br>
I think this will be a bit more of a lift, since these operations require moving the floating point numbers into GPRs, then moving the result back.</li>
</ul>
</blockquote>



<a name="565206973"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/565206973" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#565206973">(Dec 23 2025 at 20:01)</a>:</h4>
<p>theotherjimmy edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/12197#issuecomment-3687778494">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">issue #12197</a>:</p>
<blockquote>
<p>I'll handle the s390x panic. Thanks for the reproducer. I noticed that the reproducer actually does not use v10 at all, using v11 only</p>
<hr>
<p>It looks like this affects all binary operations on floating point numbers. I was able to get almost the same failure with the following combinations:</p>
<ul>
<li>F64 &amp; F64</li>
<li>F32 xor F32</li>
<li>F64 | F64</li>
<li>! F64</li>
</ul>
<p>I think this will be a bit more of a lift, since these operations require moving the floating point numbers into GPRs, then moving the result back.</p>
</blockquote>



<a name="565207152"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/565207152" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#565207152">(Dec 23 2025 at 20:04)</a>:</h4>
<p>theotherjimmy edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/12197#issuecomment-3687778494">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">issue #12197</a>:</p>
<blockquote>
<p>I'll handle the s390x panic. Thanks for the reproducer. I noticed that the reproducer actually does not use v10 at all, using v11 only</p>
<hr>
<p>It looks like this affects all binary operations on floating point numbers. I was able to get almost the same failure with the following combinations:</p>
<ul>
<li>F64 &amp; F64</li>
<li>F32 xor F32</li>
<li>F64 | F64</li>
<li>! F64</li>
</ul>
<p>That implies that the following reproducer would be simpler:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">function</span><span class="w"> </span><span class="o">%</span><span class="n">bnot_f32</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="kt">f32</span><span class="w"> </span><span class="nc">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">:</span>
<span class="w">  </span><span class="nc">v10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f32const</span><span class="w"> </span><span class="o">-</span><span class="mh">0x1</span><span class="p">.</span><span class="n">fffffep127</span>
<span class="w">  </span><span class="n">v21</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bnot</span><span class="w"> </span><span class="n">v10</span>
<span class="w">  </span><span class="k">return</span><span class="w">  </span><span class="n">v21</span>
<span class="p">}</span>
</code></pre></div>
<p>I think this will be a bit more of a lift, since these operations require moving the floating point numbers into GPRs, then moving the result back.</p>
</blockquote>



<a name="565207237"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/565207237" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#565207237">(Dec 23 2025 at 20:04)</a>:</h4>
<p>theotherjimmy edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/12197#issuecomment-3687778494">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">issue #12197</a>:</p>
<blockquote>
<p>I'll handle the s390x panic. Thanks for the reproducer. I noticed that the reproducer actually does not use v10 at all, using v11 only</p>
<hr>
<p>It looks like this affects all binary operations on floating point numbers. I was able to get almost the same failure with the following combinations:</p>
<ul>
<li>F64 &amp; F64</li>
<li>F32 xor F32</li>
<li>F64 | F64</li>
<li>! F64</li>
</ul>
<p>That implies that the following reproducer would be simpler:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">function</span><span class="w"> </span><span class="o">%</span><span class="n">bnot_f32</span><span class="p">(</span><span class="kt">f32</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="kt">f32</span><span class="w"> </span><span class="nc">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span><span class="p">:</span><span class="w"> </span><span class="kt">f32</span><span class="p">):</span>
<span class="w">  </span><span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bnot</span><span class="w"> </span><span class="n">v0</span>
<span class="w">  </span><span class="k">return</span><span class="w">  </span><span class="n">v1</span>
<span class="p">}</span>
</code></pre></div>
<p>I think this will be a bit more of a lift, since these operations require moving the floating point numbers into GPRs, then moving the result back.</p>
</blockquote>



<a name="565207735"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/565207735" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#565207735">(Dec 23 2025 at 20:11)</a>:</h4>
<p>theotherjimmy edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/12197#issuecomment-3687778494">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">issue #12197</a>:</p>
<blockquote>
<p>I'll handle the s390x panic. Thanks for the reproducer. I noticed that the reproducer actually does not use v10 at all, using v11 only</p>
<hr>
<p>It looks like this affects all binary operations on floating point numbers. I was able to get almost the same failure with the following combinations:</p>
<ul>
<li>F64 &amp; F64</li>
<li>F32 xor F32</li>
<li>F64 | F64</li>
<li>! F64</li>
</ul>
<p>That implies that the following reproducer would be simpler:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">function</span><span class="w"> </span><span class="o">%</span><span class="n">bnot_f32</span><span class="p">(</span><span class="kt">f32</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="kt">f32</span><span class="w"> </span><span class="nc">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span><span class="p">:</span><span class="w"> </span><span class="kt">f32</span><span class="p">):</span>
<span class="w">  </span><span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bnot</span><span class="w"> </span><span class="n">v0</span>
<span class="w">  </span><span class="k">return</span><span class="w">  </span><span class="n">v1</span>
<span class="p">}</span>
</code></pre></div>
<p>I think this will be a bit more of a lift, since these operations require moving the floating point numbers into GPRs, then moving the result back. Alternatively, it's possible to use the lower 16 vector register aliases with vector bit operations to avoid the moves. Making use of the floating point-vector register overlay would require that the register allocator to understand that this happens. Is this the case?</p>
</blockquote>



<a name="565511536"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/565511536" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#565511536">(Dec 27 2025 at 13:34)</a>:</h4>
<p>abc767234318 edited <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">issue #12197</a>:</p>
<blockquote>
<p>As suggested in #12171 , I am aggregating the missing lowering rules and internal errors I've encountered into a single tracking issue. I will update this list as I discover more cases.</p>
<h3>X86_64</h3>
<ul>
<li>
<p>[ ] <strong><code>vany_ture</code> with <code>i8x16</code> args</strong> (Panic: <code>no rule matched for term bitcast_gpr_to_xmm</code>)<br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; i8 fast {</p>
<p>block0:<br>
      v4 = iconst.i8 -29<br>
      v23 = scalar_to_vector.i8x16 v4  ; v4 = -29<br>
      v49 = vany_true v23<br>
      return v49<br>
  }</p>
<p>; print: %main()</p>
</li>
<li>
<p>[ ] <strong><code>sadd_sat</code> / <code>uadd_sat</code>/<code>usub_sat</code>/<code>ssub_sat</code> with <code>i64x2</code> / <code>i32x4</code> operands</strong><br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; i64x2 fast {<br>
      const0 = 0x7fffffffffffffff04621ba7d10dbff0<br>
  block0:<br>
      v13 = vconst.i64x2 const0<br>
      v21 = sadd_sat.i64x2 v13, v13  <br>
      return v21<br>
  }</p>
<p>; print: %main()</p>
</li>
<li>
<p>[ ] <strong><code>uunarrow</code> with <code>i64x2</code> operands</strong><br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; i32x4 {<br>
      const0 = 0x7e2ac3193c260db87e307092f0285f4c<br>
  block0:<br>
      v0 = vconst.f64x2 const0<br>
      v1 = fcvt_to_uint_sat.i64x2 v0<br>
      v2= vconst.i64x2 [1 1]<br>
      v3 = uunarrow v1, v2</p>
<div class="codehilite"><pre><span></span><code>  jump block1
</code></pre></div>

<p>block1:<br>
      return v3  <br>
  }</p>
<p>; print: %main()</p>
</li>
</ul>
<h3>aarch64</h3>
<ul>
<li>
<p>[ ] <strong><code>band_not</code> with <code>f64</code> args</strong> (Panic: <code>thread 'main' panicked at cranelift/codegen/src/isa/aarch64/inst/emit.rs:97:5: assertion ``left == right`` failed</code>)<br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; f64 fast {</p>
<p>block0:<br>
      v2 = f64const 0.0<br>
      v5 = iconst.i32 -428912370<br>
      v11 = f64const 0x1.fffffffffffffp1023<br>
      v22 = iconst.i32 0<br>
      v39 = band_not v11, v2  ; v11 = 0x1.fffffffffffffp1023, v2 = 0.0<br>
      return v39<br>
  }</p>
<p>; print: %main()</p>
</li>
</ul>
<h3>S390x</h3>
<ul>
<li>
<p>[ ] <strong><code>bxor</code> with <code>f32</code> and <code>f64</code> block args</strong> (Panic: <code>no rule matched for term aluop_xor</code>)<br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt;  f64 fast {</p>
<p>block0:<br>
      v10 = f32const -0x1.fffffep127<br>
      v11 = f64const 0x1.20365be59651ap996</p>
<div class="codehilite"><pre><span></span><code>  v21 = bxor v11, v11  ; v11 = 0x1.20365be59651ap996, v11 = 0x1.20365be59651ap996
  v65 = iconst.i32 0
  return  v21
</code></pre></div>

<p>}</p>
</li>
</ul>
</blockquote>



<a name="566939167"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/566939167" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#566939167">(Jan 08 2026 at 13:16)</a>:</h4>
<p>theotherjimmy <a href="https://github.com/bytecodealliance/wasmtime/issues/12197#issuecomment-3723840232">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">issue #12197</a>:</p>
<blockquote>
<p>s390x issue fixed in #12232 , can we remove the s390x tag? or is there something else needed?</p>
</blockquote>



<a name="566969681"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/566969681" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#566969681">(Jan 08 2026 at 15:25)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> removed the cranelift:area:s390x label from <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">Issue #12197</a>.</p>



<a name="570510225"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/570510225" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#570510225">(Jan 28 2026 at 09:43)</a>:</h4>
<p>abc767234318 edited <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">issue #12197</a>:</p>
<blockquote>
<p>As suggested in #12171 , I am aggregating the missing lowering rules and internal errors I've encountered into a single tracking issue. I will update this list as I discover more cases.</p>
<h3>X86_64</h3>
<ul>
<li>
<p>[ ] <strong><code>vany_ture</code> with <code>i8x16</code> args</strong> (Panic: <code>no rule matched for term bitcast_gpr_to_xmm</code>)<br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; i8 fast {</p>
<p>block0:<br>
      v4 = iconst.i8 -29<br>
      v23 = scalar_to_vector.i8x16 v4  ; v4 = -29<br>
      v49 = vany_true v23<br>
      return v49<br>
  }</p>
<p>; print: %main()</p>
</li>
<li>
<p>[ ] <strong><code>sadd_sat</code> / <code>uadd_sat</code>/<code>usub_sat</code>/<code>ssub_sat</code> with <code>i64x2</code> / <code>i32x4</code> operands</strong><br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; i64x2 fast {<br>
      const0 = 0x7fffffffffffffff04621ba7d10dbff0<br>
  block0:<br>
      v13 = vconst.i64x2 const0<br>
      v21 = sadd_sat.i64x2 v13, v13  <br>
      return v21<br>
  }</p>
<p>; print: %main()</p>
</li>
<li>
<p>[ ] <strong><code>uunarrow</code> with <code>i64x2</code> operands</strong><br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; i32x4 {<br>
      const0 = 0x7e2ac3193c260db87e307092f0285f4c<br>
  block0:<br>
      v0 = vconst.f64x2 const0<br>
      v1 = fcvt_to_uint_sat.i64x2 v0<br>
      v2= vconst.i64x2 [1 1]<br>
      v3 = uunarrow v1, v2</p>
<div class="codehilite"><pre><span></span><code>  jump block1
</code></pre></div>

<p>block1:<br>
      return v3  <br>
  }</p>
<p>; print: %main()</p>
</li>
</ul>
<h3>aarch64</h3>
<ul>
<li>
<p>[ ] <strong><code>band_not</code> with <code>f64</code> args</strong> (Panic: <code>thread 'main' panicked at cranelift/codegen/src/isa/aarch64/inst/emit.rs:97:5: assertion ``left == right`` failed</code>)<br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; f64 fast {</p>
<p>block0:<br>
      v2 = f64const 0.0<br>
      v5 = iconst.i32 -428912370<br>
      v11 = f64const 0x1.fffffffffffffp1023<br>
      v22 = iconst.i32 0<br>
      v39 = band_not v11, v2  ; v11 = 0x1.fffffffffffffp1023, v2 = 0.0<br>
      return v39<br>
  }</p>
<p>; print: %main()</p>
</li>
<li>
<p>[ ] <strong><code>vhigh_bits</code> with <code>f32x4</code> args</strong> (Panic: <code>should be implemented in ISLE: inst = </code>v2 = vhigh_bits.i64 v1  ; v1 = const0<code>, type = </code>Some(types::I64)``)<br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
 function %main() -&gt; i64 fast {<br>
    const0 = 0x0ad2e8b00a928acaf0edab5180000000<br>
block0:<br>
    v1 = vconst.f32x4 const0<br>
    v2 = vhigh_bits.i64 v1<br>
    return v2<br>
}</p>
<p>; print: %main()</p>
</li>
</ul>
<h3>S390x</h3>
<ul>
<li>
<p>[ ] <strong><code>bxor</code> with <code>f32</code> and <code>f64</code> block args</strong> (Panic: <code>no rule matched for term aluop_xor</code>)<br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt;  f64 fast {</p>
<p>block0:<br>
      v10 = f32const -0x1.fffffep127<br>
      v11 = f64const 0x1.20365be59651ap996</p>
<div class="codehilite"><pre><span></span><code>  v21 = bxor v11, v11  ; v11 = 0x1.20365be59651ap996, v11 = 0x1.20365be59651ap996
  v65 = iconst.i32 0
  return  v21
</code></pre></div>

<p>}</p>
</li>
</ul>
</blockquote>



<a name="570518373"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312197%20Cranelift%3A%20Tracking%20Issue%3A%20Missin.../near/570518373" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312197.20Cranelift.3A.20Tracking.20Issue.3A.20Missin.2E.2E.2E.html#570518373">(Jan 28 2026 at 10:22)</a>:</h4>
<p>abc767234318 edited <a href="https://github.com/bytecodealliance/wasmtime/issues/12197">issue #12197</a>:</p>
<blockquote>
<p>As suggested in #12171 , I am aggregating the missing lowering rules and internal errors I've encountered into a single tracking issue. I will update this list as I discover more cases.</p>
<h3>X86_64</h3>
<ul>
<li>
<p>[ ] <strong><code>vany_ture</code> with <code>i8x16</code> args</strong> (Panic: <code>no rule matched for term bitcast_gpr_to_xmm</code>)<br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; i8 fast {</p>
<p>block0:<br>
      v4 = iconst.i8 -29<br>
      v23 = scalar_to_vector.i8x16 v4  ; v4 = -29<br>
      v49 = vany_true v23<br>
      return v49<br>
  }</p>
<p>; print: %main()</p>
</li>
<li>
<p>[ ] <strong><code>sadd_sat</code> / <code>uadd_sat</code>/<code>usub_sat</code>/<code>ssub_sat</code> with <code>i64x2</code> / <code>i32x4</code> operands</strong><br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; i64x2 fast {<br>
      const0 = 0x7fffffffffffffff04621ba7d10dbff0<br>
  block0:<br>
      v13 = vconst.i64x2 const0<br>
      v21 = sadd_sat.i64x2 v13, v13  <br>
      return v21<br>
  }</p>
<p>; print: %main()</p>
</li>
<li>
<p>[ ] <strong><code>uunarrow</code> with <code>i64x2</code> operands</strong><br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; i32x4 {<br>
      const0 = 0x7e2ac3193c260db87e307092f0285f4c<br>
  block0:<br>
      v0 = vconst.f64x2 const0<br>
      v1 = fcvt_to_uint_sat.i64x2 v0<br>
      v2= vconst.i64x2 [1 1]<br>
      v3 = uunarrow v1, v2</p>
<div class="codehilite"><pre><span></span><code>  jump block1
</code></pre></div>

<p>block1:<br>
      return v3  <br>
  }</p>
<p>; print: %main()</p>
</li>
</ul>
<h3>aarch64</h3>
<ul>
<li>
<p>[ ] <strong><code>band_not</code> with <code>f64</code> args</strong> (Panic: <code>thread 'main' panicked at cranelift/codegen/src/isa/aarch64/inst/emit.rs:97:5: assertion ``left == right`` failed</code>)<br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt; f64 fast {</p>
<p>block0:<br>
      v2 = f64const 0.0<br>
      v5 = iconst.i32 -428912370<br>
      v11 = f64const 0x1.fffffffffffffp1023<br>
      v22 = iconst.i32 0<br>
      v39 = band_not v11, v2  ; v11 = 0x1.fffffffffffffp1023, v2 = 0.0<br>
      return v39<br>
  }</p>
<p>; print: %main()</p>
</li>
<li>
<p>[ ] <strong><code>vhigh_bits</code> with <code>f32x4</code> args</strong> (Panic: <code>should be implemented in ISLE: inst = `v2 = vhigh_bits.i64 v1  ; v1 = const0`, type = `Some(types::I64)</code>)``<br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
 function %main() -&gt; i64 fast {<br>
    const0 = 0x0ad2e8b00a928acaf0edab5180000000<br>
block0:<br>
    v1 = vconst.f32x4 const0<br>
    v2 = vhigh_bits.i64 v1<br>
    return v2<br>
}</p>
<p>; print: %main()</p>
</li>
</ul>
<h3>RISCV64</h3>
<ul>
<li>
<p>[ ] <strong><code>select_spectre_guard</code> with <code>i8x16</code> args</strong> (Panic: <code>should be implemented in ISLE: inst = `v4 = select_spectre_guard.i8x16 v1, v2, v3`)</code><br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
function %main() -&gt; i8x16 fast {<br>
    const0 = 0x00091ff3e51211e7f6fe0f1d04f71bf4<br>
    const1 = 0xe4f009ffe2e8f01ef5f0faf40401e014<br>
block0:<br>
    v1 = iconst.i64 0x7fff_ffff_ffff_ffff<br>
    v2 = vconst.i8x16 const0<br>
    v3 = vconst.i8x16 const1<br>
    v4 = select_spectre_guard.i8x16 v1, v2, v3<br>
    return v4<br>
}</p>
<p>; print: %main()</p>
</li>
</ul>
<h3>S390x</h3>
<ul>
<li>
<p>[ ] <strong><code>bxor</code> with <code>f32</code> and <code>f64</code> block args</strong> (Panic: <code>no rule matched for term aluop_xor</code>)<br>
  &lt;details&gt;<br>
  &lt;summary&gt;Click to view reproduction (.clif)&lt;/summary&gt;</p>
<p>```clif<br>
  function %main() -&gt;  f64 fast {</p>
<p>block0:<br>
      v10 = f32const -0x1.fffffep127<br>
      v11 = f64const 0x1.20365be59651ap996</p>
<div class="codehilite"><pre><span></span><code>  v21 = bxor v11, v11  ; v11 = 0x1.20365be59651ap996, v11 = 0x1.20365be59651ap996
  v65 = iconst.i32 0
  return  v21
</code></pre></div>

<p>}</p>
</li>
</ul>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>