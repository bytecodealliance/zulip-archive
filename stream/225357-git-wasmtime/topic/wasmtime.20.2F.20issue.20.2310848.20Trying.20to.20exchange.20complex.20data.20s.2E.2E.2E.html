<html>
<head><meta charset="utf-8"><title>wasmtime / issue #10848 Trying to exchange complex data s... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310848.20Trying.20to.20exchange.20complex.20data.20s.2E.2E.2E.html">wasmtime / issue #10848 Trying to exchange complex data s...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="520819943"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310848%20Trying%20to%20exchange%20complex%20data%20s.../near/520819943" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310848.20Trying.20to.20exchange.20complex.20data.20s.2E.2E.2E.html#520819943">(May 28 2025 at 07:14)</a>:</h4>
<p>HillOfTong opened <a href="https://github.com/bytecodealliance/wasmtime/issues/10848">issue #10848</a>:</p>
<blockquote>
<p>I'm not sure the best place to ask this type of question. If it's no, just let me know where and I'll ask there.</p>
<p>I am trying to use WASM in my Cpp project and i found this project wasmtime. And in my project, I plan to use rust to write WSAM code.<br>
There are some questions:</p>
<ol>
<li>How to define Memory type, Table type in rust which used in test wat files. There's only WAT file used in test case.</li>
<li>If i can't define Memory type, Table type in rust. Is there a approach to exchange complex struct between cpp and rust? I noticed that it seems the only way is to copy (byte by byte) data between WSAM liner memory and cpp memory. </li>
</ol>
</blockquote>



<a name="520827938"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310848%20Trying%20to%20exchange%20complex%20data%20s.../near/520827938" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310848.20Trying.20to.20exchange.20complex.20data.20s.2E.2E.2E.html#520827938">(May 28 2025 at 08:02)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/10848#issuecomment-2915363541">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10848">issue #10848</a>:</p>
<blockquote>
<p>Using the wasm component model would be the canonical answer. I'm not sure if Wasmtime supports using it directly from C++ already though: <a href="https://github.com/bytecodealliance/wasmtime/issues/8036">https://github.com/bytecodealliance/wasmtime/issues/8036</a></p>
</blockquote>



<a name="520916823"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310848%20Trying%20to%20exchange%20complex%20data%20s.../near/520916823" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310848.20Trying.20to.20exchange.20complex.20data.20s.2E.2E.2E.html#520916823">(May 28 2025 at 15:10)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/10848">issue #10848</a>:</p>
<blockquote>
<p>I'm not sure the best place to ask this type of question. If it's no, just let me know where and I'll ask there.</p>
<p>I am trying to use WASM in my Cpp project and i found this project wasmtime. And in my project, I plan to use rust to write WSAM code.<br>
There are some questions:</p>
<ol>
<li>How to define Memory type, Table type in rust which used in test wat files. There's only WAT file used in test case.</li>
<li>If i can't define Memory type, Table type in rust. Is there a approach to exchange complex struct between cpp and rust? I noticed that it seems the only way is to copy (byte by byte) data between WSAM liner memory and cpp memory. </li>
</ol>
</blockquote>



<a name="520916824"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310848%20Trying%20to%20exchange%20complex%20data%20s.../near/520916824" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310848.20Trying.20to.20exchange.20complex.20data.20s.2E.2E.2E.html#520916824">(May 28 2025 at 15:10)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/10848#issuecomment-2916708985">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10848">issue #10848</a>:</p>
<blockquote>
<p>Indeed yes the answer to this is the component model. Work is <a href="https://github.com/bytecodealliance/wasmtime/issues?q=is%3Apr+author%3AMangoPeachGrape">ongoing</a> to expose a C API for the component model, and if you're up for it building out the C++ headers that use the C API I think would be reasonable as well, that's not been done yet.</p>
<p>Otherwise also of note is that linear memory languages like Rust do not have direct ways to model memories/tables/WebAssembly constructs. LLVM's compilation model maps to WebAssembly, but Rust does not have native support for these constructs. That means that if you're not using the component model then, yes, you'll have to serialize information into linear memory and the host would have to deserialize that information from linear memory.</p>
<p>I'm going to close this as the answer at this time is the component model, but if you have follow-up questions feel free to post them here.</p>
</blockquote>



<a name="521010442"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310848%20Trying%20to%20exchange%20complex%20data%20s.../near/521010442" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310848.20Trying.20to.20exchange.20complex.20data.20s.2E.2E.2E.html#521010442">(May 29 2025 at 03:13)</a>:</h4>
<p>HillOfTong <a href="https://github.com/bytecodealliance/wasmtime/issues/10848#issuecomment-2918115935">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10848">issue #10848</a>:</p>
<blockquote>
<p>Thanks!</p>
</blockquote>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>