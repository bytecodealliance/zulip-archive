<html>
<head><meta charset="utf-8"><title>wasmtime / PR #11628  Support store-access in `bindgen!` ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311628.20.20Support.20store-access.20in.20.60bindgen.21.60.20.2E.2E.2E.html">wasmtime / PR #11628  Support store-access in `bindgen!` ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="537937536"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311628%20%20Support%20store-access%20in%20%60bindgen%21%60%20.../near/537937536" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311628.20.20Support.20store-access.20in.20.60bindgen.21.60.20.2E.2E.2E.html#537937536">(Sep 05 2025 at 19:52)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/11628">PR #11628</a> from <code>alexcrichton:imports-with-store</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This commit adds support to accessing the store in <code>bindgen!</code>-generated<br>
import functions in traits. Since the inception of <code>bindgen!</code> this has<br>
never been possible and access to the store requires manually working<br>
with <code>Linker</code>, for example. This is not easy to do because it requires<br>
surgically editing code or working around what bindings generation parts<br>
you do want.</p>
<p>The implementation here is a small step away from what<br>
component-model-async has already implemented for async functions.<br>
Effectively it's a small extension of the <code>*WithStore</code> traits to also<br>
have synchronous functions with <code>Access</code> parameters instead of <code>async</code><br>
functions with an <code>Accessor</code> parameter.</p>
<p>This is something we're going to want for the WASIp3 implementation<br>
where I've noticed some resource destructors are going to want access to<br>
the store to close out streams and such and this'll provide the bindings<br>
necessary for that.</p>
<p>Closes <a href="https://github.com/bytecodealliance/wasmtime/issues/11590">https://github.com/bytecodealliance/wasmtime/issues/11590</a></p>
</blockquote>



<a name="537937539"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311628%20%20Support%20store-access%20in%20%60bindgen%21%60%20.../near/537937539" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311628.20.20Support.20store-access.20in.20.60bindgen.21.60.20.2E.2E.2E.html#537937539">(Sep 05 2025 at 19:52)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11628">PR #11628</a>.</p>



<a name="537937540"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311628%20%20Support%20store-access%20in%20%60bindgen%21%60%20.../near/537937540" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311628.20.20Support.20store-access.20in.20.60bindgen.21.60.20.2E.2E.2E.html#537937540">(Sep 05 2025 at 19:52)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11628">PR #11628</a>.</p>



<a name="537946535"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311628%20%20Support%20store-access%20in%20%60bindgen%21%60%20.../near/537946535" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311628.20.20Support.20store-access.20in.20.60bindgen.21.60.20.2E.2E.2E.html#537946535">(Sep 05 2025 at 20:59)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11628#pullrequestreview-3190774655">PR review</a>.</p>



<a name="537954503"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311628%20%20Support%20store-access%20in%20%60bindgen%21%60%20.../near/537954503" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311628.20.20Support.20store-access.20in.20.60bindgen.21.60.20.2E.2E.2E.html#537954503">(Sep 05 2025 at 22:20)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/11628">PR #11628</a>.</p>



<a name="538451388"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311628%20%20Support%20store-access%20in%20%60bindgen%21%60%20.../near/538451388" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311628.20.20Support.20store-access.20in.20.60bindgen.21.60.20.2E.2E.2E.html#538451388">(Sep 09 2025 at 14:26)</a>:</h4>
<p>rvolosatovs submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11628#pullrequestreview-3201904801">PR review</a>.</p>



<a name="538451391"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311628%20%20Support%20store-access%20in%20%60bindgen%21%60%20.../near/538451391" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311628.20.20Support.20store-access.20in.20.60bindgen.21.60.20.2E.2E.2E.html#538451391">(Sep 09 2025 at 14:26)</a>:</h4>
<p>rvolosatovs created <a href="https://github.com/bytecodealliance/wasmtime/pull/11628#discussion_r2333834936">PR review comment</a>:</p>
<blockquote>
<p><code>Access</code> constructed this way does not have an <code>Instance</code>, which causes the panic in #11651 </p>
</blockquote>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>