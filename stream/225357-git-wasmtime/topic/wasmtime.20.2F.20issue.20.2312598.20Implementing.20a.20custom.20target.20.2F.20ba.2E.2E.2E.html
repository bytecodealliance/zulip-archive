<html>
<head><meta charset="utf-8"><title>wasmtime / issue #12598 Implementing a custom target / ba... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312598.20Implementing.20a.20custom.20target.20.2F.20ba.2E.2E.2E.html">wasmtime / issue #12598 Implementing a custom target / ba...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="573975222"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312598%20Implementing%20a%20custom%20target%20/%20ba.../near/573975222" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312598.20Implementing.20a.20custom.20target.20.2F.20ba.2E.2E.2E.html#573975222">(Feb 15 2026 at 13:07)</a>:</h4>
<p>espoal opened <a href="https://github.com/bytecodealliance/wasmtime/issues/12598">issue #12598</a>:</p>
<blockquote>
<p>I will start to admit that I'm a noob in the compiler topics, so I'm probably misunderstanding something fundamental.</p>
<p><strong>Goal:</strong> I would like to implement a custom target using cranelift, which is a virtual machine very similar to WASM. Let's say for now that the source is Rust code.</p>
<p><strong>My understanding:</strong> I think that to achieve this I would need to implement a custom backend / codegen module, while reusing the existing Rust frontend. I believe that the Rust-to-WASM pipeline is implemented this way, but <a href="https://github.com/bytecodealliance/wasmtime/issues/2566">this issue</a> seems to contradict what I know.</p>
<p><strong>Questions:</strong> </p>
<ul>
<li>Is my understanding right? If not, how is the Rust-to-WASM pipeline implemented?</li>
<li>Are there better/simpler approaches?</li>
<li>Where could I find some resources on implementing a custom target/backend? Or is this very novel territory that is not yet covered by tutorials?</li>
</ul>
</blockquote>



<a name="573975239"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312598%20Implementing%20a%20custom%20target%20/%20ba.../near/573975239" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312598.20Implementing.20a.20custom.20target.20.2F.20ba.2E.2E.2E.html#573975239">(Feb 15 2026 at 13:08)</a>:</h4>
<p>espoal edited <a href="https://github.com/bytecodealliance/wasmtime/issues/12598">issue #12598</a>:</p>
<blockquote>
<p>I will start to admit that I'm a noob in the compiler topic, so I'm probably misunderstanding something fundamental.</p>
<p><strong>Goal:</strong> I would like to implement a custom target using cranelift, which is a virtual machine very similar to WASM. Let's say for now that the source is Rust code.</p>
<p><strong>My understanding:</strong> I think that to achieve this I would need to implement a custom backend / codegen module, while reusing the existing Rust frontend. I believe that the Rust-to-WASM pipeline is implemented this way, but <a href="https://github.com/bytecodealliance/wasmtime/issues/2566">this issue</a> seems to contradict what I know.</p>
<p><strong>Questions:</strong> </p>
<ul>
<li>Is my understanding right? If not, how is the Rust-to-WASM pipeline implemented?</li>
<li>Are there better/simpler approaches?</li>
<li>Where could I find some resources on implementing a custom target/backend? Or is this very novel territory that is not yet covered by tutorials?</li>
</ul>
</blockquote>



<a name="573975254"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312598%20Implementing%20a%20custom%20target%20/%20ba.../near/573975254" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312598.20Implementing.20a.20custom.20target.20.2F.20ba.2E.2E.2E.html#573975254">(Feb 15 2026 at 13:08)</a>:</h4>
<p>espoal edited <a href="https://github.com/bytecodealliance/wasmtime/issues/12598">issue #12598</a>:</p>
<blockquote>
<p>I will start to admit that I'm a noob in the compiler topic, so I'm probably misunderstanding something fundamental.</p>
<p><strong>Goal:</strong> I would like to implement a custom target using cranelift, which is a virtual machine very similar to WASM. Let's say for now that the source is Rust code.</p>
<p><strong>My understanding:</strong> I think that to achieve this I would need to implement a custom backend / codegen module, while reusing the existing Rust frontend. I believe that the Rust-to-WASM pipeline is implemented this way, but <a href="https://github.com/bytecodealliance/wasmtime/issues/2566">this issue</a> seems to contradict what I know.</p>
<p><strong>Questions:</strong> </p>
<ul>
<li>Is my understanding right? If not, how is the Rust-to-WASM pipeline implemented?</li>
<li>Are there better/simpler approaches?</li>
<li>Where could I find some resources on implementing a custom target/backend? Or is this very novel territory that is not yet covered by tutorials?</li>
</ul>
<p>Thank you!</p>
</blockquote>



<a name="573975963"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312598%20Implementing%20a%20custom%20target%20/%20ba.../near/573975963" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312598.20Implementing.20a.20custom.20target.20.2F.20ba.2E.2E.2E.html#573975963">(Feb 15 2026 at 13:18)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/12598#issuecomment-3904434891">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12598">issue #12598</a>:</p>
<blockquote>
<p>Rustc uses LLVM for compiling to wasm. No Cranelift or Wasmtime is involved with that at all. Only compiling the wasm to machine code uses Cranelift as compiler when using Wasmtime as wasm runtime. There is also rustc_codegen_cranelift for directly compiling rust code with Cranelift, but that doesn't allow producing wasm, rather it directly produces machine code. Only wasm -&gt; cranelift ir is supported through Wasmtime, not cranelift ir -&gt; wasm. Wasm is different enough from machine code that you can't reuse Cranelift backend framework at all. Cranelift expects to compile to a register machine (like almost all real hardware), while wasm is a stack machine.</p>
</blockquote>



<a name="573977205"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312598%20Implementing%20a%20custom%20target%20/%20ba.../near/573977205" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312598.20Implementing.20a.20custom.20target.20.2F.20ba.2E.2E.2E.html#573977205">(Feb 15 2026 at 13:36)</a>:</h4>
<p>espoal <a href="https://github.com/bytecodealliance/wasmtime/issues/12598#issuecomment-3904475832">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12598">issue #12598</a>:</p>
<blockquote>
<p>Thanks @bjorn3 for the explanation. So from what I understood:</p>
<ul>
<li>Rust get compiled to WASM bytecode using the LLVM backend</li>
<li>The WASM file is then distributed </li>
<li>To execute it, wasmtime uses cranelift to lower it to actual machine code</li>
<li>Lowering can be done either JIT, or AOT</li>
</ul>
<p>Makes sense now. </p>
</blockquote>



<a name="573977232"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312598%20Implementing%20a%20custom%20target%20/%20ba.../near/573977232" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312598.20Implementing.20a.20custom.20target.20.2F.20ba.2E.2E.2E.html#573977232">(Feb 15 2026 at 13:37)</a>:</h4>
<p>espoal edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/12598#issuecomment-3904475832">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12598">issue #12598</a>:</p>
<blockquote>
<p>Thanks @bjorn3 for the explanation. So from what I understood:</p>
<ul>
<li>Rust get compiled to WASM bytecode using the LLVM backend</li>
<li>The WASM file is then distributed </li>
<li>To execute it, wasmtime uses cranelift to lower it to actual machine code</li>
<li>Lowering can be done either JIT, or AOT</li>
</ul>
<p>Makes sense now. If that's correct please answer with a thumb up, and I will consider this issue closed.</p>
</blockquote>



<a name="573977526"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312598%20Implementing%20a%20custom%20target%20/%20ba.../near/573977526" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312598.20Implementing.20a.20custom.20target.20.2F.20ba.2E.2E.2E.html#573977526">(Feb 15 2026 at 13:40)</a>:</h4>
<p>espoal edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/12598#issuecomment-3904475832">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/12598">issue #12598</a>:</p>
<blockquote>
<p>Thanks @bjorn3 for the explanation. So from what I understood:</p>
<ul>
<li>Rust get compiled to WASM bytecode using the LLVM backend</li>
<li>The WASM file is then distributed </li>
<li>To execute it, wasmtime uses cranelift to lower it to actual machine code</li>
<li>Lowering can be done either JIT, or AOT</li>
</ul>
<p>Makes sense now. If that's correct please react with a thumb up, and I will consider this issue closed.</p>
</blockquote>



<a name="573977942"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312598%20Implementing%20a%20custom%20target%20/%20ba.../near/573977942" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312598.20Implementing.20a.20custom.20target.20.2F.20ba.2E.2E.2E.html#573977942">(Feb 15 2026 at 13:46)</a>:</h4>
<p>espoal closed <a href="https://github.com/bytecodealliance/wasmtime/issues/12598">issue #12598</a>:</p>
<blockquote>
<p>I will start to admit that I'm a noob in the compiler topic, so I'm probably misunderstanding something fundamental.</p>
<p><strong>Goal:</strong> I would like to implement a custom target using cranelift, which is a virtual machine very similar to WASM. Let's say for now that the source is Rust code.</p>
<p><strong>My understanding:</strong> I think that to achieve this I would need to implement a custom backend / codegen module, while reusing the existing Rust frontend. I believe that the Rust-to-WASM pipeline is implemented this way, but <a href="https://github.com/bytecodealliance/wasmtime/issues/2566">this issue</a> seems to contradict what I know.</p>
<p><strong>Questions:</strong> </p>
<ul>
<li>Is my understanding right? If not, how is the Rust-to-WASM pipeline implemented?</li>
<li>Are there better/simpler approaches?</li>
<li>Where could I find some resources on implementing a custom target/backend? Or is this very novel territory that is not yet covered by tutorials?</li>
</ul>
<p>Thank you!</p>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>