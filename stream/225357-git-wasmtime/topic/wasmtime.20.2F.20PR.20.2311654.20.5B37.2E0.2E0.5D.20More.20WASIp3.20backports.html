<html>
<head><meta charset="utf-8"><title>wasmtime / PR #11654 [37.0.0] More WASIp3 backports · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311654.20.5B37.2E0.2E0.5D.20More.20WASIp3.20backports.html">wasmtime / PR #11654 [37.0.0] More WASIp3 backports</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="538469615"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311654%20%5B37.0.0%5D%20More%20WASIp3%20backports/near/538469615" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311654.20.5B37.2E0.2E0.5D.20More.20WASIp3.20backports.html#538469615">(Sep 09 2025 at 15:46)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/11654">PR #11654</a> from <code>alexcrichton:more-backports</code> to <code>bytecodealliance:release-37.0.0</code>:</p>
<blockquote>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="538469620"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311654%20%5B37.0.0%5D%20More%20WASIp3%20backports/near/538469620" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311654.20.5B37.2E0.2E0.5D.20More.20WASIp3.20backports.html#538469620">(Sep 09 2025 at 15:46)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-wasi-reviewers">wasmtime-wasi-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11654">PR #11654</a>.</p>



<a name="538469621"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311654%20%5B37.0.0%5D%20More%20WASIp3%20backports/near/538469621" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311654.20.5B37.2E0.2E0.5D.20More.20WASIp3.20backports.html#538469621">(Sep 09 2025 at 15:46)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/dicej">dicej</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11654">PR #11654</a>.</p>



<a name="538469622"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311654%20%5B37.0.0%5D%20More%20WASIp3%20backports/near/538469622" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311654.20.5B37.2E0.2E0.5D.20More.20WASIp3.20backports.html#538469622">(Sep 09 2025 at 15:46)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11654">PR #11654</a>.</p>



<a name="538473394"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311654%20%5B37.0.0%5D%20More%20WASIp3%20backports/near/538473394" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311654.20.5B37.2E0.2E0.5D.20More.20WASIp3.20backports.html#538473394">(Sep 09 2025 at 16:02)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/11654#issuecomment-3271360433">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11654">PR #11654</a>:</p>
<blockquote>
<p>cc @rvolosatovs <a href="https://github.com/bytecodealliance/wasmtime/actions/runs/17588164487/job/49961729256?pr=11654">this failure</a> looks like a spurious flake in wasi-http tests (I can retry it but I don't want to lose it either):</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="o">----</span><span class="w"> </span><span class="n">p3</span><span class="p">::</span><span class="n">p3_http_outbound_request_content_length</span><span class="w"> </span><span class="n">stdout</span><span class="w"> </span><span class="o">----</span>
<span class="n">worker</span><span class="w"> </span><span class="n">failed</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">user</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">Body</span><span class="w"> </span><span class="n">stream</span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span><span class="p">:</span>
<span class="w">    </span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="nc">error</span><span class="w"> </span><span class="n">reading</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">connection</span>
<span class="w">    </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="nc">end</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">reached</span>
<span class="n">Error</span><span class="p">:</span><span class="w"> </span><span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="p">:</span><span class="nc">cli</span><span class="o">/</span><span class="n">run</span><span class="p">#</span><span class="n">run</span><span class="err">`</span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span><span class="p">:</span>
<span class="w">    </span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="nc">error</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span><span class="p">:</span>
<span class="w">           </span><span class="mi">0</span><span class="p">:</span><span class="w">  </span><span class="mh">0x68d1c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">panic_abort</span><span class="p">::</span><span class="n">__rust_start_panic</span><span class="p">::</span><span class="n">abort</span><span class="p">::</span><span class="n">hfa521bba89ce5759</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mf">17067e9</span><span class="n">ac6d7ecb70e50f92c1944e545188d2359</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">panic_abort</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">113</span><span class="p">:</span><span class="mi">17</span>

<span class="w">                       </span><span class="o">-</span><span class="w"> </span><span class="n">__rustc</span><span class="p">[</span><span class="mi">95</span><span class="n">feac21a9532783</span><span class="p">]::</span><span class="n">__rust_start_panic</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mf">17067e9</span><span class="n">ac6d7ecb70e50f92c1944e545188d2359</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">panic_abort</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">49</span><span class="p">:</span><span class="mi">9</span>
<span class="w">           </span><span class="mi">1</span><span class="p">:</span><span class="w">  </span><span class="mh">0x68b8d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">__rustc</span><span class="p">[</span><span class="mi">95</span><span class="n">feac21a9532783</span><span class="p">]::</span><span class="n">rust_panic</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mf">17067e9</span><span class="n">ac6d7ecb70e50f92c1944e545188d2359</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">894</span><span class="p">:</span><span class="mi">25</span>
<span class="w">           </span><span class="mi">2</span><span class="p">:</span><span class="w">  </span><span class="mh">0x68b60</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">rust_panic_with_hook</span><span class="p">::</span><span class="n">hc20fbdbadfcc1625</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mf">17067e9</span><span class="n">ac6d7ecb70e50f92c1944e545188d2359</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">858</span><span class="p">:</span><span class="mi">5</span>
<span class="w">           </span><span class="mi">3</span><span class="p">:</span><span class="w">  </span><span class="mh">0x67b76</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">begin_panic_handler</span><span class="p">::{{</span><span class="n">closure</span><span class="p">}}::</span><span class="n">h1237330613601c3b</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mf">17067e9</span><span class="n">ac6d7ecb70e50f92c1944e545188d2359</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">706</span><span class="p">:</span><span class="mi">13</span>
<span class="w">           </span><span class="mi">4</span><span class="p">:</span><span class="w">  </span><span class="mh">0x67ae2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">sys</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="n">__rust_end_short_backtrace</span><span class="p">::</span><span class="n">h207b568e8da931a1</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mf">17067e9</span><span class="n">ac6d7ecb70e50f92c1944e545188d2359</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">168</span><span class="p">:</span><span class="mi">18</span>
<span class="w">           </span><span class="mi">5</span><span class="p">:</span><span class="w">  </span><span class="mh">0x684f3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">__rustc</span><span class="p">[</span><span class="mi">95</span><span class="n">feac21a9532783</span><span class="p">]::</span><span class="n">rust_begin_unwind</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mf">17067e9</span><span class="n">ac6d7ecb70e50f92c1944e545188d2359</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">697</span><span class="p">:</span><span class="mi">5</span>
<span class="w">           </span><span class="mi">6</span><span class="p">:</span><span class="w">  </span><span class="mh">0x6d541</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">panic_fmt</span><span class="p">::</span><span class="n">he093f8ef6966d6c7</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mf">17067e9</span><span class="n">ac6d7ecb70e50f92c1944e545188d2359</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">75</span><span class="p">:</span><span class="mi">14</span>
<span class="w">           </span><span class="mi">7</span><span class="p">:</span><span class="w">  </span><span class="mh">0x6f37d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">result</span><span class="p">::</span><span class="n">unwrap_failed</span><span class="p">::</span><span class="n">h1bc014930691ddf4</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mf">17067e9</span><span class="n">ac6d7ecb70e50f92c1944e545188d2359</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">result</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1704</span><span class="p">:</span><span class="mi">5</span>
<span class="w">           </span><span class="mi">8</span><span class="p">:</span><span class="w">   </span><span class="mh">0xacac</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">result</span><span class="p">::</span><span class="nb">Result</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="n">E</span><span class="o">&gt;</span><span class="p">::</span><span class="n">expect_err</span><span class="p">::</span><span class="n">h4dc44849308773ac</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mf">17067e9</span><span class="n">ac6d7ecb70e50f92c1944e545188d2359</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">result</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1172</span><span class="p">:</span><span class="mi">22</span>
<span class="w">           </span><span class="mi">9</span><span class="p">:</span><span class="w">  </span><span class="mh">0x24154</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">p3_http_outbound_request_content_length</span><span class="p">::</span><span class="n">Component</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">test_programs</span><span class="p">::</span><span class="n">p3</span><span class="p">::</span><span class="n">exports</span><span class="p">::</span><span class="n">wasi</span><span class="p">::</span><span class="n">cli</span><span class="p">::</span><span class="n">run</span><span class="p">::</span><span class="n">Guest</span><span class="o">&gt;</span><span class="p">::</span><span class="n">run</span><span class="p">::{{</span><span class="n">closure</span><span class="p">}}::</span><span class="n">h667ad4c0ebe40218</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">runner</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">crates</span><span class="o">/</span><span class="n">test</span><span class="o">-</span><span class="n">programs</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">p3_http_outbound_request_content_length</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">113</span><span class="p">:</span><span class="mi">23</span>
<span class="w">          </span><span class="mi">10</span><span class="p">:</span><span class="w">   </span><span class="mh">0x6462</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">test_programs</span><span class="p">::</span><span class="n">p3</span><span class="p">::</span><span class="n">exports</span><span class="p">::</span><span class="n">wasi</span><span class="p">::</span><span class="n">cli</span><span class="p">::</span><span class="n">run</span><span class="p">::</span><span class="n">_export_run_cabi</span><span class="p">::{{</span><span class="n">closure</span><span class="p">}}::</span><span class="n">h09fcbd8e6973714c</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">runner</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">crates</span><span class="o">/</span><span class="n">test</span><span class="o">-</span><span class="n">programs</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">p3</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">1</span>
<span class="w">          </span><span class="mi">11</span><span class="p">:</span><span class="w">  </span><span class="mh">0x5b72d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">core</span><span class="p">::</span><span class="n">pin</span><span class="p">::</span><span class="n">Pin</span><span class="o">&lt;</span><span class="n">P</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">future</span><span class="p">::</span><span class="n">future</span><span class="p">::</span><span class="n">Future</span><span class="o">&gt;</span><span class="p">::</span><span class="n">poll</span><span class="p">::</span><span class="n">h245dcf4b3ca770e1</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mf">17067e9</span><span class="n">ac6d7ecb70e50f92c1944e545188d2359</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">future</span><span class="o">/</span><span class="n">future</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">124</span><span class="p">:</span><span class="mi">9</span>

<span class="w">                       </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">futures_util</span><span class="p">::</span><span class="n">stream</span><span class="p">::</span><span class="n">futures_unordered</span><span class="p">::</span><span class="n">FuturesUnordered</span><span class="o">&lt;</span><span class="n">Fut</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">futures_core</span><span class="p">::</span><span class="n">stream</span><span class="p">::</span><span class="n">Stream</span><span class="o">&gt;</span><span class="p">::</span><span class="n">poll_next</span><span class="p">::</span><span class="n">hcea85e06fb1b7f9f</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">runner</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">1949</span><span class="n">cf8c6b5b557f</span><span class="o">/</span><span class="n">futures</span><span class="o">-</span><span class="n">util</span><span class="o">-</span><span class="mf">0.3.31</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">stream</span><span class="o">/</span><span class="n">futures_unordered</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">528</span><span class="p">:</span><span class="mi">17</span>
<span class="w">          </span><span class="mi">12</span><span class="p">:</span><span class="w">  </span><span class="mh">0x5adec</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">futures_util</span><span class="p">::</span><span class="n">stream</span><span class="p">::</span><span class="n">stream</span><span class="p">::</span><span class="n">StreamExt</span><span class="p">::</span><span class="n">poll_next_unpin</span><span class="p">::</span><span class="n">h1fd061b6541c9252</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">runner</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">1949</span><span class="n">cf8c6b5b557f</span><span class="o">/</span><span class="n">futures</span><span class="o">-</span><span class="n">util</span><span class="o">-</span><span class="mf">0.3.31</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">stream</span><span class="o">/</span><span class="n">stream</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1638</span><span class="p">:</span><span class="mi">9</span>

<span class="w">                       </span><span class="o">-</span><span class="w"> </span><span class="n">wit_bindgen</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">async_support</span><span class="p">::</span><span class="n">FutureState</span><span class="p">::</span><span class="n">poll</span><span class="p">::{{</span><span class="n">closure</span><span class="p">}}::</span><span class="n">h530bc3620a250b26</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">runner</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">1949</span><span class="n">cf8c6b5b557f</span><span class="o">/</span><span class="n">wit</span><span class="o">-</span><span class="n">bindgen</span><span class="o">-</span><span class="mf">0.45.0</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rt</span><span class="o">/</span><span class="n">async_support</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">182</span><span class="p">:</span><span class="mi">28</span>

<span class="w">                       </span><span class="o">-</span><span class="w"> </span><span class="n">wit_bindgen</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">async_support</span><span class="p">::</span><span class="n">FutureState</span><span class="p">::</span><span class="n">with_p3_task_set</span><span class="p">::</span><span class="n">h7bb4c3253b380010</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">runner</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">1949</span><span class="n">cf8c6b5b557f</span><span class="o">/</span><span class="n">wit</span><span class="o">-</span><span class="n">bindgen</span><span class="o">-</span><span class="mf">0.45.0</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rt</span><span class="o">/</span><span class="n">async_support</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">237</span><span class="p">:</span><span class="mi">9</span>

<span class="w">                       </span><span class="o">-</span><span class="w"> </span><span class="n">wit_bindgen</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">async_support</span><span class="p">::</span><span class="n">FutureState</span><span class="p">::</span><span class="n">poll</span><span class="p">::</span><span class="n">h5ea42f12fe68d819</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">runner</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">1949</span><span class="n">cf8c6b5b557f</span><span class="o">/</span><span class="n">wit</span><span class="o">-</span><span class="n">bindgen</span><span class="o">-</span><span class="mf">0.45.0</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rt</span><span class="o">/</span><span class="n">async_support</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">171</span><span class="p">:</span><span class="mi">9</span>

<span class="w">                       </span><span class="o">-</span><span class="w"> </span><span class="n">wit_bindgen</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">async_support</span><span class="p">::</span><span class="n">FutureState</span><span class="p">::</span><span class="n">callback</span><span class="p">::</span><span class="n">h029d8768fc21ec15</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">runner</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">1949</span><span class="n">cf8c6b5b557f</span><span class="o">/</span><span class="n">wit</span><span class="o">-</span><span class="n">bindgen</span><span class="o">-</span><span class="mf">0.45.0</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rt</span><span class="o">/</span><span class="n">async_support</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">151</span><span class="p">:</span><span class="mi">9</span>
<span class="w">          </span><span class="mi">13</span><span class="p">:</span><span class="w">  </span><span class="mh">0x5b112</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit_bindgen</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">async_support</span><span class="p">::</span><span class="n">callback</span><span class="p">::</span><span class="n">h735e0c385c706a91</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">runner</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">1949</span><span class="n">cf8c6b5b557f</span><span class="o">/</span><span class="n">wit</span><span class="o">-</span><span class="n">bindgen</span><span class="o">-</span><span class="mf">0.45.0</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rt</span><span class="o">/</span><span class="n">async_support</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">400</span><span class="p">:</span><span class="mi">26</span>
<span class="w">          </span><span class="mi">14</span><span class="p">:</span><span class="w">  </span><span class="mh">0x2951d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">test_programs</span><span class="p">::</span><span class="n">p3</span><span class="p">::</span><span class="n">exports</span><span class="p">::</span><span class="n">wasi</span><span class="p">::</span><span class="n">cli</span><span class="p">::</span><span class="n">run</span><span class="p">::</span><span class="n">__callback_run</span><span class="p">::</span><span class="n">h2122a0f968825060</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">runner</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">crates</span><span class="o">/</span><span class="n">test</span><span class="o">-</span><span class="n">programs</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">p3</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">1</span>
<span class="w">          </span><span class="mi">15</span><span class="p">:</span><span class="w">  </span><span class="mh">0x24516</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">[</span><span class="n">callback</span><span class="p">][</span><span class="k">async</span><span class="o">-</span><span class="n">lift</span><span class="p">]</span><span class="n">wasi</span><span class="p">:</span><span class="nc">cli</span><span class="o">/</span><span class="n">run</span><span class="o">@</span><span class="mf">0.3.0</span><span class="o">-</span><span class="n">rc</span><span class="o">-</span><span class="mi">2025</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">15</span><span class="p">#</span><span class="n">run</span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">runner</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">crates</span><span class="o">/</span><span class="n">test</span><span class="o">-</span><span class="n">programs</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">p3_http_outbound_request_content_length</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">9</span><span class="p">:</span><span class="mi">1</span>
<span class="w">    </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="nc">wasm</span><span class="w"> </span><span class="n">trap</span><span class="p">:</span><span class="w"> </span><span class="nc">wasm</span><span class="w"> </span><span class="err">`</span><span class="n">unreachable</span><span class="err">`</span><span class="w"> </span><span class="n">instruction</span><span class="w"> </span><span class="n">executed</span>


<span class="n">failures</span><span class="p">:</span>
<span class="w">    </span><span class="nc">p3</span><span class="p">::</span><span class="n">p3_http_outbound_request_content_length</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="538477015"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311654%20%5B37.0.0%5D%20More%20WASIp3%20backports/near/538477015" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311654.20.5B37.2E0.2E0.5D.20More.20WASIp3.20backports.html#538477015">(Sep 09 2025 at 16:20)</a>:</h4>
<p>rvolosatovs <a href="https://github.com/bytecodealliance/wasmtime/pull/11654#issuecomment-3271421241">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11654">PR #11654</a>:</p>
<blockquote>
<blockquote>
<p>cc @rvolosatovs <a href="https://github.com/bytecodealliance/wasmtime/actions/runs/17588164487/job/49961729256?pr=11654">this failure</a> looks like a spurious flake in wasi-http tests (I can retry it but I don't want to lose it either):</p>
<p>```<br>
---- p3::p3_http_outbound_request_content_length stdout ----<br>
worker failed with error error from user's Body stream</p>
<p>Caused by:<br>
    0: error reading a body from connection<br>
    1: end of file before message length reached<br>
Error: failed to call <code>wasi:cli/run#run</code></p>
<p>Caused by:<br>
    0: error while executing at wasm backtrace:<br>
           0:  0x68d1c - panic_abort::__rust_start_panic::abort::hfa521bba89ce5759<br>
                           at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/panic_abort/src/lib.rs:113:17<br>
                       - __rustc[95feac21a9532783]::__rust_start_panic<br>
                           at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/panic_abort/src/lib.rs:49:9<br>
           1:  0x68b8d - __rustc[95feac21a9532783]::rust_panic<br>
                           at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/panicking.rs:894:25<br>
           2:  0x68b60 - std::panicking::rust_panic_with_hook::hc20fbdbadfcc1625<br>
                           at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/panicking.rs:858:5<br>
           3:  0x67b76 - std::panicking::begin_panic_handler::{{closure}}::h1237330613601c3b<br>
                           at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/panicking.rs:706:13<br>
           4:  0x67ae2 - std::sys::backtrace::__rust_end_short_backtrace::h207b568e8da931a1<br>
                           at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/backtrace.rs:168:18<br>
           5:  0x684f3 - __rustc[95feac21a9532783]::rust_begin_unwind<br>
                           at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/panicking.rs:697:5<br>
           6:  0x6d541 - core::panicking::panic_fmt::he093f8ef6966d6c7<br>
                           at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/core/src/panicking.rs:75:14<br>
           7:  0x6f37d - core::result::unwrap_failed::h1bc014930691ddf4<br>
                           at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/core/src/result.rs:1704:5<br>
           8:   0xacac - core::result::Result&lt;T,E&gt;::expect_err::h4dc44849308773ac<br>
                           at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/core/src/result.rs:1172:22<br>
           9:  0x24154 - &lt;p3_http_outbound_request_content_length::Component as test_programs::p3::exports::wasi::cli::run::Guest&gt;::run::{{closure}}::h667ad4c0ebe40218<br>
                           at /home/runner/work/wasmtime/wasmtime/crates/test-programs/src/bin/p3_http_outbound_request_content_length.rs:113:23<br>
          10:   0x6462 - test_programs::p3::exports::wasi::cli::run::_export_run_cabi::{{closure}}::h09fcbd8e6973714c<br>
                           at /home/runner/work/wasmtime/wasmtime/crates/test-programs/src/p3/mod.rs:4:1<br>
          11:  0x5b72d - &lt;core:<span aria-label="pin" class="emoji emoji-1f4cd" role="img" title="pin">:pin:</span>:Pin&lt;P&gt; as core:<span aria-label="future" class="emoji emoji-1f52e" role="img" title="future">:future:</span><span aria-label="future" class="emoji emoji-1f52e" role="img" title="future">:future:</span>:Future&gt;::poll::h245dcf4b3ca770e1<br>
                           at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/core/src/future/future.rs:124:9<br>
                       - &lt;futures_util::stream::futures_unordered::FuturesUnordered&lt;Fut&gt; as futures_core::stream::Stream&gt;::poll_next::hcea85e06fb1b7f9f<br>
                           at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/futures-util-0.3.31/src/stream/futures_unordered/mod.rs:528:17<br>
          12:  0x5adec - futures_util::stream::stream::StreamExt::poll_next_unpin::h1fd061b6541c9252<br>
                           at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/futures-util-0.3.31/src/stream/stream/mod.rs:1638:9<br>
                       - wit_bindgen::rt::async_support::FutureState::poll::{{closure}}::h530bc3620a250b26<br>
                           at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wit-bindgen-0.45.0/src/rt/async_support.rs:182:28<br>
                       - wit_bindgen::rt::async_support::FutureState::with_p3_task_set::h7bb4c3253b380010<br>
                           at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wit-bindgen-0.45.0/src/rt/async_support.rs:237:9<br>
                       - wit_bindgen::rt::async_support::FutureState::poll::h5ea42f12fe68d819<br>
                           at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wit-bindgen-0.45.0/src/rt/async_support.rs:171:9<br>
                       - wit_bindgen::rt::async_support::FutureState::callback::h029d8768fc21ec15<br>
                           at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wit-bindgen-0.45.0/src/rt/async_support.rs:151:9<br>
          13:  0x5b112 - wit_bindgen::rt::async_support::callback::h735e0c385c706a91<br>
                           at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wit-bindgen-0.45.0/src/rt/async_support.rs:400:26<br>
          14:  0x2951d - test_programs::p3::exports::wasi::cli::run::__callback_run::h2122a0f968825060<br>
                           at /home/runner/work/wasmtime/wasmtime/crates/test-programs/src/p3/mod.rs:4:1<br>
          15:  0x24516 - [callback][async-lift]wasi:cli/run@0.3.0-rc-2025-08-15#run<br>
                           at /home/runner/work/wasmtime/wasmtime/crates/test-programs/src/bin/p3_http_outbound_request_content_length.rs:9:1<br>
    1: wasm trap: wasm <code>unreachable</code> instruction executed</p>
<p>failures:<br>
    p3::p3_http_outbound_request_content_length<br>
```</p>
</blockquote>
<p>The fix is not entirely obvious, in fact I'm quite confused how the <code>transmit</code> future could have <em>not</em> failed while the <code>handle</code> one did. I'll have to reproduce this locally</p>
</blockquote>



<a name="538498675"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311654%20%5B37.0.0%5D%20More%20WASIp3%20backports/near/538498675" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311654.20.5B37.2E0.2E0.5D.20More.20WASIp3.20backports.html#538498675">(Sep 09 2025 at 18:00)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11654">PR #11654</a>.</p>



<a name="538498749"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311654%20%5B37.0.0%5D%20More%20WASIp3%20backports/near/538498749" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311654.20.5B37.2E0.2E0.5D.20More.20WASIp3.20backports.html#538498749">(Sep 09 2025 at 18:01)</a>:</h4>
<p>alexcrichton has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/11654">PR #11654</a>.</p>



<a name="538512779"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311654%20%5B37.0.0%5D%20More%20WASIp3%20backports/near/538512779" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311654.20.5B37.2E0.2E0.5D.20More.20WASIp3.20backports.html#538512779">(Sep 09 2025 at 19:05)</a>:</h4>
<p>dicej submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11654#pullrequestreview-3202904544">PR review</a>.</p>



<a name="538512783"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311654%20%5B37.0.0%5D%20More%20WASIp3%20backports/near/538512783" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311654.20.5B37.2E0.2E0.5D.20More.20WASIp3.20backports.html#538512783">(Sep 09 2025 at 19:05)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/11654">PR #11654</a>.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>