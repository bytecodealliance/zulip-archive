<html>
<head><meta charset="utf-8"><title>wasmtime / issue #12111 Module registry: investigate data... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312111.20Module.20registry.3A.20investigate.20data.2E.2E.2E.html">wasmtime / issue #12111 Module registry: investigate data...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="561546316"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312111%20Module%20registry%3A%20investigate%20data.../near/561546316" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312111.20Module.20registry.3A.20investigate.20data.2E.2E.2E.html#561546316">(Dec 03 2025 at 00:53)</a>:</h4>
<p>cfallin opened <a href="https://github.com/bytecodealliance/wasmtime/issues/12111">issue #12111</a>:</p>
<blockquote>
<p>In #12051 we added a new level of data structures to the per-store module registry due to the distinction between <code>EngineCode</code> and <code>StoreCode</code>. This leads to a small but consistent observed increase in instantiation time (~3% or 40ns in tests with a store of one small module).</p>
<p>In theory we could avoid the cost of materializing a separate <code>StoreCode</code> by making <code>ModuleWithCode</code> carry a view on <em>some</em> text/range, and building it to use <code>EngineCode</code>'s text slice directly in the non-debug case. The commit <a href="https://github.com/cfallin/wasmtime/commit/73b0bbe8d5101e5849a22404f2809895f0ee7495">here</a> did enough of this to avoid a lookup in the engine-to-store-code map on the funcref init path, but we could carry it a bit further and avoid creating a <code>StoreCode</code> at all at instantiation.</p>
<p>There may be other optimizations we could do as well, after profiling.</p>
</blockquote>



<a name="561911000"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312111%20Module%20registry%3A%20investigate%20data.../near/561911000" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312111.20Module.20registry.3A.20investigate.20data.2E.2E.2E.html#561911000">(Dec 04 2025 at 15:38)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> added the wasmtime label to <a href="https://github.com/bytecodealliance/wasmtime/issues/12111">Issue #12111</a>.</p>



<a name="561911001"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312111%20Module%20registry%3A%20investigate%20data.../near/561911001" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312111.20Module.20registry.3A.20investigate.20data.2E.2E.2E.html#561911001">(Dec 04 2025 at 15:38)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> added the performance label to <a href="https://github.com/bytecodealliance/wasmtime/issues/12111">Issue #12111</a>.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>