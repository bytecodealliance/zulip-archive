<html>
<head><meta charset="utf-8"><title>wasmtime / PR #10377 wasi-tls: Add a second endpoint to m... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html">wasmtime / PR #10377 wasi-tls: Add a second endpoint to m...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="504987741"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/504987741" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#504987741">(Mar 12 2025 at 00:09)</a>:</h4>
<p><strong>jsturtevant</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10377">PR #10377</a>.</p>



<a name="504987742"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/504987742" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#504987742">(Mar 12 2025 at 00:09)</a>:</h4>
<p>jsturtevant opened <a href="https://github.com/bytecodealliance/wasmtime/pull/10377">PR #10377</a> from <code>jsturtevant:add-second-endpoint</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
<p>Helps address <a href="https://github.com/bytecodealliance/wasmtime/issues/10369">https://github.com/bytecodealliance/wasmtime/issues/10369</a> by adding a second endpoint.  One reason for testing the external endpoint is to make sure the set up of the system cert store works when calling external sites, so this preserves that but should also help the tests be less flakey.</p>
</blockquote>



<a name="504987743"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/504987743" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#504987743">(Mar 12 2025 at 00:09)</a>:</h4>
<p><strong>jsturtevant</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10377">PR #10377</a>.</p>



<a name="504990225"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/504990225" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#504990225">(Mar 12 2025 at 00:27)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10377#pullrequestreview-2676501943">PR review</a>.</p>



<a name="504990227"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/504990227" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#504990227">(Mar 12 2025 at 00:27)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/10377#discussion_r1990345662">PR review comment</a>:</p>
<blockquote>
<p>Should this avoid a <code>.unwrap()</code> here since I think that would translate to both domains being required to succeed instead of just one?</p>
</blockquote>



<a name="504990900"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/504990900" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#504990900">(Mar 12 2025 at 00:31)</a>:</h4>
<p>jsturtevant submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10377#pullrequestreview-2676506241">PR review</a>.</p>



<a name="504990902"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/504990902" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#504990902">(Mar 12 2025 at 00:31)</a>:</h4>
<p>jsturtevant created <a href="https://github.com/bytecodealliance/wasmtime/pull/10377#discussion_r1990348242">PR review comment</a>:</p>
<blockquote>
<p>yes, I had that at initially and was trying something else and forgot to go back<span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span> </p>
</blockquote>



<a name="505024636"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/505024636" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#505024636">(Mar 12 2025 at 04:18)</a>:</h4>
<p>jsturtevant updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10377">PR #10377</a>.</p>



<a name="505024695"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/505024695" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#505024695">(Mar 12 2025 at 04:19)</a>:</h4>
<p>jsturtevant submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10377#pullrequestreview-2676850040">PR review</a>.</p>



<a name="505024696"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/505024696" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#505024696">(Mar 12 2025 at 04:19)</a>:</h4>
<p>jsturtevant created <a href="https://github.com/bytecodealliance/wasmtime/pull/10377#discussion_r1990529564">PR review comment</a>:</p>
<blockquote>
<p>updated</p>
</blockquote>



<a name="505024728"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/505024728" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#505024728">(Mar 12 2025 at 04:19)</a>:</h4>
<p>jsturtevant updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10377">PR #10377</a>.</p>



<a name="505024881"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/505024881" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#505024881">(Mar 12 2025 at 04:20)</a>:</h4>
<p>jsturtevant edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10377">PR #10377</a>:</p>
<blockquote>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
<p>Helps address <a href="https://github.com/bytecodealliance/wasmtime/issues/10369">https://github.com/bytecodealliance/wasmtime/issues/10369</a> by adding a second endpoint.  One reason for testing the external endpoint is to make sure the set up of the system cert store works when calling external sites, so this preserves the external call but should also help the tests be less flakey.</p>
</blockquote>



<a name="505193175"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/505193175" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#505193175">(Mar 12 2025 at 16:56)</a>:</h4>
<p>jsturtevant updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10377">PR #10377</a>.</p>



<a name="505220280"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/505220280" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#505220280">(Mar 12 2025 at 18:43)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10377#pullrequestreview-2679549330">PR review</a>.</p>



<a name="505229721"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310377%20wasi-tls%3A%20Add%20a%20second%20endpoint%20to%20m.../near/505229721" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310377.20wasi-tls.3A.20Add.20a.20second.20endpoint.20to.20m.2E.2E.2E.html#505229721">(Mar 12 2025 at 19:26)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/10377">PR #10377</a>.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>