<html>
<head><meta charset="utf-8"><title>wasmtime / issue #10772 Illegal hardware instruction when... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310772.20Illegal.20hardware.20instruction.20when.2E.2E.2E.html">wasmtime / issue #10772 Illegal hardware instruction when...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="517649362"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310772%20Illegal%20hardware%20instruction%20when.../near/517649362" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310772.20Illegal.20hardware.20instruction.20when.2E.2E.2E.html#517649362">(May 12 2025 at 20:00)</a>:</h4>
<p>willcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/issues/10772">issue #10772</a>:</p>
<blockquote>
<h3>Test Case</h3>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">use</span><span class="w"> </span><span class="n">wasmtime</span><span class="p">::</span><span class="o">*</span><span class="p">;</span>

<span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">::</span><span class="nb">Result</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Config</span><span class="p">::</span><span class="n">new</span><span class="p">();</span>
<span class="w">  </span><span class="n">config</span><span class="p">.</span><span class="n">wasm_gc</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">engine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Engine</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">wat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">r#"</span>
<span class="s">(module</span>
<span class="s">  (type $empty (struct))</span>
<span class="s">  (type $tuple-concrete (struct (field (ref $empty))))</span>
<span class="s">  (type $tuple-abstract (struct (field (ref struct))))</span>
<span class="s">  (func (export "abstract") (param $t (ref $tuple-abstract))</span>
<span class="s">    (drop (ref.cast (ref $tuple-concrete) (local.get $t))))</span>
<span class="s">)</span>
<span class="s">"#</span><span class="p">;</span>

<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Module</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">,</span><span class="w"> </span><span class="n">wat</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">linker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Linker</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Store</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">,</span><span class="w"> </span><span class="p">());</span>

<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linker</span><span class="p">.</span><span class="n">instantiate</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">module</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">abstract_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">instance</span><span class="p">.</span><span class="n">get_func</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="s">"abstract"</span><span class="p">).</span><span class="n">unwrap</span><span class="p">();</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">empty_pre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StructRefPre</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="n">StructType</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">,</span><span class="w"> </span><span class="p">[])</span><span class="o">?</span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">empty_struct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StructRef</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">empty_pre</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p">[])</span><span class="o">?</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">tuple_pre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StructRefPre</span><span class="p">::</span><span class="n">new</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span>
<span class="w">    </span><span class="n">StructType</span><span class="p">::</span><span class="n">new</span><span class="p">(</span>
<span class="w">      </span><span class="o">&amp;</span><span class="n">engine</span><span class="p">,</span>
<span class="w">      </span><span class="p">[</span><span class="n">FieldType</span><span class="p">::</span><span class="n">new</span><span class="p">(</span>
<span class="w">        </span><span class="n">Mutability</span><span class="p">::</span><span class="n">Const</span><span class="p">,</span>
<span class="w">        </span><span class="n">StorageType</span><span class="p">::</span><span class="n">ValType</span><span class="p">(</span><span class="n">ValType</span><span class="p">::</span><span class="n">Ref</span><span class="p">(</span><span class="n">RefType</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">HeapType</span><span class="p">::</span><span class="n">Struct</span><span class="p">))),</span>
<span class="w">      </span><span class="p">)],</span>
<span class="w">    </span><span class="p">)</span><span class="o">?</span><span class="p">,</span>
<span class="w">  </span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">tuple_struct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StructRef</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple_pre</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p">[</span><span class="n">empty_struct</span><span class="p">.</span><span class="n">into</span><span class="p">()])</span><span class="o">?</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">tuple_any</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Val</span><span class="p">::</span><span class="n">from</span><span class="p">(</span><span class="n">tuple_struct</span><span class="p">);</span>
<span class="w">  </span><span class="n">abstract_</span><span class="p">.</span><span class="n">call</span><span class="p">(</span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p">[</span><span class="n">tuple_any</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="p">[])</span><span class="o">?</span><span class="p">;</span><span class="w"> </span><span class="c1">// issue happens here</span>

<span class="w">  </span><span class="nb">Ok</span><span class="p">(())</span>
<span class="p">}</span>
</code></pre></div>
<h3>Steps to Reproduce</h3>
<p>On my Macbook with rustc 1.86.0 and wasmtime 32.0.0:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="n">cargo</span><span class="w"> </span><span class="n">run</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w">    </span><span class="mi">70577</span><span class="w"> </span><span class="n">illegal</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">instruction</span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: 32.0.0</p>
<p>Operating system: MacOS</p>
<p>Architecture: 64-bit ARM</p>
<h3>Extra Info</h3>
<p>Backtrace from lldb:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">(</span><span class="n">lldb</span><span class="p">)</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="s">"./target/debug/foo"</span>
<span class="n">Current</span><span class="w"> </span><span class="n">executable</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">'/</span><span class="n">tmp</span><span class="o">/</span><span class="n">subtype</span><span class="o">-</span><span class="n">test</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">foo</span><span class="o">'</span><span class="w"> </span><span class="p">(</span><span class="n">arm64</span><span class="p">).</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span><span class="w"> </span><span class="n">r</span>
<span class="n">Process</span><span class="w"> </span><span class="mi">62612</span><span class="w"> </span><span class="n">launched</span><span class="p">:</span><span class="w"> </span><span class="o">'/</span><span class="n">tmp</span><span class="o">/</span><span class="n">subtype</span><span class="o">-</span><span class="n">test</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">foo</span><span class="o">'</span><span class="w"> </span><span class="p">(</span><span class="n">arm64</span><span class="p">)</span>
<span class="n">expected</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="p">(</span><span class="n">concrete</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">VMSharedTypeIndex</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
<span class="n">Process</span><span class="w"> </span><span class="mi">62612</span><span class="w"> </span><span class="n">stopped</span>
<span class="o">*</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="p">#</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'</span><span class="na">com</span><span class="p">.</span><span class="n">apple</span><span class="p">.</span><span class="n">main</span><span class="o">-</span><span class="n">thread</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">stop</span><span class="w"> </span><span class="n">reason</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EXC_BAD_INSTRUCTION</span><span class="w"> </span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">subcode</span><span class="o">=</span><span class="mh">0xc11f</span><span class="p">)</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010300c0d4</span>
<span class="p">-&gt;</span><span class="w">  </span><span class="mh">0x10300c0d4</span><span class="p">:</span><span class="w"> </span><span class="nc">udf</span><span class="w">    </span><span class="p">#</span><span class="mh">0xc11f</span>
<span class="w">    </span><span class="mh">0x10300c0d8</span><span class="p">:</span><span class="w"> </span><span class="nc">udf</span><span class="w">    </span><span class="p">#</span><span class="mh">0xc11f</span>
<span class="w">    </span><span class="mh">0x10300c0dc</span><span class="p">:</span><span class="w"> </span><span class="nc">pacibsp</span>
<span class="w">    </span><span class="mh">0x10300c0e0</span><span class="p">:</span><span class="w"> </span><span class="nc">stp</span><span class="w">    </span><span class="n">x29</span><span class="p">,</span><span class="w"> </span><span class="n">x30</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">sp</span><span class="p">,</span><span class="w"> </span><span class="p">#</span><span class="o">-</span><span class="mh">0x10</span><span class="p">]</span><span class="o">!</span>
<span class="n">Target</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">foo</span><span class="p">)</span><span class="w"> </span><span class="n">stopped</span><span class="p">.</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span><span class="w"> </span><span class="n">bt</span>
<span class="o">*</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="p">#</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'</span><span class="na">com</span><span class="p">.</span><span class="n">apple</span><span class="p">.</span><span class="n">main</span><span class="o">-</span><span class="n">thread</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">stop</span><span class="w"> </span><span class="n">reason</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EXC_BAD_INSTRUCTION</span><span class="w"> </span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">subcode</span><span class="o">=</span><span class="mh">0xc11f</span><span class="p">)</span>
<span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010300c0d4</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010300c1a4</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001001d8a44</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMFuncRef</span><span class="p">::</span><span class="n">array_call_native</span><span class="p">::</span><span class="n">hf1a76eb50b063c12</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x0000000123205300</span><span class="p">,</span><span class="w"> </span><span class="n">caller</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMOpaqueContext</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc8e0</span><span class="p">,</span><span class="w"> </span><span class="n">args_and_results</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="p">[</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">ValRaw</span><span class="p">]</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc8e8</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">vmcontext</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">883</span><span class="p">:</span><span class="mi">9</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001001d89a8</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMFuncRef</span><span class="p">::</span><span class="n">array_call</span><span class="p">::</span><span class="n">h259d543535f9bb01</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x0000000123205300</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">null</span><span class="p">)</span><span class="o">=</span><span class="nb">Option</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">interpreter_disabled</span><span class="p">::</span><span class="n">InterpreterRef</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc937</span><span class="p">,</span><span class="w"> </span><span class="n">caller</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMOpaqueContext</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc940</span><span class="p">,</span><span class="w"> </span><span class="n">args_and_results</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="p">[</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">ValRaw</span><span class="p">]</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc948</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">vmcontext</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">844</span><span class="p">:</span><span class="mi">21</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100005bd4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call_unchecked_raw</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">h24bc96fcbb315c78</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMContext</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc988</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">null</span><span class="p">)</span><span class="o">=</span><span class="nb">Option</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">interpreter_disabled</span><span class="p">::</span><span class="n">InterpreterRef</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc996</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1072</span><span class="p">:</span><span class="mi">13</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000208d4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">call_closure</span><span class="p">::</span><span class="n">h3b0fb3590f0af9e6</span><span class="p">(</span><span class="n">payload</span><span class="o">=</span><span class="s">" \xd1\xdfo\U00000001"</span><span class="p">,</span><span class="w"> </span><span class="n">caller</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMContext</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc9d8</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">399</span><span class="p">:</span><span class="mi">30</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">6</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001002e7c84</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime_setjmp_32_0_0</span><span class="p">(</span><span class="n">buf_storage</span><span class="o">=</span><span class="mh">0x000000016fdfce68</span><span class="p">,</span><span class="w"> </span><span class="n">body</span><span class="o">=</span><span class="p">(</span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">call_closure</span><span class="p">::</span><span class="n">h3b0fb3590f0af9e6</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">395</span><span class="p">),</span><span class="w"> </span><span class="n">payload</span><span class="o">=</span><span class="mh">0x000000016fdfcd20</span><span class="p">,</span><span class="w"> </span><span class="n">callee</span><span class="o">=</span><span class="mh">0x0000600003b380a0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">helpers</span><span class="p">.</span><span class="n">c</span><span class="p">:</span><span class="mi">72</span><span class="p">:</span><span class="mi">10</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">7</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000209ac</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">h219642c9c908f545</span><span class="p">(</span><span class="n">cx</span><span class="o">=</span><span class="mh">0x000000016fdfcdc0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">392</span><span class="p">:</span><span class="mi">32</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">8</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100020a80</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">_</span><span class="cp">$LT$impl$u20$wasmtime</span><span class="o">..</span><span class="n">runtime</span><span class="o">..</span><span class="n">vm</span><span class="o">..</span><span class="n">traphandlers</span><span class="o">..</span><span class="n">call_thread_state</span><span class="o">..</span><span class="n">CallThreadState</span><span class="cp">$GT$</span><span class="p">::</span><span class="n">with</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">hc17b0a162e449c95</span><span class="p">(</span><span class="n">me</span><span class="o">=</span><span class="mh">0x000000016fdfcdc0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">562</span><span class="p">:</span><span class="mi">50</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">9</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010001933c</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">tls</span><span class="p">::</span><span class="n">set</span><span class="p">::</span><span class="n">h0ab900a0bb25efcc</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="mh">0x000000016fdfcdc0</span><span class="p">,</span><span class="w"> </span><span class="n">closure</span><span class="o">=</span><span class="p">{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::{</span><span class="k">impl</span><span class="p">#</span><span class="mi">1</span><span class="p">}::</span><span class="n">call_unchecked_raw</span><span class="p">::{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfcc10</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">979</span><span class="p">:</span><span class="mi">13</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">10</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000153e4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">_</span><span class="cp">$LT$impl$u20$wasmtime</span><span class="o">..</span><span class="n">runtime</span><span class="o">..</span><span class="n">vm</span><span class="o">..</span><span class="n">traphandlers</span><span class="o">..</span><span class="n">call_thread_state</span><span class="o">..</span><span class="n">CallThreadState</span><span class="cp">$GT$</span><span class="p">::</span><span class="n">with</span><span class="p">::</span><span class="n">hf3e8b67938f3fb47</span><span class="p">(</span><span class="bp">self</span><span class="o">=&lt;</span><span class="n">unavailable</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">closure</span><span class="o">=&lt;</span><span class="n">unavailable</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">562</span><span class="p">:</span><span class="mi">25</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">11</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000206a4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::</span><span class="n">h5e19638f63e7b335</span><span class="p">(</span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd1d0</span><span class="p">,</span><span class="w"> </span><span class="n">closure</span><span class="o">=</span><span class="p">{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfcd20</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">374</span><span class="p">:</span><span class="mi">18</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">12</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100004fa8</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">invoke_wasm_and_catch_traps</span><span class="p">::</span><span class="n">h6c487b81a047dadf</span><span class="p">(</span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd1d0</span><span class="p">,</span><span class="w"> </span><span class="n">closure</span><span class="o">=</span><span class="p">{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd0d0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1605</span><span class="p">:</span><span class="mi">22</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">13</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100005b6c</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call_unchecked_raw</span><span class="p">::</span><span class="n">hb1ed6961d36b7362</span><span class="p">(</span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd1d0</span><span class="p">,</span><span class="w"> </span><span class="n">func_ref</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMFuncRef</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd120</span><span class="p">,</span><span class="w"> </span><span class="n">params_and_returns</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="p">[</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">ValRaw</span><span class="p">]</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd128</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1071</span><span class="p">:</span><span class="mi">9</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">14</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100005558</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call_unchecked</span><span class="p">::</span><span class="n">h6483ae344d176884</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x000000016fdfdda8</span><span class="p">,</span><span class="w"> </span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd870</span><span class="p">,</span><span class="w"> </span><span class="n">params_and_returns</span><span class="o">=*</span><span class="k">mut</span><span class="w"> </span><span class="p">[</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">ValRaw</span><span class="p">]</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd1e0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1063</span><span class="p">:</span><span class="mi">9</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">15</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000057e0</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call_impl_do_call</span><span class="p">::</span><span class="n">h3b7972d1a1a27f98</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x000000016fdfdda8</span><span class="p">,</span><span class="w"> </span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd870</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x000000016fdfe3b0</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">results</span><span class="o">=</span><span class="p">(</span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0000000000000008</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1248</span><span class="p">:</span><span class="mi">13</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">16</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100006260</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call</span><span class="p">::</span><span class="n">h9a29cd7eec2a52e1</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x000000016fdfdda8</span><span class="p">,</span><span class="w"> </span><span class="n">store</span><span class="o">=</span><span class="n">Store</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd828</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x000000016fdfe3b0</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">results</span><span class="o">=</span><span class="p">(</span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0000000000000008</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1016</span><span class="p">:</span><span class="mi">18</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">17</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010001b0d0</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">foo</span><span class="p">::</span><span class="n">main</span><span class="p">::</span><span class="n">h7b8cdf5e495db82d</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mi">3</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">18</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000124c8</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">core</span><span class="p">::</span><span class="n">ops</span><span class="p">::</span><span class="n">function</span><span class="p">::</span><span class="nb">FnOnce</span><span class="p">::</span><span class="n">call_once</span><span class="p">::</span><span class="n">h9a17db475815243b</span><span class="p">((</span><span class="n">null</span><span class="p">)</span><span class="o">=</span><span class="p">(</span><span class="n">foo</span><span class="err">`</span><span class="n">foo</span><span class="p">::</span><span class="n">main</span><span class="p">::</span><span class="n">h7b8cdf5e495db82d</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">null</span><span class="p">)</span><span class="o">=&lt;</span><span class="n">unavailable</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">function</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">250</span><span class="p">:</span><span class="mi">5</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">19</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000169fc</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">sys</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="n">__rust_begin_short_backtrace</span><span class="p">::</span><span class="n">h8d40df52d6e8eee0</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="p">(</span><span class="n">foo</span><span class="err">`</span><span class="n">foo</span><span class="p">::</span><span class="n">main</span><span class="p">::</span><span class="n">h7b8cdf5e495db82d</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">3</span><span class="p">))</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">152</span><span class="p">:</span><span class="mi">18</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">20</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100007160</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">h1e9f85636d64c7a1</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">199</span><span class="p">:</span><span class="mi">18</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">21</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b3914</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">ops</span><span class="p">::</span><span class="n">function</span><span class="p">::</span><span class="n">impls</span><span class="p">::</span><span class="n">_</span><span class="cp">$LT$impl$u20$core</span><span class="o">..</span><span class="n">ops</span><span class="o">..</span><span class="n">function</span><span class="o">..</span><span class="nb">FnOnce</span><span class="cp">$LT$A$GT$$u20$for$u20$$RF$F$GT$</span><span class="p">::</span><span class="n">call_once</span><span class="p">::</span><span class="n">he7ba0572945420d1</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">function</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">284</span><span class="p">:</span><span class="mi">13</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">22</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b390c</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="kr">try</span><span class="p">::</span><span class="n">do_call</span><span class="p">::</span><span class="n">hebe393b810f01e71</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">587</span><span class="p">:</span><span class="mi">40</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">23</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b3908</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="kr">try</span><span class="p">::</span><span class="n">hb25fce0758ef422c</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">550</span><span class="p">:</span><span class="mi">19</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">24</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b3908</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panic</span><span class="p">::</span><span class="n">catch_unwind</span><span class="p">::</span><span class="n">h84fa9d32cc13223f</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panic</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">358</span><span class="p">:</span><span class="mi">14</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">25</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b3908</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">h303447aa1f5dac68</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">168</span><span class="p">:</span><span class="mi">24</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">26</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b35c4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="kr">try</span><span class="p">::</span><span class="n">do_call</span><span class="p">::</span><span class="n">h6fee0bd35745e600</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">587</span><span class="p">:</span><span class="mi">40</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">27</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b35c4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="kr">try</span><span class="p">::</span><span class="n">h8a1ab658538ac4f7</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">550</span><span class="p">:</span><span class="mi">19</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">28</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b35c4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panic</span><span class="p">::</span><span class="n">catch_unwind</span><span class="p">::</span><span class="n">hb51538dca89efd17</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panic</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">358</span><span class="p">:</span><span class="mi">14</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">29</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b35c4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">164</span><span class="p">:</span><span class="mi">5</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">30</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100007138</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start</span><span class="p">::</span><span class="n">had5581d6e1c0f172</span><span class="p">(</span><span class="n">main</span><span class="o">=</span><span class="p">(</span><span class="n">foo</span><span class="err">`</span><span class="n">foo</span><span class="p">::</span><span class="n">main</span><span class="p">::</span><span class="n">h7b8cdf5e495db82d</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">argc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="o">=</span><span class="mh">0x000000016fdfe8b8</span><span class="p">,</span><span class="w"> </span><span class="n">sigpipe</span><span class="o">=</span><span class="sc">'\0'</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">198</span><span class="p">:</span><span class="mi">5</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">31</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010001b284</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">main</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">36</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">32</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001859020e0</span><span class="w"> </span><span class="n">dyld</span><span class="err">`</span><span class="n">start</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2360</span>
</code></pre></div>
</blockquote>



<a name="517649364"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310772%20Illegal%20hardware%20instruction%20when.../near/517649364" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310772.20Illegal.20hardware.20instruction.20when.2E.2E.2E.html#517649364">(May 12 2025 at 20:00)</a>:</h4>
<p><a href="https://github.com/willcrichton">willcrichton</a> added the bug label to <a href="https://github.com/bytecodealliance/wasmtime/issues/10772">Issue #10772</a>.</p>



<a name="517649446"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310772%20Illegal%20hardware%20instruction%20when.../near/517649446" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310772.20Illegal.20hardware.20instruction.20when.2E.2E.2E.html#517649446">(May 12 2025 at 20:00)</a>:</h4>
<p>willcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10772">issue #10772</a>:</p>
<blockquote>
<h3>Test Case</h3>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">use</span><span class="w"> </span><span class="n">wasmtime</span><span class="p">::</span><span class="o">*</span><span class="p">;</span>

<span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">::</span><span class="nb">Result</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Config</span><span class="p">::</span><span class="n">new</span><span class="p">();</span>
<span class="w">  </span><span class="n">config</span><span class="p">.</span><span class="n">wasm_gc</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">engine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Engine</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">wat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">r#"</span>
<span class="s">(module</span>
<span class="s">  (type $empty (struct))</span>
<span class="s">  (type $tuple-concrete (struct (field (ref $empty))))</span>
<span class="s">  (type $tuple-abstract (struct (field (ref struct))))</span>
<span class="s">  (func (export "abstract") (param $t (ref $tuple-abstract))</span>
<span class="s">    (drop (ref.cast (ref $tuple-concrete) (local.get $t))))</span>
<span class="s">)</span>
<span class="s">"#</span><span class="p">;</span>

<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Module</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">,</span><span class="w"> </span><span class="n">wat</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">linker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Linker</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Store</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">,</span><span class="w"> </span><span class="p">());</span>

<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linker</span><span class="p">.</span><span class="n">instantiate</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">module</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">abstract_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">instance</span><span class="p">.</span><span class="n">get_func</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="s">"abstract"</span><span class="p">).</span><span class="n">unwrap</span><span class="p">();</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">empty_pre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StructRefPre</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="n">StructType</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">,</span><span class="w"> </span><span class="p">[])</span><span class="o">?</span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">empty_struct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StructRef</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">empty_pre</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p">[])</span><span class="o">?</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">tuple_pre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StructRefPre</span><span class="p">::</span><span class="n">new</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span>
<span class="w">    </span><span class="n">StructType</span><span class="p">::</span><span class="n">new</span><span class="p">(</span>
<span class="w">      </span><span class="o">&amp;</span><span class="n">engine</span><span class="p">,</span>
<span class="w">      </span><span class="p">[</span><span class="n">FieldType</span><span class="p">::</span><span class="n">new</span><span class="p">(</span>
<span class="w">        </span><span class="n">Mutability</span><span class="p">::</span><span class="n">Const</span><span class="p">,</span>
<span class="w">        </span><span class="n">StorageType</span><span class="p">::</span><span class="n">ValType</span><span class="p">(</span><span class="n">ValType</span><span class="p">::</span><span class="n">Ref</span><span class="p">(</span><span class="n">RefType</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">HeapType</span><span class="p">::</span><span class="n">Struct</span><span class="p">))),</span>
<span class="w">      </span><span class="p">)],</span>
<span class="w">    </span><span class="p">)</span><span class="o">?</span><span class="p">,</span>
<span class="w">  </span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">tuple_struct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StructRef</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple_pre</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p">[</span><span class="n">empty_struct</span><span class="p">.</span><span class="n">into</span><span class="p">()])</span><span class="o">?</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">tuple_any</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Val</span><span class="p">::</span><span class="n">from</span><span class="p">(</span><span class="n">tuple_struct</span><span class="p">);</span>
<span class="w">  </span><span class="n">abstract_</span><span class="p">.</span><span class="n">call</span><span class="p">(</span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p">[</span><span class="n">tuple_any</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="p">[])</span><span class="o">?</span><span class="p">;</span><span class="w"> </span><span class="c1">// issue happens here</span>

<span class="w">  </span><span class="nb">Ok</span><span class="p">(())</span>
<span class="p">}</span>
</code></pre></div>
<h3>Steps to Reproduce</h3>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="n">cargo</span><span class="w"> </span><span class="n">run</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w">    </span><span class="mi">70577</span><span class="w"> </span><span class="n">illegal</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">instruction</span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: 32.0.0</p>
<p>Operating system: MacOS</p>
<p>Architecture: 64-bit ARM</p>
<h3>Extra Info</h3>
<p>Backtrace from lldb:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">(</span><span class="n">lldb</span><span class="p">)</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="s">"./target/debug/foo"</span>
<span class="n">Current</span><span class="w"> </span><span class="n">executable</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">'/</span><span class="n">tmp</span><span class="o">/</span><span class="n">subtype</span><span class="o">-</span><span class="n">test</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">foo</span><span class="o">'</span><span class="w"> </span><span class="p">(</span><span class="n">arm64</span><span class="p">).</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span><span class="w"> </span><span class="n">r</span>
<span class="n">Process</span><span class="w"> </span><span class="mi">62612</span><span class="w"> </span><span class="n">launched</span><span class="p">:</span><span class="w"> </span><span class="o">'/</span><span class="n">tmp</span><span class="o">/</span><span class="n">subtype</span><span class="o">-</span><span class="n">test</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">foo</span><span class="o">'</span><span class="w"> </span><span class="p">(</span><span class="n">arm64</span><span class="p">)</span>
<span class="n">expected</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="p">(</span><span class="n">concrete</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">VMSharedTypeIndex</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
<span class="n">Process</span><span class="w"> </span><span class="mi">62612</span><span class="w"> </span><span class="n">stopped</span>
<span class="o">*</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="p">#</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'</span><span class="na">com</span><span class="p">.</span><span class="n">apple</span><span class="p">.</span><span class="n">main</span><span class="o">-</span><span class="n">thread</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">stop</span><span class="w"> </span><span class="n">reason</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EXC_BAD_INSTRUCTION</span><span class="w"> </span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">subcode</span><span class="o">=</span><span class="mh">0xc11f</span><span class="p">)</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010300c0d4</span>
<span class="p">-&gt;</span><span class="w">  </span><span class="mh">0x10300c0d4</span><span class="p">:</span><span class="w"> </span><span class="nc">udf</span><span class="w">    </span><span class="p">#</span><span class="mh">0xc11f</span>
<span class="w">    </span><span class="mh">0x10300c0d8</span><span class="p">:</span><span class="w"> </span><span class="nc">udf</span><span class="w">    </span><span class="p">#</span><span class="mh">0xc11f</span>
<span class="w">    </span><span class="mh">0x10300c0dc</span><span class="p">:</span><span class="w"> </span><span class="nc">pacibsp</span>
<span class="w">    </span><span class="mh">0x10300c0e0</span><span class="p">:</span><span class="w"> </span><span class="nc">stp</span><span class="w">    </span><span class="n">x29</span><span class="p">,</span><span class="w"> </span><span class="n">x30</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">sp</span><span class="p">,</span><span class="w"> </span><span class="p">#</span><span class="o">-</span><span class="mh">0x10</span><span class="p">]</span><span class="o">!</span>
<span class="n">Target</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">foo</span><span class="p">)</span><span class="w"> </span><span class="n">stopped</span><span class="p">.</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span><span class="w"> </span><span class="n">bt</span>
<span class="o">*</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="p">#</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'</span><span class="na">com</span><span class="p">.</span><span class="n">apple</span><span class="p">.</span><span class="n">main</span><span class="o">-</span><span class="n">thread</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">stop</span><span class="w"> </span><span class="n">reason</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EXC_BAD_INSTRUCTION</span><span class="w"> </span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">subcode</span><span class="o">=</span><span class="mh">0xc11f</span><span class="p">)</span>
<span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010300c0d4</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010300c1a4</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001001d8a44</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMFuncRef</span><span class="p">::</span><span class="n">array_call_native</span><span class="p">::</span><span class="n">hf1a76eb50b063c12</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x0000000123205300</span><span class="p">,</span><span class="w"> </span><span class="n">caller</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMOpaqueContext</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc8e0</span><span class="p">,</span><span class="w"> </span><span class="n">args_and_results</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="p">[</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">ValRaw</span><span class="p">]</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc8e8</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">vmcontext</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">883</span><span class="p">:</span><span class="mi">9</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001001d89a8</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMFuncRef</span><span class="p">::</span><span class="n">array_call</span><span class="p">::</span><span class="n">h259d543535f9bb01</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x0000000123205300</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">null</span><span class="p">)</span><span class="o">=</span><span class="nb">Option</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">interpreter_disabled</span><span class="p">::</span><span class="n">InterpreterRef</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc937</span><span class="p">,</span><span class="w"> </span><span class="n">caller</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMOpaqueContext</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc940</span><span class="p">,</span><span class="w"> </span><span class="n">args_and_results</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="p">[</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">ValRaw</span><span class="p">]</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc948</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">vmcontext</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">844</span><span class="p">:</span><span class="mi">21</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100005bd4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call_unchecked_raw</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">h24bc96fcbb315c78</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMContext</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc988</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">null</span><span class="p">)</span><span class="o">=</span><span class="nb">Option</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">interpreter_disabled</span><span class="p">::</span><span class="n">InterpreterRef</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc996</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1072</span><span class="p">:</span><span class="mi">13</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000208d4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">call_closure</span><span class="p">::</span><span class="n">h3b0fb3590f0af9e6</span><span class="p">(</span><span class="n">payload</span><span class="o">=</span><span class="s">" \xd1\xdfo\U00000001"</span><span class="p">,</span><span class="w"> </span><span class="n">caller</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMContext</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc9d8</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">399</span><span class="p">:</span><span class="mi">30</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">6</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001002e7c84</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime_setjmp_32_0_0</span><span class="p">(</span><span class="n">buf_storage</span><span class="o">=</span><span class="mh">0x000000016fdfce68</span><span class="p">,</span><span class="w"> </span><span class="n">body</span><span class="o">=</span><span class="p">(</span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">call_closure</span><span class="p">::</span><span class="n">h3b0fb3590f0af9e6</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">395</span><span class="p">),</span><span class="w"> </span><span class="n">payload</span><span class="o">=</span><span class="mh">0x000000016fdfcd20</span><span class="p">,</span><span class="w"> </span><span class="n">callee</span><span class="o">=</span><span class="mh">0x0000600003b380a0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">helpers</span><span class="p">.</span><span class="n">c</span><span class="p">:</span><span class="mi">72</span><span class="p">:</span><span class="mi">10</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">7</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000209ac</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">h219642c9c908f545</span><span class="p">(</span><span class="n">cx</span><span class="o">=</span><span class="mh">0x000000016fdfcdc0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">392</span><span class="p">:</span><span class="mi">32</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">8</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100020a80</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">_</span><span class="cp">$LT$impl$u20$wasmtime</span><span class="o">..</span><span class="n">runtime</span><span class="o">..</span><span class="n">vm</span><span class="o">..</span><span class="n">traphandlers</span><span class="o">..</span><span class="n">call_thread_state</span><span class="o">..</span><span class="n">CallThreadState</span><span class="cp">$GT$</span><span class="p">::</span><span class="n">with</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">hc17b0a162e449c95</span><span class="p">(</span><span class="n">me</span><span class="o">=</span><span class="mh">0x000000016fdfcdc0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">562</span><span class="p">:</span><span class="mi">50</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">9</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010001933c</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">tls</span><span class="p">::</span><span class="n">set</span><span class="p">::</span><span class="n">h0ab900a0bb25efcc</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="mh">0x000000016fdfcdc0</span><span class="p">,</span><span class="w"> </span><span class="n">closure</span><span class="o">=</span><span class="p">{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::{</span><span class="k">impl</span><span class="p">#</span><span class="mi">1</span><span class="p">}::</span><span class="n">call_unchecked_raw</span><span class="p">::{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfcc10</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">979</span><span class="p">:</span><span class="mi">13</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">10</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000153e4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">_</span><span class="cp">$LT$impl$u20$wasmtime</span><span class="o">..</span><span class="n">runtime</span><span class="o">..</span><span class="n">vm</span><span class="o">..</span><span class="n">traphandlers</span><span class="o">..</span><span class="n">call_thread_state</span><span class="o">..</span><span class="n">CallThreadState</span><span class="cp">$GT$</span><span class="p">::</span><span class="n">with</span><span class="p">::</span><span class="n">hf3e8b67938f3fb47</span><span class="p">(</span><span class="bp">self</span><span class="o">=&lt;</span><span class="n">unavailable</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">closure</span><span class="o">=&lt;</span><span class="n">unavailable</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">562</span><span class="p">:</span><span class="mi">25</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">11</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000206a4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::</span><span class="n">h5e19638f63e7b335</span><span class="p">(</span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd1d0</span><span class="p">,</span><span class="w"> </span><span class="n">closure</span><span class="o">=</span><span class="p">{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfcd20</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">374</span><span class="p">:</span><span class="mi">18</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">12</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100004fa8</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">invoke_wasm_and_catch_traps</span><span class="p">::</span><span class="n">h6c487b81a047dadf</span><span class="p">(</span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd1d0</span><span class="p">,</span><span class="w"> </span><span class="n">closure</span><span class="o">=</span><span class="p">{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd0d0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1605</span><span class="p">:</span><span class="mi">22</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">13</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100005b6c</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call_unchecked_raw</span><span class="p">::</span><span class="n">hb1ed6961d36b7362</span><span class="p">(</span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd1d0</span><span class="p">,</span><span class="w"> </span><span class="n">func_ref</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMFuncRef</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd120</span><span class="p">,</span><span class="w"> </span><span class="n">params_and_returns</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="p">[</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">ValRaw</span><span class="p">]</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd128</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1071</span><span class="p">:</span><span class="mi">9</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">14</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100005558</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call_unchecked</span><span class="p">::</span><span class="n">h6483ae344d176884</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x000000016fdfdda8</span><span class="p">,</span><span class="w"> </span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd870</span><span class="p">,</span><span class="w"> </span><span class="n">params_and_returns</span><span class="o">=*</span><span class="k">mut</span><span class="w"> </span><span class="p">[</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">ValRaw</span><span class="p">]</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd1e0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1063</span><span class="p">:</span><span class="mi">9</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">15</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000057e0</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call_impl_do_call</span><span class="p">::</span><span class="n">h3b7972d1a1a27f98</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x000000016fdfdda8</span><span class="p">,</span><span class="w"> </span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd870</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x000000016fdfe3b0</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">results</span><span class="o">=</span><span class="p">(</span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0000000000000008</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1248</span><span class="p">:</span><span class="mi">13</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">16</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100006260</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call</span><span class="p">::</span><span class="n">h9a29cd7eec2a52e1</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x000000016fdfdda8</span><span class="p">,</span><span class="w"> </span><span class="n">store</span><span class="o">=</span><span class="n">Store</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd828</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x000000016fdfe3b0</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">results</span><span class="o">=</span><span class="p">(</span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0000000000000008</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1016</span><span class="p">:</span><span class="mi">18</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">17</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010001b0d0</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">foo</span><span class="p">::</span><span class="n">main</span><span class="p">::</span><span class="n">h7b8cdf5e495db82d</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mi">3</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">18</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000124c8</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">core</span><span class="p">::</span><span class="n">ops</span><span class="p">::</span><span class="n">function</span><span class="p">::</span><span class="nb">FnOnce</span><span class="p">::</span><span class="n">call_once</span><span class="p">::</span><span class="n">h9a17db475815243b</span><span class="p">((</span><span class="n">null</span><span class="p">)</span><span class="o">=</span><span class="p">(</span><span class="n">foo</span><span class="err">`</span><span class="n">foo</span><span class="p">::</span><span class="n">main</span><span class="p">::</span><span class="n">h7b8cdf5e495db82d</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">null</span><span class="p">)</span><span class="o">=&lt;</span><span class="n">unavailable</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">function</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">250</span><span class="p">:</span><span class="mi">5</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">19</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000169fc</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">sys</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="n">__rust_begin_short_backtrace</span><span class="p">::</span><span class="n">h8d40df52d6e8eee0</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="p">(</span><span class="n">foo</span><span class="err">`</span><span class="n">foo</span><span class="p">::</span><span class="n">main</span><span class="p">::</span><span class="n">h7b8cdf5e495db82d</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">3</span><span class="p">))</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">152</span><span class="p">:</span><span class="mi">18</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">20</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100007160</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">h1e9f85636d64c7a1</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">199</span><span class="p">:</span><span class="mi">18</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">21</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b3914</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">ops</span><span class="p">::</span><span class="n">function</span><span class="p">::</span><span class="n">impls</span><span class="p">::</span><span class="n">_</span><span class="cp">$LT$impl$u20$core</span><span class="o">..</span><span class="n">ops</span><span class="o">..</span><span class="n">function</span><span class="o">..</span><span class="nb">FnOnce</span><span class="cp">$LT$A$GT$$u20$for$u20$$RF$F$GT$</span><span class="p">::</span><span class="n">call_once</span><span class="p">::</span><span class="n">he7ba0572945420d1</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">function</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">284</span><span class="p">:</span><span class="mi">13</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">22</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b390c</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="kr">try</span><span class="p">::</span><span class="n">do_call</span><span class="p">::</span><span class="n">hebe393b810f01e71</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">587</span><span class="p">:</span><span class="mi">40</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">23</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b3908</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="kr">try</span><span class="p">::</span><span class="n">hb25fce0758ef422c</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">550</span><span class="p">:</span><span class="mi">19</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">24</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b3908</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panic</span><span class="p">::</span><span class="n">catch_unwind</span><span class="p">::</span><span class="n">h84fa9d32cc13223f</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panic</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">358</span><span class="p">:</span><span class="mi">14</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">25</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b3908</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">h303447aa1f5dac68</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">168</span><span class="p">:</span><span class="mi">24</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">26</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b35c4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="kr">try</span><span class="p">::</span><span class="n">do_call</span><span class="p">::</span><span class="n">h6fee0bd35745e600</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">587</span><span class="p">:</span><span class="mi">40</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">27</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b35c4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="kr">try</span><span class="p">::</span><span class="n">h8a1ab658538ac4f7</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">550</span><span class="p">:</span><span class="mi">19</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">28</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b35c4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panic</span><span class="p">::</span><span class="n">catch_unwind</span><span class="p">::</span><span class="n">hb51538dca89efd17</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panic</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">358</span><span class="p">:</span><span class="mi">14</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">29</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b35c4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">164</span><span class="p">:</span><span class="mi">5</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">30</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100007138</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start</span><span class="p">::</span><span class="n">had5581d6e1c0f172</span><span class="p">(</span><span class="n">main</span><span class="o">=</span><span class="p">(</span><span class="n">foo</span><span class="err">`</span><span class="n">foo</span><span class="p">::</span><span class="n">main</span><span class="p">::</span><span class="n">h7b8cdf5e495db82d</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">argc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="o">=</span><span class="mh">0x000000016fdfe8b8</span><span class="p">,</span><span class="w"> </span><span class="n">sigpipe</span><span class="o">=</span><span class="sc">'\0'</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">198</span><span class="p">:</span><span class="mi">5</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">31</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010001b284</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">main</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">36</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">32</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001859020e0</span><span class="w"> </span><span class="n">dyld</span><span class="err">`</span><span class="n">start</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2360</span>
</code></pre></div>
</blockquote>



<a name="517734587"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310772%20Illegal%20hardware%20instruction%20when.../near/517734587" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310772.20Illegal.20hardware.20instruction.20when.2E.2E.2E.html#517734587">(May 13 2025 at 04:36)</a>:</h4>
<p>alexcrichton assigned fitzgen to <a href="https://github.com/bytecodealliance/wasmtime/issues/10772">issue #10772</a>.</p>



<a name="517734592"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310772%20Illegal%20hardware%20instruction%20when.../near/517734592" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310772.20Illegal.20hardware.20instruction.20when.2E.2E.2E.html#517734592">(May 13 2025 at 04:36)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> added the wasm-proposal:gc label to <a href="https://github.com/bytecodealliance/wasmtime/issues/10772">Issue #10772</a>.</p>



<a name="517887025"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310772%20Illegal%20hardware%20instruction%20when.../near/517887025" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310772.20Illegal.20hardware.20instruction.20when.2E.2E.2E.html#517887025">(May 13 2025 at 17:29)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/issues/10772#issuecomment-2877405000">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10772">issue #10772</a>:</p>
<blockquote>
<p>Thanks for filing an issue!</p>
<p>This doesn't repro on <code>main</code>, and I suspect it was fixed in the flurry of GC bug fixes we had a month or two ago. Probably works in the 33 release as well. Working on bisecting right now.</p>
</blockquote>



<a name="517896294"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310772%20Illegal%20hardware%20instruction%20when.../near/517896294" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310772.20Illegal.20hardware.20instruction.20when.2E.2E.2E.html#517896294">(May 13 2025 at 18:24)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/issues/10772#issuecomment-2877548595">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10772">issue #10772</a>:</p>
<blockquote>
<p>Looks like it was fixed in </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">commit</span><span class="w"> </span><span class="n">c22b3cb9690a98b648d3c84eb0950aab854d3794</span>
<span class="n">Author</span><span class="p">:</span><span class="w"> </span><span class="nc">Nick</span><span class="w"> </span><span class="n">Fitzgerald</span><span class="w"> </span><span class="o">&lt;</span><span class="n">fitzgen</span><span class="o">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span>
<span class="n">Date</span><span class="p">:</span><span class="w">   </span><span class="nc">Fri</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">14</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">55</span><span class="w"> </span><span class="mi">2025</span><span class="w"> </span><span class="o">-</span><span class="mi">0700</span>

<span class="w">    </span><span class="n">Reuse</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">linear</span><span class="w"> </span><span class="n">memories</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">GC</span><span class="w"> </span><span class="n">heaps</span><span class="w"> </span><span class="p">(#</span><span class="mi">10503</span><span class="p">)</span>
</code></pre></div>
<p>and is part of the upcoming 33 release.</p>
<p>That said, I am a little surprised that that was the commit that fixed this issue. I'll add a regression test, since that commit doesn't have one for this bug.</p>
<p>Also fyi @willcrichton, that cast will always fail since <code>$tuple-concrete</code> is not declared as a subtype of <code>$tuple-abstract</code>.</p>
<p>Also, I'm curious what you're doing with Wasm GC, how your experience with Wasm GC and Wasmtime is so far, and what if anything we can do to help things work smoothly!</p>
</blockquote>



<a name="517898997"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310772%20Illegal%20hardware%20instruction%20when.../near/517898997" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310772.20Illegal.20hardware.20instruction.20when.2E.2E.2E.html#517898997">(May 13 2025 at 18:39)</a>:</h4>
<p>willcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/10772#issuecomment-2877586355">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10772">issue #10772</a>:</p>
<blockquote>
<p>Thanks, yes I expected this to fail, but I was surprised when it faulted :-) </p>
<p>I am teaching a course on program analysis in the fall, including dynamic analysis as used by JIT compilers. I'm experimenting with a simple GC'd language which has an interpreter in Rust that can JIT compile to Wasm via Wasmtime. I'm defining the value type in the interpreter as <code>wasmtime::Val</code> so I can easily pass interpreter values into Wasm. It's also handy to use Wasm structs to represent stuff like closures without needing my own allocator in Wasm's linear memory.</p>
<p>So far Wasmtime has worked great. The hardest part has been learning about the Wasm GC proposal, since documentation is sparse. The biggest uncertainty is how to properly manage my stores. Right now I have a single global store that everything gets allocated in to, which presumably means all my allocations are never GC'd, so I need to figure that out. I haven't started seriously benchmarking things yet, so I might have more questions about various overheads or inefficiencies once I embark on that part of the project. There's a few smaller things (why does <code>Val</code> have identical <code>any_ref()</code> and <code>anyref()</code> methods?) but those aren't blockers.</p>
</blockquote>



<a name="517899307"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310772%20Illegal%20hardware%20instruction%20when.../near/517899307" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310772.20Illegal.20hardware.20instruction.20when.2E.2E.2E.html#517899307">(May 13 2025 at 18:41)</a>:</h4>
<p>willcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/10772#issuecomment-2877589767">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10772">issue #10772</a>:</p>
<blockquote>
<p>Also it's been helpful to pester @alexcrichton when I have stupid questions :D</p>
</blockquote>



<a name="517993586"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310772%20Illegal%20hardware%20instruction%20when.../near/517993586" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310772.20Illegal.20hardware.20instruction.20when.2E.2E.2E.html#517993586">(May 14 2025 at 07:48)</a>:</h4>
<p>fitzgen closed <a href="https://github.com/bytecodealliance/wasmtime/issues/10772">issue #10772</a>:</p>
<blockquote>
<h3>Test Case</h3>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">use</span><span class="w"> </span><span class="n">wasmtime</span><span class="p">::</span><span class="o">*</span><span class="p">;</span>

<span class="k">fn</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">::</span><span class="nb">Result</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Config</span><span class="p">::</span><span class="n">new</span><span class="p">();</span>
<span class="w">  </span><span class="n">config</span><span class="p">.</span><span class="n">wasm_gc</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">engine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Engine</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">wat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">r#"</span>
<span class="s">(module</span>
<span class="s">  (type $empty (struct))</span>
<span class="s">  (type $tuple-concrete (struct (field (ref $empty))))</span>
<span class="s">  (type $tuple-abstract (struct (field (ref struct))))</span>
<span class="s">  (func (export "abstract") (param $t (ref $tuple-abstract))</span>
<span class="s">    (drop (ref.cast (ref $tuple-concrete) (local.get $t))))</span>
<span class="s">)</span>
<span class="s">"#</span><span class="p">;</span>

<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Module</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">,</span><span class="w"> </span><span class="n">wat</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">linker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Linker</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Store</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">,</span><span class="w"> </span><span class="p">());</span>

<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linker</span><span class="p">.</span><span class="n">instantiate</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">module</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">abstract_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">instance</span><span class="p">.</span><span class="n">get_func</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="s">"abstract"</span><span class="p">).</span><span class="n">unwrap</span><span class="p">();</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">empty_pre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StructRefPre</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="n">StructType</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">,</span><span class="w"> </span><span class="p">[])</span><span class="o">?</span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">empty_struct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StructRef</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">empty_pre</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p">[])</span><span class="o">?</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">tuple_pre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StructRefPre</span><span class="p">::</span><span class="n">new</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span>
<span class="w">    </span><span class="n">StructType</span><span class="p">::</span><span class="n">new</span><span class="p">(</span>
<span class="w">      </span><span class="o">&amp;</span><span class="n">engine</span><span class="p">,</span>
<span class="w">      </span><span class="p">[</span><span class="n">FieldType</span><span class="p">::</span><span class="n">new</span><span class="p">(</span>
<span class="w">        </span><span class="n">Mutability</span><span class="p">::</span><span class="n">Const</span><span class="p">,</span>
<span class="w">        </span><span class="n">StorageType</span><span class="p">::</span><span class="n">ValType</span><span class="p">(</span><span class="n">ValType</span><span class="p">::</span><span class="n">Ref</span><span class="p">(</span><span class="n">RefType</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">HeapType</span><span class="p">::</span><span class="n">Struct</span><span class="p">))),</span>
<span class="w">      </span><span class="p">)],</span>
<span class="w">    </span><span class="p">)</span><span class="o">?</span><span class="p">,</span>
<span class="w">  </span><span class="p">);</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">tuple_struct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StructRef</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tuple_pre</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p">[</span><span class="n">empty_struct</span><span class="p">.</span><span class="n">into</span><span class="p">()])</span><span class="o">?</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">tuple_any</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Val</span><span class="p">::</span><span class="n">from</span><span class="p">(</span><span class="n">tuple_struct</span><span class="p">);</span>
<span class="w">  </span><span class="n">abstract_</span><span class="p">.</span><span class="n">call</span><span class="p">(</span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p">[</span><span class="n">tuple_any</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="p">[])</span><span class="o">?</span><span class="p">;</span><span class="w"> </span><span class="c1">// issue happens here</span>

<span class="w">  </span><span class="nb">Ok</span><span class="p">(())</span>
<span class="p">}</span>
</code></pre></div>
<h3>Steps to Reproduce</h3>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="n">cargo</span><span class="w"> </span><span class="n">run</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w">    </span><span class="mi">70577</span><span class="w"> </span><span class="n">illegal</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">instruction</span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: 32.0.0</p>
<p>Operating system: MacOS</p>
<p>Architecture: 64-bit ARM</p>
<h3>Extra Info</h3>
<p>Backtrace from lldb:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">(</span><span class="n">lldb</span><span class="p">)</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="s">"./target/debug/foo"</span>
<span class="n">Current</span><span class="w"> </span><span class="n">executable</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">'/</span><span class="n">tmp</span><span class="o">/</span><span class="n">subtype</span><span class="o">-</span><span class="n">test</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">foo</span><span class="o">'</span><span class="w"> </span><span class="p">(</span><span class="n">arm64</span><span class="p">).</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span><span class="w"> </span><span class="n">r</span>
<span class="n">Process</span><span class="w"> </span><span class="mi">62612</span><span class="w"> </span><span class="n">launched</span><span class="p">:</span><span class="w"> </span><span class="o">'/</span><span class="n">tmp</span><span class="o">/</span><span class="n">subtype</span><span class="o">-</span><span class="n">test</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">foo</span><span class="o">'</span><span class="w"> </span><span class="p">(</span><span class="n">arm64</span><span class="p">)</span>
<span class="n">expected</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="p">(</span><span class="n">concrete</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">VMSharedTypeIndex</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
<span class="n">Process</span><span class="w"> </span><span class="mi">62612</span><span class="w"> </span><span class="n">stopped</span>
<span class="o">*</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="p">#</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'</span><span class="na">com</span><span class="p">.</span><span class="n">apple</span><span class="p">.</span><span class="n">main</span><span class="o">-</span><span class="n">thread</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">stop</span><span class="w"> </span><span class="n">reason</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EXC_BAD_INSTRUCTION</span><span class="w"> </span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">subcode</span><span class="o">=</span><span class="mh">0xc11f</span><span class="p">)</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010300c0d4</span>
<span class="p">-&gt;</span><span class="w">  </span><span class="mh">0x10300c0d4</span><span class="p">:</span><span class="w"> </span><span class="nc">udf</span><span class="w">    </span><span class="p">#</span><span class="mh">0xc11f</span>
<span class="w">    </span><span class="mh">0x10300c0d8</span><span class="p">:</span><span class="w"> </span><span class="nc">udf</span><span class="w">    </span><span class="p">#</span><span class="mh">0xc11f</span>
<span class="w">    </span><span class="mh">0x10300c0dc</span><span class="p">:</span><span class="w"> </span><span class="nc">pacibsp</span>
<span class="w">    </span><span class="mh">0x10300c0e0</span><span class="p">:</span><span class="w"> </span><span class="nc">stp</span><span class="w">    </span><span class="n">x29</span><span class="p">,</span><span class="w"> </span><span class="n">x30</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">sp</span><span class="p">,</span><span class="w"> </span><span class="p">#</span><span class="o">-</span><span class="mh">0x10</span><span class="p">]</span><span class="o">!</span>
<span class="n">Target</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">foo</span><span class="p">)</span><span class="w"> </span><span class="n">stopped</span><span class="p">.</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span><span class="w"> </span><span class="n">bt</span>
<span class="o">*</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="p">#</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'</span><span class="na">com</span><span class="p">.</span><span class="n">apple</span><span class="p">.</span><span class="n">main</span><span class="o">-</span><span class="n">thread</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">stop</span><span class="w"> </span><span class="n">reason</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EXC_BAD_INSTRUCTION</span><span class="w"> </span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">subcode</span><span class="o">=</span><span class="mh">0xc11f</span><span class="p">)</span>
<span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010300c0d4</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010300c1a4</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001001d8a44</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMFuncRef</span><span class="p">::</span><span class="n">array_call_native</span><span class="p">::</span><span class="n">hf1a76eb50b063c12</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x0000000123205300</span><span class="p">,</span><span class="w"> </span><span class="n">caller</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMOpaqueContext</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc8e0</span><span class="p">,</span><span class="w"> </span><span class="n">args_and_results</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="p">[</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">ValRaw</span><span class="p">]</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc8e8</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">vmcontext</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">883</span><span class="p">:</span><span class="mi">9</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001001d89a8</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMFuncRef</span><span class="p">::</span><span class="n">array_call</span><span class="p">::</span><span class="n">h259d543535f9bb01</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x0000000123205300</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">null</span><span class="p">)</span><span class="o">=</span><span class="nb">Option</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">interpreter_disabled</span><span class="p">::</span><span class="n">InterpreterRef</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc937</span><span class="p">,</span><span class="w"> </span><span class="n">caller</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMOpaqueContext</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc940</span><span class="p">,</span><span class="w"> </span><span class="n">args_and_results</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="p">[</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">ValRaw</span><span class="p">]</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc948</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">vmcontext</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">844</span><span class="p">:</span><span class="mi">21</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100005bd4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call_unchecked_raw</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">h24bc96fcbb315c78</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMContext</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc988</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">null</span><span class="p">)</span><span class="o">=</span><span class="nb">Option</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">interpreter_disabled</span><span class="p">::</span><span class="n">InterpreterRef</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc996</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1072</span><span class="p">:</span><span class="mi">13</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000208d4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">call_closure</span><span class="p">::</span><span class="n">h3b0fb3590f0af9e6</span><span class="p">(</span><span class="n">payload</span><span class="o">=</span><span class="s">" \xd1\xdfo\U00000001"</span><span class="p">,</span><span class="w"> </span><span class="n">caller</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMContext</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfc9d8</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">399</span><span class="p">:</span><span class="mi">30</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">6</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001002e7c84</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime_setjmp_32_0_0</span><span class="p">(</span><span class="n">buf_storage</span><span class="o">=</span><span class="mh">0x000000016fdfce68</span><span class="p">,</span><span class="w"> </span><span class="n">body</span><span class="o">=</span><span class="p">(</span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">call_closure</span><span class="p">::</span><span class="n">h3b0fb3590f0af9e6</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">395</span><span class="p">),</span><span class="w"> </span><span class="n">payload</span><span class="o">=</span><span class="mh">0x000000016fdfcd20</span><span class="p">,</span><span class="w"> </span><span class="n">callee</span><span class="o">=</span><span class="mh">0x0000600003b380a0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">helpers</span><span class="p">.</span><span class="n">c</span><span class="p">:</span><span class="mi">72</span><span class="p">:</span><span class="mi">10</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">7</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000209ac</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">h219642c9c908f545</span><span class="p">(</span><span class="n">cx</span><span class="o">=</span><span class="mh">0x000000016fdfcdc0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">392</span><span class="p">:</span><span class="mi">32</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">8</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100020a80</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">_</span><span class="cp">$LT$impl$u20$wasmtime</span><span class="o">..</span><span class="n">runtime</span><span class="o">..</span><span class="n">vm</span><span class="o">..</span><span class="n">traphandlers</span><span class="o">..</span><span class="n">call_thread_state</span><span class="o">..</span><span class="n">CallThreadState</span><span class="cp">$GT$</span><span class="p">::</span><span class="n">with</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">hc17b0a162e449c95</span><span class="p">(</span><span class="n">me</span><span class="o">=</span><span class="mh">0x000000016fdfcdc0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">562</span><span class="p">:</span><span class="mi">50</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">9</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010001933c</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">tls</span><span class="p">::</span><span class="n">set</span><span class="p">::</span><span class="n">h0ab900a0bb25efcc</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="mh">0x000000016fdfcdc0</span><span class="p">,</span><span class="w"> </span><span class="n">closure</span><span class="o">=</span><span class="p">{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::{</span><span class="k">impl</span><span class="p">#</span><span class="mi">1</span><span class="p">}::</span><span class="n">call_unchecked_raw</span><span class="p">::{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfcc10</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">979</span><span class="p">:</span><span class="mi">13</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">10</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000153e4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">_</span><span class="cp">$LT$impl$u20$wasmtime</span><span class="o">..</span><span class="n">runtime</span><span class="o">..</span><span class="n">vm</span><span class="o">..</span><span class="n">traphandlers</span><span class="o">..</span><span class="n">call_thread_state</span><span class="o">..</span><span class="n">CallThreadState</span><span class="cp">$GT$</span><span class="p">::</span><span class="n">with</span><span class="p">::</span><span class="n">hf3e8b67938f3fb47</span><span class="p">(</span><span class="bp">self</span><span class="o">=&lt;</span><span class="n">unavailable</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">closure</span><span class="o">=&lt;</span><span class="n">unavailable</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">562</span><span class="p">:</span><span class="mi">25</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">11</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000206a4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">traphandlers</span><span class="p">::</span><span class="n">catch_traps</span><span class="p">::</span><span class="n">h5e19638f63e7b335</span><span class="p">(</span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd1d0</span><span class="p">,</span><span class="w"> </span><span class="n">closure</span><span class="o">=</span><span class="p">{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfcd20</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">374</span><span class="p">:</span><span class="mi">18</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">12</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100004fa8</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">invoke_wasm_and_catch_traps</span><span class="p">::</span><span class="n">h6c487b81a047dadf</span><span class="p">(</span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd1d0</span><span class="p">,</span><span class="w"> </span><span class="n">closure</span><span class="o">=</span><span class="p">{</span><span class="n">closure_env</span><span class="p">#</span><span class="mi">0</span><span class="p">}</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd0d0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1605</span><span class="p">:</span><span class="mi">22</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">13</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100005b6c</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call_unchecked_raw</span><span class="p">::</span><span class="n">hb1ed6961d36b7362</span><span class="p">(</span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd1d0</span><span class="p">,</span><span class="w"> </span><span class="n">func_ref</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">VMFuncRef</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd120</span><span class="p">,</span><span class="w"> </span><span class="n">params_and_returns</span><span class="o">=</span><span class="n">NonNull</span><span class="o">&lt;</span><span class="p">[</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">ValRaw</span><span class="p">]</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd128</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1071</span><span class="p">:</span><span class="mi">9</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">14</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100005558</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call_unchecked</span><span class="p">::</span><span class="n">h6483ae344d176884</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x000000016fdfdda8</span><span class="p">,</span><span class="w"> </span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd870</span><span class="p">,</span><span class="w"> </span><span class="n">params_and_returns</span><span class="o">=*</span><span class="k">mut</span><span class="w"> </span><span class="p">[</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">vm</span><span class="p">::</span><span class="n">vmcontext</span><span class="p">::</span><span class="n">ValRaw</span><span class="p">]</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd1e0</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1063</span><span class="p">:</span><span class="mi">9</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">15</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000057e0</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call_impl_do_call</span><span class="p">::</span><span class="n">h3b7972d1a1a27f98</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x000000016fdfdda8</span><span class="p">,</span><span class="w"> </span><span class="n">store</span><span class="o">=</span><span class="mh">0x000000016fdfd870</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x000000016fdfe3b0</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">results</span><span class="o">=</span><span class="p">(</span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0000000000000008</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1248</span><span class="p">:</span><span class="mi">13</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">16</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100006260</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">wasmtime</span><span class="p">::</span><span class="n">runtime</span><span class="p">::</span><span class="n">func</span><span class="p">::</span><span class="n">Func</span><span class="p">::</span><span class="n">call</span><span class="p">::</span><span class="n">h9a29cd7eec2a52e1</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="mh">0x000000016fdfdda8</span><span class="p">,</span><span class="w"> </span><span class="n">store</span><span class="o">=</span><span class="n">Store</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mh">0x000000016fdfd828</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x000000016fdfe3b0</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">results</span><span class="o">=</span><span class="p">(</span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0000000000000008</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1016</span><span class="p">:</span><span class="mi">18</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">17</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010001b0d0</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">foo</span><span class="p">::</span><span class="n">main</span><span class="p">::</span><span class="n">h7b8cdf5e495db82d</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mi">3</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">18</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000124c8</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">core</span><span class="p">::</span><span class="n">ops</span><span class="p">::</span><span class="n">function</span><span class="p">::</span><span class="nb">FnOnce</span><span class="p">::</span><span class="n">call_once</span><span class="p">::</span><span class="n">h9a17db475815243b</span><span class="p">((</span><span class="n">null</span><span class="p">)</span><span class="o">=</span><span class="p">(</span><span class="n">foo</span><span class="err">`</span><span class="n">foo</span><span class="p">::</span><span class="n">main</span><span class="p">::</span><span class="n">h7b8cdf5e495db82d</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">null</span><span class="p">)</span><span class="o">=&lt;</span><span class="n">unavailable</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">function</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">250</span><span class="p">:</span><span class="mi">5</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">19</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001000169fc</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">sys</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="n">__rust_begin_short_backtrace</span><span class="p">::</span><span class="n">h8d40df52d6e8eee0</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="p">(</span><span class="n">foo</span><span class="err">`</span><span class="n">foo</span><span class="p">::</span><span class="n">main</span><span class="p">::</span><span class="n">h7b8cdf5e495db82d</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">3</span><span class="p">))</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">152</span><span class="p">:</span><span class="mi">18</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">20</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100007160</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">h1e9f85636d64c7a1</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">199</span><span class="p">:</span><span class="mi">18</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">21</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b3914</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">ops</span><span class="p">::</span><span class="n">function</span><span class="p">::</span><span class="n">impls</span><span class="p">::</span><span class="n">_</span><span class="cp">$LT$impl$u20$core</span><span class="o">..</span><span class="n">ops</span><span class="o">..</span><span class="n">function</span><span class="o">..</span><span class="nb">FnOnce</span><span class="cp">$LT$A$GT$$u20$for$u20$$RF$F$GT$</span><span class="p">::</span><span class="n">call_once</span><span class="p">::</span><span class="n">he7ba0572945420d1</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">function</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">284</span><span class="p">:</span><span class="mi">13</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">22</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b390c</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="kr">try</span><span class="p">::</span><span class="n">do_call</span><span class="p">::</span><span class="n">hebe393b810f01e71</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">587</span><span class="p">:</span><span class="mi">40</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">23</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b3908</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="kr">try</span><span class="p">::</span><span class="n">hb25fce0758ef422c</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">550</span><span class="p">:</span><span class="mi">19</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">24</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b3908</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panic</span><span class="p">::</span><span class="n">catch_unwind</span><span class="p">::</span><span class="n">h84fa9d32cc13223f</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panic</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">358</span><span class="p">:</span><span class="mi">14</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">25</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b3908</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span><span class="p">::</span><span class="n">h303447aa1f5dac68</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">168</span><span class="p">:</span><span class="mi">24</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">26</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b35c4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="kr">try</span><span class="p">::</span><span class="n">do_call</span><span class="p">::</span><span class="n">h6fee0bd35745e600</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">587</span><span class="p">:</span><span class="mi">40</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">27</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b35c4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="kr">try</span><span class="p">::</span><span class="n">h8a1ab658538ac4f7</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">550</span><span class="p">:</span><span class="mi">19</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">28</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b35c4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panic</span><span class="p">::</span><span class="n">catch_unwind</span><span class="p">::</span><span class="n">hb51538dca89efd17</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">panic</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">358</span><span class="p">:</span><span class="mi">14</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">29</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001012b35c4</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start_internal</span><span class="p">::</span><span class="n">h95cf27b851151b9c</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">164</span><span class="p">:</span><span class="mi">5</span><span class="w"> </span><span class="p">[</span><span class="n">opt</span><span class="p">]</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">30</span><span class="p">:</span><span class="w"> </span><span class="mh">0x0000000100007138</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">std</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">lang_start</span><span class="p">::</span><span class="n">had5581d6e1c0f172</span><span class="p">(</span><span class="n">main</span><span class="o">=</span><span class="p">(</span><span class="n">foo</span><span class="err">`</span><span class="n">foo</span><span class="p">::</span><span class="n">main</span><span class="p">::</span><span class="n">h7b8cdf5e495db82d</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">argc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="o">=</span><span class="mh">0x000000016fdfe8b8</span><span class="p">,</span><span class="w"> </span><span class="n">sigpipe</span><span class="o">=</span><span class="sc">'\0'</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">198</span><span class="p">:</span><span class="mi">5</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">31</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000010001b284</span><span class="w"> </span><span class="n">foo</span><span class="err">`</span><span class="n">main</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">36</span>
<span class="w">    </span><span class="n">frame</span><span class="w"> </span><span class="p">#</span><span class="mi">32</span><span class="p">:</span><span class="w"> </span><span class="mh">0x00000001859020e0</span><span class="w"> </span><span class="n">dyld</span><span class="err">`</span><span class="n">start</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2360</span>
</code></pre></div>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>