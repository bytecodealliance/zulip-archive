<html>
<head><meta charset="utf-8"><title>wasmtime / PR #10092 Winch: x64 `wait`, `notify` and `fence` · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html">wasmtime / PR #10092 Winch: x64 `wait`, `notify` and `fence`</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="495560481"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/495560481" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#495560481">(Jan 23 2025 at 18:18)</a>:</h4>
<p>MarinPostma opened <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a> from <code>MarinPostma:atomic-wait</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This PR implements the following instruction in winch for the x64 backend:</p>
<ul>
<li><code>atomic.fence</code></li>
<li><code>memory.atomic.wait32</code></li>
<li><code>memory.atomic.wait64</code></li>
<li><code>memory.atomic.notify</code><br>
</li>
</ul>
</blockquote>



<a name="495560482"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/495560482" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#495560482">(Jan 23 2025 at 18:18)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>.</p>



<a name="495560483"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/495560483" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#495560483">(Jan 23 2025 at 18:18)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>.</p>



<a name="495560490"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/495560490" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#495560490">(Jan 23 2025 at 18:18)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/pchickey">pchickey</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>.</p>



<a name="495560491"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/495560491" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#495560491">(Jan 23 2025 at 18:18)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>.</p>



<a name="495560635"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/495560635" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#495560635">(Jan 23 2025 at 18:19)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>.</p>



<a name="495561426"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/495561426" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#495561426">(Jan 23 2025 at 18:24)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>.</p>



<a name="495561788"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/495561788" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#495561788">(Jan 23 2025 at 18:26)</a>:</h4>
<p>saulecabrera <a href="https://github.com/bytecodealliance/wasmtime/pull/10092#issuecomment-2610644062">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>:</p>
<blockquote>
<p>I can help with this one. </p>
</blockquote>



<a name="495561803"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/495561803" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#495561803">(Jan 23 2025 at 18:26)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/saulecabrera">saulecabrera</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>.</p>



<a name="495565052"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/495565052" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#495565052">(Jan 23 2025 at 18:46)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>.</p>



<a name="495571486"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/495571486" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#495571486">(Jan 23 2025 at 19:27)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>.</p>



<a name="495582320"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/495582320" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#495582320">(Jan 23 2025 at 20:44)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/10092#issuecomment-2610979918">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @saulecabrera</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "winch"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>saulecabrera: winch</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="496005273"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/496005273" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#496005273">(Jan 26 2025 at 21:53)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10092#pullrequestreview-2573631882">PR review</a>.</p>



<a name="496005274"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/496005274" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#496005274">(Jan 26 2025 at 21:53)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/10092#discussion_r1929265610">PR review comment</a>:</p>
<blockquote>
<p>Given that the target memory is an immediate, and immediate values in the stack don't affect the stack ordering principle (since they are not spilled), instead of moving it to a register, it should be possible to insert the immediate directly, this would save one memory write and load at the builtin call site. </p>
<p>We use such pattern extensively in the table operations. </p>
</blockquote>



<a name="496005275"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/496005275" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#496005275">(Jan 26 2025 at 21:53)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/10092#discussion_r1929879807">PR review comment</a>:</p>
<blockquote>
<p>Similar comments here regarding the immediate and the stack and also the extend. </p>
</blockquote>



<a name="496005276"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/496005276" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#496005276">(Jan 26 2025 at 21:53)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/10092#discussion_r1929879682">PR review comment</a>:</p>
<blockquote>
<p>I think this extend shouldn't be emitted unconditionally: in the case of <code>memory64</code>, the address is expected to be <code>64</code> bits, so there shouldn't be a need to emit this. </p>
<p>Also, 32-bit loads are zero extend by default, so I think we can omit this extend entirely?</p>
</blockquote>



<a name="496066393"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/496066393" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#496066393">(Jan 27 2025 at 08:57)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10092#pullrequestreview-2574845270">PR review</a>.</p>



<a name="496066394"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/496066394" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#496066394">(Jan 27 2025 at 08:57)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/10092#discussion_r1930170496">PR review comment</a>:</p>
<blockquote>
<p>Let me check that again, if I recall correctly I added it because it didn't work like I expected with negative offsets</p>
</blockquote>



<a name="496081793"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/496081793" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#496081793">(Jan 27 2025 at 09:56)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10092#pullrequestreview-2574980031">PR review</a>.</p>



<a name="496081794"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/496081794" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#496081794">(Jan 27 2025 at 09:56)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/10092#discussion_r1930253449">PR review comment</a>:</p>
<blockquote>
<p>nevermind, I must have imagined that...</p>
</blockquote>



<a name="496082130"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/496082130" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#496082130">(Jan 27 2025 at 09:58)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>.</p>



<a name="496082590"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/496082590" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#496082590">(Jan 27 2025 at 10:00)</a>:</h4>
<p>MarinPostma <a href="https://github.com/bytecodealliance/wasmtime/pull/10092#issuecomment-2615310166">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>:</p>
<blockquote>
<p>I made the suggested changes. I think we could avoid popping the stack in the case where we don't have to compute an offset, and just insert the target memory instead, but it complicates the implementation slightly. Happy to do if you think it's better.</p>
</blockquote>



<a name="496085910"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/496085910" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#496085910">(Jan 27 2025 at 10:19)</a>:</h4>
<p>MarinPostma edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/10092#issuecomment-2615310166">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>:</p>
<blockquote>
<p>I made the suggested changes. I think we could avoid popping the stack in the case where we don't have to compute an offset, and just insert the target memory instead, but it complicates the implementation slightly. Happy to do it if you think it's better.</p>
</blockquote>



<a name="496114990"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/496114990" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#496114990">(Jan 27 2025 at 12:52)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10092#pullrequestreview-2575356018">PR review</a>:</p>
<blockquote>
<p>LGTM, thanks. </p>
</blockquote>



<a name="496119145"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310092%20Winch%3A%20x64%20%60wait%60%2C%20%60notify%60%20and%20%60fence%60/near/496119145" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310092.20Winch.3A.20x64.20.60wait.60.2C.20.60notify.60.20and.20.60fence.60.html#496119145">(Jan 27 2025 at 13:12)</a>:</h4>
<p>saulecabrera merged <a href="https://github.com/bytecodealliance/wasmtime/pull/10092">PR #10092</a>.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>