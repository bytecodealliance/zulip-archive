<html>
<head><meta charset="utf-8"><title>wasmtime / PR #11805 Merge the wizer repository into this... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311805.20Merge.20the.20wizer.20repository.20into.20this.2E.2E.2E.html">wasmtime / PR #11805 Merge the wizer repository into this...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="543630452"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311805%20Merge%20the%20wizer%20repository%20into%20this.../near/543630452" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311805.20Merge.20the.20wizer.20repository.20into.20this.2E.2E.2E.html#543630452">(Oct 07 2025 at 22:18)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11805">PR #11805</a>.</p>



<a name="543630454"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311805%20Merge%20the%20wizer%20repository%20into%20this.../near/543630454" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311805.20Merge.20the.20wizer.20repository.20into.20this.2E.2E.2E.html#543630454">(Oct 07 2025 at 22:18)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/11805">PR #11805</a> from <code>alexcrichton:wizer</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This PR is the first step in what will be a few to merge the wizer and component-init repositories into this main repository. The goal is to consolidate these features here in Wasmtime and provide it as part of the <code>wasmtime</code> CLI itself. This is intended to reduce maintenance burden by only having one repo to manage instead of multiple. To that end the changes in this PR are:</p>
<ul>
<li>The <a href="https://github.com/bytecodealliance/wizer">https://github.com/bytecodealliance/wizer</a> repository is copied, without its git history, into the <code>crates/wizer</code> folder.</li>
<li>Subsequent commits adjust CI integration files, other management files, etc, to all fit within Wasmtime's repository.</li>
<li>Commits then get the new <code>wasmtime-wizer</code> crate compiling in this workspace and passing tests.</li>
<li>Commits then create a new <code>wasmtime wizer</code> subcommand which has the same arguments/behavior of <code>wasmtime run</code> by literally using the same implementation of execution internally (e.g. supports all WASI proposals and such)</li>
<li>Finally there's assorted miscellaneous things like getting the fuzzer compiling, benchmarks compiling, etc.</li>
</ul>
<p>Overall I think this is in a good-enough state to upstream into this repository as a first step. The next step will be to refactor the internals of <code>wasmtime-wizer</code> to be amenable for sharing with <code>component-init</code> itself. This'll include trying to make <code>wasmtime-wizer</code> more runtime-agnostic by, in theory, having just a single trait that a runtime need implement and severing the dependency on <code>wasmtime</code> (or at least optionally severing the dependency).</p>
<p>With such refactorings in place the next step I'd take is to fold the component-init repository into <code>wasmtime-wizer</code>. That'll require yet more reorganization and finesse though so I'd like to split this across multiple PRs instead of having one large PR.</p>
</blockquote>



<a name="543630455"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311805%20Merge%20the%20wizer%20repository%20into%20this.../near/543630455" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311805.20Merge.20the.20wizer.20repository.20into.20this.2E.2E.2E.html#543630455">(Oct 07 2025 at 22:18)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11805">PR #11805</a>.</p>



<a name="543630456"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311805%20Merge%20the%20wizer%20repository%20into%20this.../near/543630456" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311805.20Merge.20the.20wizer.20repository.20into.20this.2E.2E.2E.html#543630456">(Oct 07 2025 at 22:18)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11805">PR #11805</a>.</p>



<a name="543631673"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311805%20Merge%20the%20wizer%20repository%20into%20this.../near/543631673" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311805.20Merge.20the.20wizer.20repository.20into.20this.2E.2E.2E.html#543631673">(Oct 07 2025 at 22:30)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11805">PR #11805</a>.</p>



<a name="543633117"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311805%20Merge%20the%20wizer%20repository%20into%20this.../near/543633117" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311805.20Merge.20the.20wizer.20repository.20into.20this.2E.2E.2E.html#543633117">(Oct 07 2025 at 22:46)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11805">PR #11805</a>.</p>



<a name="543635532"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311805%20Merge%20the%20wizer%20repository%20into%20this.../near/543635532" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311805.20Merge.20the.20wizer.20repository.20into.20this.2E.2E.2E.html#543635532">(Oct 07 2025 at 23:12)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/11805#issuecomment-3379002447">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11805">PR #11805</a>:</p>
<blockquote>
<blockquote>
<p>The <a href="https://github.com/bytecodealliance/wizer">https://github.com/bytecodealliance/wizer</a> repository is copied, without its git history, into the crates/wizer folder.</p>
</blockquote>
<p>Just a comment from general principles but I like that we've tried to preserve git history in other repo merges that we've done (e.g., Cranelift into Wasmtime and ISLE prototyping into Cranelift are two off the top of my head). It's nice to continue to have the git-blame and feels right re: authorship records. Would you be opposed to pulling in the separate git lineage, appending a commit that moves the thing to the right subtree, and joining it all with a merge-commit?</p>
<p>(Now that I say this, I realize the above two other merges happened before we universally squashed on merge, so maybe this isn't viable unless we break that policy temporarily...)</p>
</blockquote>



<a name="543722641"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311805%20Merge%20the%20wizer%20repository%20into%20this.../near/543722641" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311805.20Merge.20the.20wizer.20repository.20into.20this.2E.2E.2E.html#543722641">(Oct 08 2025 at 11:28)</a>:</h4>
<p>tschneidereit <a href="https://github.com/bytecodealliance/wasmtime/pull/11805#issuecomment-3381082680">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11805">PR #11805</a>:</p>
<blockquote>
<blockquote>
<p>we've tried to preserve git history in other repo merges that we've done</p>
</blockquote>
<p>An alternative to this would be to add an <code>AUTHORS</code> file explaining the code's heritage and pointing to the original wizer repo. I've <a href="https://github.com/bytecodealliance/StarlingMonkey/blob/main/AUTHORS.md">used this approach</a> when creating the StarlingMonkey repository to keep a paper trail back to Fastly's js-compute-runtime.</p>
</blockquote>



<a name="543768340"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311805%20Merge%20the%20wizer%20repository%20into%20this.../near/543768340" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311805.20Merge.20the.20wizer.20repository.20into.20this.2E.2E.2E.html#543768340">(Oct 08 2025 at 14:49)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/11805#issuecomment-3381929784">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11805">PR #11805</a>:</p>
<blockquote>
<p>I'm fine to go either way on the history myself. I didn't bother splicing it in due to the squash merging strategy we have which would have erased it anyway. I'd be fine though integrating the history with a special merge commit and then layer this PR on top of that.</p>
</blockquote>



<a name="543769996"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311805%20Merge%20the%20wizer%20repository%20into%20this.../near/543769996" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311805.20Merge.20the.20wizer.20repository.20into.20this.2E.2E.2E.html#543769996">(Oct 08 2025 at 14:55)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/11805#issuecomment-3381962475">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11805">PR #11805</a>:</p>
<blockquote>
<p>+1 for preserving history. It is very useful for things like bisecting.</p>
<p>Also, we preserved it when we imported Cranelift into Wasmtime, the mach backend into Cranelift, and ISLE into Cranelift. I don't know why we'd do something different this time around. </p>
</blockquote>



<a name="543785172"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311805%20Merge%20the%20wizer%20repository%20into%20this.../near/543785172" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311805.20Merge.20the.20wizer.20repository.20into.20this.2E.2E.2E.html#543785172">(Oct 08 2025 at 16:04)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/11805#issuecomment-3382253831">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11805">PR #11805</a>:</p>
<blockquote>
<p>Ok I've got a history-preserving version over at <a href="https://github.com/bytecodealliance/wasmtime/pull/11815">https://github.com/bytecodealliance/wasmtime/pull/11815</a>. I plan on discussing this in tomorrow's Wasmtime meeting to ensure everyone's on board with the particulars of how exactly the merge is done. Assume all goes well the plan would then be to merge #11815 which has all of Wizer's history, rebase this PR which would largely just drop the first commit, and then this PR would get all squashed into one and would be the "integrate wasmtime and wizer" PR</p>
</blockquote>



<a name="543786020"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311805%20Merge%20the%20wizer%20repository%20into%20this.../near/543786020" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311805.20Merge.20the.20wizer.20repository.20into.20this.2E.2E.2E.html#543786020">(Oct 08 2025 at 16:07)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11805">PR #11805</a>.</p>



<a name="544040148"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311805%20Merge%20the%20wizer%20repository%20into%20this.../near/544040148" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311805.20Merge.20the.20wizer.20repository.20into.20this.2E.2E.2E.html#544040148">(Oct 09 2025 at 20:13)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11805">PR #11805</a>.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>