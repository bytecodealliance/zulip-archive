<html>
<head><meta charset="utf-8"><title>wasmtime / PR #12153 allow instance to be reentered while... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html">wasmtime / PR #12153 allow instance to be reentered while...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="563073390"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/563073390" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#563073390">(Dec 10 2025 at 22:36)</a>:</h4>
<p><strong>dicej</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="563073393"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/563073393" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#563073393">(Dec 10 2025 at 22:36)</a>:</h4>
<p>dicej opened <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a> from <code>dicej:fix-12128</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>The spec says we should allow this, so now we do.</p>
<p>Thansk to Alex for the test case!</p>
<p>Fixes #12128</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="563073394"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/563073394" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#563073394">(Dec 10 2025 at 22:36)</a>:</h4>
<p><strong>dicej</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="563074447"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/563074447" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#563074447">(Dec 10 2025 at 22:45)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12153#pullrequestreview-3564797910">PR review</a>:</p>
<blockquote>
<p>Code/test all look fine, but I'm trying to correlate this with the spec as well. I thought I remember that historically <code>may_enter</code> was a thing but it's no longer present in <code>CanonicalABI.md</code>. Can you clarify which point in the spec I should be looking at to double-check this? (and probably queue up some sort of rename/refactor to handle <code>may_enter</code> to align with the spec)</p>
</blockquote>



<a name="563075249"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/563075249" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#563075249">(Dec 10 2025 at 22:53)</a>:</h4>
<p>dicej <a href="https://github.com/bytecodealliance/wasmtime/pull/12153#issuecomment-3639279475">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>:</p>
<blockquote>
<blockquote>
<p>Code/test all look fine, but I'm trying to correlate this with the spec as well. I thought I remember that historically <code>may_enter</code> was a thing but it's no longer present in <code>CanonicalABI.md</code>. Can you clarify which point in the spec I should be looking at to double-check this? (and probably queue up some sort of rename/refactor to handle <code>may_enter</code> to align with the spec)</p>
</blockquote>
<p>Search for <code>trap_of_on_the_stack</code> in <code>CanonicalABI.md</code> and the prose that follows.  I agree that some renaming and/or refactoring may be due.</p>
</blockquote>



<a name="563075273"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/563075273" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#563075273">(Dec 10 2025 at 22:53)</a>:</h4>
<p>dicej edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/12153#issuecomment-3639279475">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>:</p>
<blockquote>
<blockquote>
<p>Code/test all look fine, but I'm trying to correlate this with the spec as well. I thought I remember that historically <code>may_enter</code> was a thing but it's no longer present in <code>CanonicalABI.md</code>. Can you clarify which point in the spec I should be looking at to double-check this? (and probably queue up some sort of rename/refactor to handle <code>may_enter</code> to align with the spec)</p>
</blockquote>
<p>Search for <code>trap_if_on_the_stack</code> in <code>CanonicalABI.md</code> and the prose that follows.  I agree that some renaming and/or refactoring may be due.</p>
</blockquote>



<a name="563076081"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/563076081" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#563076081">(Dec 10 2025 at 23:00)</a>:</h4>
<p>dicej <a href="https://github.com/bytecodealliance/wasmtime/pull/12153#issuecomment-3639297275">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>:</p>
<blockquote>
<p>I'm investigating the test failure; looks like dropping a subtask while it's yielding in an infinite loop will require some extra care.</p>
</blockquote>



<a name="563171179"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/563171179" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#563171179">(Dec 11 2025 at 12:11)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/12153#issuecomment-3641633056">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>:</p>
<blockquote>
<p>Joel and I discussed this and the conclusion is that the <code>may_enter</code> handling in Wasmtime is outdated and no longer in sync with the spec after component-model-async refactors. Effectively we need to rebuild the reentrance check from scratch throughout Wasmtime and avoid using <code>may_enter</code> for the triple-purpose of: preventing reentrance, requiring <code>post_return</code>, and lockdown-on-trap. This'll require refactors internally to use a new component-model-async helper but will <a href="#narrow/channel/217126-wasmtime/topic/Wasmtime.20sync.3C-.3Esync.20adapter.20optimizability/near/563170820">have an impact on component adapter performance</a> as well. This all corresponds to <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/CanonicalABI.md#task-state"><code>trap_if_on_the_stack</code> in the spec</a> (scroll down a bit)</p>
</blockquote>



<a name="563207020"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/563207020" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#563207020">(Dec 11 2025 at 14:53)</a>:</h4>
<p>dicej edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/12153#issuecomment-3639297275">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>:</p>
<blockquote>
<p>I'm investigating the test failure; <del>looks like dropping a subtask while it's yielding in an infinite loop will require some extra care.</del> EDIT: the problem is more fundamental than that, and the refactoring Alex suggested above is going to be necessary in order to fix #12128 properly.</p>
</blockquote>



<a name="564140798"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/564140798" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#564140798">(Dec 16 2025 at 22:04)</a>:</h4>
<p><strong>dicej</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="564140799"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/564140799" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#564140799">(Dec 16 2025 at 22:04)</a>:</h4>
<p><strong>dicej</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="564140800"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/564140800" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#564140800">(Dec 16 2025 at 22:04)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="564143501"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/564143501" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#564143501">(Dec 16 2025 at 22:26)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="564144990"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/564144990" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#564144990">(Dec 16 2025 at 22:39)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="564153595"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/564153595" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#564153595">(Dec 17 2025 at 00:13)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="564154348"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/564154348" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#564154348">(Dec 17 2025 at 00:24)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="565057120"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/565057120" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#565057120">(Dec 22 2025 at 19:07)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/12153#issuecomment-3683744163">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>:</p>
<blockquote>
<p>Current thinking, assuming I'm remembering this all correctly:</p>
<ul>
<li>Wasmtime will analyze/store a boolean that indicates, for a component, "components with core modules contain no components", aka core modules are located only in the leaves of a component composition. If this is <code>true</code>, then reentrance checks in component&lt;-&gt;component adapters can be skipped entirely. If this is <code>false</code>, which is expected to be quite rare today, then this PR's slow path will kick in.</li>
<li>The slow path is expected to be tweaked at the spec level. Right now flags a per-component-instance but they sort of need to be "find the least upper bound" in the path of components-to-the-root to set the reentrance flag on to ensure that implementation details of where implementations live aren't leaked (precise details TBD). This effectively means, however, that the <code>may_enter</code> flag for the host-level component will be component-wide.</li>
<li>There will be a new check on the sync&lt;-&gt;sync adapter which will manage <code>can_block</code>-style flags. This is necessary to ensure that when a sync-typed function is called it's not allowed to block. This is an accidental omission and bug in today's implementation which will be fixed.</li>
</ul>
<p>In short, sync&lt;-&gt;sync adapters will get faster on one axis (removing reentrance checks) but slower on another access (manipulating the <code>can_block</code>) flag. The <code>can_block</code> flag will live per-<code>vm::ComponentInstance</code> and will be as fast as the current reentrance check. In essence the sync&lt;-&gt;sync adapter performance profile is not expected to change.</p>
</blockquote>



<a name="565081279"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/565081279" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#565081279">(Dec 22 2025 at 23:20)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="565081479"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/565081479" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#565081479">(Dec 22 2025 at 23:23)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="565082328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/565082328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#565082328">(Dec 22 2025 at 23:37)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="565083121"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/565083121" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#565083121">(Dec 22 2025 at 23:50)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="565168855"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/565168855" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#565168855">(Dec 23 2025 at 14:51)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="565215919"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/565215919" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#565215919">(Dec 23 2025 at 21:46)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="566595271"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/566595271" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#566595271">(Jan 06 2026 at 18:00)</a>:</h4>
<p>dicej <a href="https://github.com/bytecodealliance/wasmtime/pull/12153#issuecomment-3715720276">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>:</p>
<blockquote>
<p>@alexcrichton Would you mind taking another look at this when you have time?  I'm also happy to walk through it with you synchronously if that helps.</p>
</blockquote>



<a name="566790468"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/566790468" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#566790468">(Jan 07 2026 at 17:53)</a>:</h4>
<p>dicej closed without merge <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>.</p>



<a name="566790471"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312153%20allow%20instance%20to%20be%20reentered%20while.../near/566790471" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312153.20allow.20instance.20to.20be.20reentered.20while.2E.2E.2E.html#566790471">(Jan 07 2026 at 17:53)</a>:</h4>
<p>dicej <a href="https://github.com/bytecodealliance/wasmtime/pull/12153#issuecomment-3720051357">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12153">PR #12153</a>:</p>
<blockquote>
<p>After chatting with @alexcrichton about this, we decided to break this up into smaller PRs that address reentrance checks and may-block checks separately.</p>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>