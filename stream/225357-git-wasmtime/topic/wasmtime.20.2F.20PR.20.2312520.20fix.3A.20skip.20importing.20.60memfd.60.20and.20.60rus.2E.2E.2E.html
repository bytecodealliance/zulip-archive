<html>
<head><meta charset="utf-8"><title>wasmtime / PR #12520 fix: skip importing `memfd` and `rus... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html">wasmtime / PR #12520 fix: skip importing `memfd` and `rus...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="571965627"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/571965627" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#571965627">(Feb 04 2026 at 17:06)</a>:</h4>
<p>HoKim98 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a> from <code>ulagbulag:fix/skip-importing-rustix-if-std-feature-is-disabled</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
<p>We do not need to import <code>memfd</code> and <code>rustix</code> crates if we have disabled the <code>std</code> feature.<br>
This PR just excludes these packages on <code>fiber</code> and <code>wasmtime</code> if <code>std</code> feature is disabled.</p>
<p>If we don't do this, <code>libstd.rmeta</code> will be forcibly linked when building a package that links wasmtime in a <code>#![no_std]</code> environment.</p>
</blockquote>



<a name="571965631"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/571965631" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#571965631">(Feb 04 2026 at 17:06)</a>:</h4>
<p><strong>HoKim98</strong> requested <a href="https://github.com/dicej">dicej</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="571965633"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/571965633" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#571965633">(Feb 04 2026 at 17:06)</a>:</h4>
<p><strong>HoKim98</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="571965879"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/571965879" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#571965879">(Feb 04 2026 at 17:07)</a>:</h4>
<p>HoKim98 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="571966105"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/571966105" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#571966105">(Feb 04 2026 at 17:08)</a>:</h4>
<p>HoKim98 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="571985310"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/571985310" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#571985310">(Feb 04 2026 at 18:47)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#issuecomment-3849156468">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>:</p>
<blockquote>
<p>Thanks! Do you know if this is something we can check in CI? For example are there <code>cfg(unix)</code> targets in Rust where the standard library is not available?<br>
</p>
</blockquote>



<a name="571997033"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/571997033" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#571997033">(Feb 04 2026 at 19:53)</a>:</h4>
<p>github-actions[bot] added the label <code>wasmtime:api</code> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572070005"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572070005" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572070005">(Feb 05 2026 at 06:32)</a>:</h4>
<p>HoKim98 <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#issuecomment-3851341288">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>:</p>
<blockquote>
<p>I think one easy way to find the <code>std</code> dependency is to create a new package in a separate workspace and link <code>wasmtime</code> against it.</p>
<h2>Suggested CI-Only Package</h2>
<div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="c1"># Cargo.toml</span>
<span class="k">[package]</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"foo"</span>
<span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0.1.0"</span>
<span class="n">edition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2024"</span>
<span class="n">rust-version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1.94"</span><span class="w">  </span><span class="c1"># rustc 1.94.0-nightly (fcd630976 2026-01-01)</span>

<span class="k">[profile.dev]</span>
<span class="n">panic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"abort"</span>

<span class="k">[dependencies]</span>
<span class="n">dlmalloc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w"> </span><span class="n">default-features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"global"</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="n">wasmtime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">"41.0"</span><span class="p">,</span><span class="w"> </span><span class="n">default-features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">"runtime"</span><span class="p">,</span>
<span class="p">]</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// src/main.rs</span>
<span class="cp">#![no_std]</span>

<span class="cp">#[global_allocator]</span>
<span class="k">static</span><span class="w"> </span><span class="n">GLOBAL</span><span class="p">:</span><span class="w"> </span><span class="p">::</span><span class="n">dlmalloc</span><span class="p">::</span><span class="n">GlobalDlmalloc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">::</span><span class="n">dlmalloc</span><span class="p">::</span><span class="n">GlobalDlmalloc</span><span class="p">;</span>

<span class="k">extern</span><span class="w"> </span><span class="k">crate</span><span class="w"> </span><span class="n">dlmalloc</span><span class="p">;</span>
<span class="k">extern</span><span class="w"> </span><span class="k">crate</span><span class="w"> </span><span class="n">wasmtime</span><span class="p">;</span>

<span class="cp">#[panic_handler]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">panic_handler</span><span class="p">(</span><span class="n">_info</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="p">::</span><span class="n">core</span><span class="p">::</span><span class="n">panic</span><span class="p">::</span><span class="n">PanicInfo</span><span class="o">&lt;'</span><span class="nb">_</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">loop</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
<h2>Current Outputs</h2>
<div class="codehilite" data-code-language="log"><pre><span></span><code>error[E0152]: found duplicate lang item `panic_impl`
  --&gt; src/lib.rs:10:1
   |
10 | / fn panic_handler(_info: &amp;::core::panic::PanicInfo&lt;'_&gt;) -&gt; ! {
11 | |     loop {}
12 | | }
   | |_^
   |
   = note: the lang item is first defined in crate `std` (which `bitflags` depends on)
   = note: first definition in `std` loaded from /opt/rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-ad248a6e6fe48fd9.rlib
   = note: second definition in the local crate (`foo`)

For more information about this error, try `rustc --explain E0152`.
error: could not compile `foo` (lib) due to 1 previous error
</code></pre></div>
<h2>Expected Outputs</h2>
<p><div class="codehilite" data-code-language="Bash"><pre><span></span><code>$<span class="w"> </span>ldd<span class="w"> </span>target/debug/libfoo.so
<span class="w">        </span>statically<span class="w"> </span>linked
</code></pre></div><br>
</p>
</blockquote>



<a name="572070206"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572070206" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572070206">(Feb 05 2026 at 06:34)</a>:</h4>
<p>HoKim98 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#issuecomment-3851341288">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>:</p>
<blockquote>
<p>I think one easy way to find the <code>std</code> dependency is to create a new package in a separate workspace and link <code>wasmtime</code> against it.</p>
<h2>Suggested CI-Only Package</h2>
<div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="c1"># Cargo.toml</span>
<span class="k">[package]</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"foo"</span>
<span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0.1.0"</span>
<span class="n">edition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2024"</span>
<span class="n">rust-version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1.94"</span><span class="w">  </span><span class="c1"># rustc 1.94.0-nightly (fcd630976 2026-01-01)</span>

<span class="k">[profile.dev]</span>
<span class="n">panic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"abort"</span>

<span class="k">[dependencies]</span>
<span class="n">dlmalloc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w"> </span><span class="n">default-features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"global"</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="n">wasmtime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">"41.0"</span><span class="p">,</span><span class="w"> </span><span class="n">default-features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">"runtime"</span><span class="p">,</span>
<span class="p">]</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// src/main.rs</span>
<span class="cp">#![no_std]</span>

<span class="cp">#[global_allocator]</span>
<span class="k">static</span><span class="w"> </span><span class="n">GLOBAL</span><span class="p">:</span><span class="w"> </span><span class="p">::</span><span class="n">dlmalloc</span><span class="p">::</span><span class="n">GlobalDlmalloc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">::</span><span class="n">dlmalloc</span><span class="p">::</span><span class="n">GlobalDlmalloc</span><span class="p">;</span>

<span class="k">extern</span><span class="w"> </span><span class="k">crate</span><span class="w"> </span><span class="n">dlmalloc</span><span class="p">;</span>
<span class="k">extern</span><span class="w"> </span><span class="k">crate</span><span class="w"> </span><span class="n">wasmtime</span><span class="p">;</span>

<span class="cp">#[panic_handler]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">panic_handler</span><span class="p">(</span><span class="n">_info</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="p">::</span><span class="n">core</span><span class="p">::</span><span class="n">panic</span><span class="p">::</span><span class="n">PanicInfo</span><span class="o">&lt;'</span><span class="nb">_</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">loop</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
<h2>Current Outputs</h2>
<div class="codehilite" data-code-language="log"><pre><span></span><code>error[E0152]: found duplicate lang item `panic_impl`
  --&gt; src/lib.rs:10:1
   |
10 | / fn panic_handler(_info: &amp;::core::panic::PanicInfo&lt;'_&gt;) -&gt; ! {
11 | |     loop {}
12 | | }
   | |_^
   |
   = note: the lang item is first defined in crate `std` (which `bitflags` depends on)
   = note: first definition in `std` loaded from /opt/rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-ad248a6e6fe48fd9.rlib
   = note: second definition in the local crate (`foo`)

For more information about this error, try `rustc --explain E0152`.
error: could not compile `foo` (lib) due to 1 previous error
</code></pre></div>
<h2>Expected Outputs</h2>
<p><div class="codehilite" data-code-language="Bash"><pre><span></span><code>$<span class="w"> </span>cargo<span class="w"> </span>build<span class="w"> </span>-p<span class="w"> </span>foo
$<span class="w"> </span>ldd<span class="w"> </span>target/debug/libfoo.so
<span class="w">        </span>statically<span class="w"> </span>linked
</code></pre></div><br>
</p>
</blockquote>



<a name="572070323"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572070323" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572070323">(Feb 05 2026 at 06:35)</a>:</h4>
<p>HoKim98 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#issuecomment-3851341288">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>:</p>
<blockquote>
<p>I think one easy way to find the <code>std</code> dependency is to create a new package in a separate workspace and link <code>wasmtime</code> against it.</p>
<h2>Suggested CI-Only Package</h2>
<div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="c1"># Cargo.toml</span>
<span class="k">[package]</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"foo"</span>
<span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0.1.0"</span>
<span class="n">edition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2024"</span>
<span class="n">rust-version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1.94"</span><span class="w">  </span><span class="c1"># rustc 1.94.0-nightly (fcd630976 2026-01-01)</span>

<span class="k">[profile.dev]</span>
<span class="n">panic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"abort"</span>

<span class="k">[dependencies]</span>
<span class="n">dlmalloc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w"> </span><span class="n">default-features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"global"</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="n">wasmtime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">"41.0"</span><span class="p">,</span><span class="w"> </span><span class="n">default-features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">"runtime"</span><span class="p">,</span>
<span class="p">]</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// src/main.rs</span>
<span class="cp">#![no_std]</span>

<span class="k">extern</span><span class="w"> </span><span class="k">crate</span><span class="w"> </span><span class="n">dlmalloc</span><span class="p">;</span>
<span class="k">extern</span><span class="w"> </span><span class="k">crate</span><span class="w"> </span><span class="n">wasmtime</span><span class="p">;</span>

<span class="cp">#[global_allocator]</span>
<span class="k">static</span><span class="w"> </span><span class="n">GLOBAL</span><span class="p">:</span><span class="w"> </span><span class="p">::</span><span class="n">dlmalloc</span><span class="p">::</span><span class="n">GlobalDlmalloc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">::</span><span class="n">dlmalloc</span><span class="p">::</span><span class="n">GlobalDlmalloc</span><span class="p">;</span>

<span class="cp">#[panic_handler]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">panic_handler</span><span class="p">(</span><span class="n">_info</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="p">::</span><span class="n">core</span><span class="p">::</span><span class="n">panic</span><span class="p">::</span><span class="n">PanicInfo</span><span class="o">&lt;'</span><span class="nb">_</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">loop</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
<h2>Current Outputs</h2>
<div class="codehilite" data-code-language="log"><pre><span></span><code>error[E0152]: found duplicate lang item `panic_impl`
  --&gt; src/lib.rs:10:1
   |
10 | / fn panic_handler(_info: &amp;::core::panic::PanicInfo&lt;'_&gt;) -&gt; ! {
11 | |     loop {}
12 | | }
   | |_^
   |
   = note: the lang item is first defined in crate `std` (which `bitflags` depends on)
   = note: first definition in `std` loaded from /opt/rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-ad248a6e6fe48fd9.rlib
   = note: second definition in the local crate (`foo`)

For more information about this error, try `rustc --explain E0152`.
error: could not compile `foo` (lib) due to 1 previous error
</code></pre></div>
<h2>Expected Outputs</h2>
<p><div class="codehilite" data-code-language="Bash"><pre><span></span><code>$<span class="w"> </span>cargo<span class="w"> </span>build<span class="w"> </span>-p<span class="w"> </span>foo
$<span class="w"> </span>ldd<span class="w"> </span>target/debug/libfoo.so
<span class="w">        </span>statically<span class="w"> </span>linked
</code></pre></div><br>
</p>
</blockquote>



<a name="572070379"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572070379" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572070379">(Feb 05 2026 at 06:35)</a>:</h4>
<p>HoKim98 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#issuecomment-3851341288">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>:</p>
<blockquote>
<p>I think one easy way to find the <code>std</code> dependency is to create a new package in a separate workspace and link <code>wasmtime</code> against it.</p>
<h2>Suggested CI-Only Package</h2>
<div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="c1"># Cargo.toml</span>
<span class="k">[package]</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"foo"</span>
<span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0.1.0"</span>
<span class="n">edition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2024"</span>
<span class="n">rust-version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1.94"</span><span class="w">  </span><span class="c1"># rustc 1.94.0-nightly (fcd630976 2026-01-01)</span>

<span class="k">[profile.dev]</span>
<span class="n">panic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"abort"</span>

<span class="k">[dependencies]</span>
<span class="n">dlmalloc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w"> </span><span class="n">default-features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"global"</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="n">wasmtime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">"41.0"</span><span class="p">,</span><span class="w"> </span><span class="n">default-features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">"runtime"</span><span class="p">,</span>
<span class="p">]</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// src/lib.rs</span>
<span class="cp">#![no_std]</span>

<span class="k">extern</span><span class="w"> </span><span class="k">crate</span><span class="w"> </span><span class="n">dlmalloc</span><span class="p">;</span>
<span class="k">extern</span><span class="w"> </span><span class="k">crate</span><span class="w"> </span><span class="n">wasmtime</span><span class="p">;</span>

<span class="cp">#[global_allocator]</span>
<span class="k">static</span><span class="w"> </span><span class="n">GLOBAL</span><span class="p">:</span><span class="w"> </span><span class="p">::</span><span class="n">dlmalloc</span><span class="p">::</span><span class="n">GlobalDlmalloc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">::</span><span class="n">dlmalloc</span><span class="p">::</span><span class="n">GlobalDlmalloc</span><span class="p">;</span>

<span class="cp">#[panic_handler]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">panic_handler</span><span class="p">(</span><span class="n">_info</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="p">::</span><span class="n">core</span><span class="p">::</span><span class="n">panic</span><span class="p">::</span><span class="n">PanicInfo</span><span class="o">&lt;'</span><span class="nb">_</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">loop</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
<h2>Current Outputs</h2>
<div class="codehilite" data-code-language="log"><pre><span></span><code>error[E0152]: found duplicate lang item `panic_impl`
  --&gt; src/lib.rs:10:1
   |
10 | / fn panic_handler(_info: &amp;::core::panic::PanicInfo&lt;'_&gt;) -&gt; ! {
11 | |     loop {}
12 | | }
   | |_^
   |
   = note: the lang item is first defined in crate `std` (which `bitflags` depends on)
   = note: first definition in `std` loaded from /opt/rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-ad248a6e6fe48fd9.rlib
   = note: second definition in the local crate (`foo`)

For more information about this error, try `rustc --explain E0152`.
error: could not compile `foo` (lib) due to 1 previous error
</code></pre></div>
<h2>Expected Outputs</h2>
<p><div class="codehilite" data-code-language="Bash"><pre><span></span><code>$<span class="w"> </span>cargo<span class="w"> </span>build<span class="w"> </span>-p<span class="w"> </span>foo
$<span class="w"> </span>ldd<span class="w"> </span>target/debug/libfoo.so
<span class="w">        </span>statically<span class="w"> </span>linked
</code></pre></div><br>
</p>
</blockquote>



<a name="572216355"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572216355" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572216355">(Feb 05 2026 at 17:59)</a>:</h4>
<p>HoKim98 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#issuecomment-3851341288">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>:</p>
<blockquote>
<p>I think one easy way to find the <code>std</code> dependency is to create a new package in a separate workspace and link <code>wasmtime</code> against it.</p>
<h2>Suggested CI-Only Package</h2>
<div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="c1"># Cargo.toml</span>
<span class="k">[package]</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"foo"</span>
<span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0.1.0"</span>
<span class="n">edition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2024"</span>
<span class="n">rust-version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1.94"</span><span class="w">  </span><span class="c1"># rustc 1.94.0-nightly (fcd630976 2026-01-01)</span>

<span class="k">[lib]</span>
<span class="n">crate-type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"cdylib"</span><span class="p">]</span>

<span class="k">[profile.dev]</span>
<span class="n">panic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"abort"</span>

<span class="k">[dependencies]</span>
<span class="n">dlmalloc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w"> </span><span class="n">default-features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"global"</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="n">wasmtime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">"41.0"</span><span class="p">,</span><span class="w"> </span><span class="n">default-features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">"runtime"</span><span class="p">,</span>
<span class="p">]</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// src/lib.rs</span>
<span class="cp">#![no_std]</span>

<span class="k">extern</span><span class="w"> </span><span class="k">crate</span><span class="w"> </span><span class="n">dlmalloc</span><span class="p">;</span>
<span class="k">extern</span><span class="w"> </span><span class="k">crate</span><span class="w"> </span><span class="n">wasmtime</span><span class="p">;</span>

<span class="cp">#[global_allocator]</span>
<span class="k">static</span><span class="w"> </span><span class="n">GLOBAL</span><span class="p">:</span><span class="w"> </span><span class="p">::</span><span class="n">dlmalloc</span><span class="p">::</span><span class="n">GlobalDlmalloc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">::</span><span class="n">dlmalloc</span><span class="p">::</span><span class="n">GlobalDlmalloc</span><span class="p">;</span>

<span class="cp">#[panic_handler]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">panic_handler</span><span class="p">(</span><span class="n">_info</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="p">::</span><span class="n">core</span><span class="p">::</span><span class="n">panic</span><span class="p">::</span><span class="n">PanicInfo</span><span class="o">&lt;'</span><span class="nb">_</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">loop</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
<h2>Current Outputs</h2>
<div class="codehilite" data-code-language="log"><pre><span></span><code>error[E0152]: found duplicate lang item `panic_impl`
  --&gt; src/lib.rs:10:1
   |
10 | / fn panic_handler(_info: &amp;::core::panic::PanicInfo&lt;'_&gt;) -&gt; ! {
11 | |     loop {}
12 | | }
   | |_^
   |
   = note: the lang item is first defined in crate `std` (which `bitflags` depends on)
   = note: first definition in `std` loaded from /opt/rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-ad248a6e6fe48fd9.rlib
   = note: second definition in the local crate (`foo`)

For more information about this error, try `rustc --explain E0152`.
error: could not compile `foo` (lib) due to 1 previous error
</code></pre></div>
<h2>Expected Outputs</h2>
<p><div class="codehilite" data-code-language="Bash"><pre><span></span><code>$<span class="w"> </span>cargo<span class="w"> </span>build<span class="w"> </span>-p<span class="w"> </span>foo
$<span class="w"> </span>ldd<span class="w"> </span>target/debug/libfoo.so
<span class="w">        </span>statically<span class="w"> </span>linked
</code></pre></div><br>
</p>
</blockquote>



<a name="572228578"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572228578" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572228578">(Feb 05 2026 at 19:04)</a>:</h4>
<p><strong>HoKim98</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572228579"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572228579" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572228579">(Feb 05 2026 at 19:04)</a>:</h4>
<p><strong>HoKim98</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572228581"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572228581" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572228581">(Feb 05 2026 at 19:04)</a>:</h4>
<p>HoKim98 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572228582"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572228582" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572228582">(Feb 05 2026 at 19:04)</a>:</h4>
<p><strong>HoKim98</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572228721"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572228721" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572228721">(Feb 05 2026 at 19:04)</a>:</h4>
<p>HoKim98 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572229264"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572229264" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572229264">(Feb 05 2026 at 19:07)</a>:</h4>
<p>HoKim98 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572229584"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572229584" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572229584">(Feb 05 2026 at 19:09)</a>:</h4>
<p>HoKim98 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572230411"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572230411" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572230411">(Feb 05 2026 at 19:14)</a>:</h4>
<p>HoKim98 <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#issuecomment-3855703109">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>:</p>
<blockquote>
<p>I've added a simple <code>no_std</code> validation package for PoC purposes. While the package name, description, and location are currently placeholders, I can confirm the functionality is solid.</p>
<p>This new commit will help proactively detect and prevent <code>no_std</code> related issues, such as #1158. In fact, it has already identified a case in <code>cranelift-frontend</code> where the <code>std</code> package was being used in a <code>no_std</code> environment.</p>
<p>Additionally, it detected a std dependency in <code>cranelift-codegen</code> caused by the use of <code>std::sync::OnceCell</code>. I believe this can be resolved using a pattern similar to Wasmtime’s <code>sync_nostd.mod</code>.</p>
</blockquote>



<a name="572230505"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572230505" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572230505">(Feb 05 2026 at 19:15)</a>:</h4>
<p>HoKim98 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#issuecomment-3855703109">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>:</p>
<blockquote>
<p>I've added a simple <code>no_std</code> validation package for PoC purposes. While the package name, description, and location are currently placeholders, I can confirm the functionality is solid.</p>
<p>This new commit will help proactively detect and prevent <code>no_std</code> related issues, such as #1158. In fact, it has already identified a case in <code>cranelift-frontend</code> where the <code>std</code> package was being used in a <code>no_std</code> environment.</p>
<p>Additionally, it detected a <code>std</code> dependency in <code>cranelift-codegen</code> caused by the use of <code>std::sync::OnceCell</code>. I believe this can be resolved using a pattern similar to Wasmtime’s <code>sync_nostd.rs</code>.</p>
</blockquote>



<a name="572231032"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572231032" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572231032">(Feb 05 2026 at 19:18)</a>:</h4>
<p>HoKim98 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572231317"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572231317" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572231317">(Feb 05 2026 at 19:20)</a>:</h4>
<p>HoKim98 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572231633"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572231633" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572231633">(Feb 05 2026 at 19:22)</a>:</h4>
<p>HoKim98 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572246899"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572246899" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572246899">(Feb 05 2026 at 20:53)</a>:</h4>
<p>github-actions[bot] added the label <code>cranelift</code> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572264882"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572264882" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572264882">(Feb 05 2026 at 23:02)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#pullrequestreview-3759032912">PR review</a>.</p>



<a name="572264883"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572264883" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572264883">(Feb 05 2026 at 23:02)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2770825377">PR review comment</a>:</p>
<blockquote>
<p>Could this be moved to <code>crates/misc/test-nostd</code>?</p>
</blockquote>



<a name="572264884"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572264884" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572264884">(Feb 05 2026 at 23:02)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2770822883">PR review comment</a>:</p>
<blockquote>
<p>Could these changes to crates be split out into a separate PR? I wouldn't expect that this would be required to land but instead would be an enhancement to the nostd test in a subsequent PR</p>
</blockquote>



<a name="572264885"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572264885" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572264885">(Feb 05 2026 at 23:02)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2770826271">PR review comment</a>:</p>
<blockquote>
<p>Mind adding <code>publish = false</code> here too?</p>
</blockquote>



<a name="572264886"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572264886" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572264886">(Feb 05 2026 at 23:02)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2770819859">PR review comment</a>:</p>
<blockquote>
<p>For this I think you can probably skip the <code>ldd</code> part since compilation will fail if <code>std</code> is included due to the second global allocator</p>
</blockquote>



<a name="572264887"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572264887" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572264887">(Feb 05 2026 at 23:02)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2770830310">PR review comment</a>:</p>
<blockquote>
<p>We currently only have LICENSE files for published crates, but this crate won't be published so it's fine to omit this</p>
</blockquote>



<a name="572264888"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572264888" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572264888">(Feb 05 2026 at 23:02)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2770828135">PR review comment</a>:</p>
<blockquote>
<p>This is only tested with with one set of features, so I think these can be omitted?</p>
</blockquote>



<a name="572264889"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572264889" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572264889">(Feb 05 2026 at 23:02)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2771520990">PR review comment</a>:</p>
<blockquote>
<p>Given that this crate is specifically testing building without <code>std</code>, I think this should probabyl not need to be here.</p>
</blockquote>



<a name="572264891"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572264891" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572264891">(Feb 05 2026 at 23:02)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2771520029">PR review comment</a>:</p>
<blockquote>
<p>FWIW it's ok to skip the LLM overview here. This is just a crate to build in CI as part of a test, and I don't think it warrants such verbose documentation.</p>
</blockquote>



<a name="572277937"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572277937" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572277937">(Feb 06 2026 at 01:22)</a>:</h4>
<p>HoKim98 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572277996"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572277996" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572277996">(Feb 06 2026 at 01:23)</a>:</h4>
<p>HoKim98 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#pullrequestreview-3760233387">PR review</a>.</p>



<a name="572277997"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572277997" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572277997">(Feb 06 2026 at 01:23)</a>:</h4>
<p>HoKim98 created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2771823508">PR review comment</a>:</p>
<blockquote>
<p>Sure, I will separate it into a separate PR.</p>
</blockquote>



<a name="572278101"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572278101" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572278101">(Feb 06 2026 at 01:25)</a>:</h4>
<p>HoKim98 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#pullrequestreview-3760236894">PR review</a>.</p>



<a name="572278102"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572278102" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572278102">(Feb 06 2026 at 01:25)</a>:</h4>
<p>HoKim98 created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2771826060">PR review comment</a>:</p>
<blockquote>
<p>How about <code>crates/misc/nostd-tests</code>? Because there is a case called <code>crates/misc/component-async-tests</code>, I think it would be good to match the naming sense.</p>
</blockquote>



<a name="572278140"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572278140" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572278140">(Feb 06 2026 at 01:25)</a>:</h4>
<p>HoKim98 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#pullrequestreview-3760238079">PR review</a>.</p>



<a name="572278141"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572278141" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572278141">(Feb 06 2026 at 01:25)</a>:</h4>
<p>HoKim98 created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2771827034">PR review comment</a>:</p>
<blockquote>
<p>I confirmed it.</p>
</blockquote>



<a name="572278305"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572278305" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572278305">(Feb 06 2026 at 01:27)</a>:</h4>
<p>HoKim98 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#pullrequestreview-3760243291">PR review</a>.</p>



<a name="572278307"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572278307" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572278307">(Feb 06 2026 at 01:27)</a>:</h4>
<p>HoKim98 created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2771830668">PR review comment</a>:</p>
<blockquote>
<p>I initially considered it as a variable driven by feature dependency. Upon further consideration, I believe the same functionality could be achieved by activating as many features as possible from the scratch.</p>
</blockquote>



<a name="572278321"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572278321" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572278321">(Feb 06 2026 at 01:27)</a>:</h4>
<p>HoKim98 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#pullrequestreview-3760243897">PR review</a>.</p>



<a name="572278324"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572278324" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572278324">(Feb 06 2026 at 01:27)</a>:</h4>
<p>HoKim98 created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2771831026">PR review comment</a>:</p>
<blockquote>
<p>I confirmed it.</p>
</blockquote>



<a name="572278334"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572278334" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572278334">(Feb 06 2026 at 01:27)</a>:</h4>
<p>HoKim98 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#pullrequestreview-3760244254">PR review</a>.</p>



<a name="572278337"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572278337" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572278337">(Feb 06 2026 at 01:28)</a>:</h4>
<p>HoKim98 created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2771831272">PR review comment</a>:</p>
<blockquote>
<p>I confirmed it.</p>
</blockquote>



<a name="572278366"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572278366" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572278366">(Feb 06 2026 at 01:28)</a>:</h4>
<p>HoKim98 created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2771831579">PR review comment</a>:</p>
<blockquote>
<p>I confirmed it.</p>
</blockquote>



<a name="572278367"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572278367" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572278367">(Feb 06 2026 at 01:28)</a>:</h4>
<p>HoKim98 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#pullrequestreview-3760244860">PR review</a>.</p>



<a name="572278378"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572278378" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572278378">(Feb 06 2026 at 01:28)</a>:</h4>
<p>HoKim98 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#pullrequestreview-3760245154">PR review</a>.</p>



<a name="572278379"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572278379" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572278379">(Feb 06 2026 at 01:28)</a>:</h4>
<p>HoKim98 created <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#discussion_r2771831794">PR review comment</a>:</p>
<blockquote>
<p>I confirmed it.</p>
</blockquote>



<a name="572431040"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572431040" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572431040">(Feb 06 2026 at 17:29)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#pullrequestreview-3764341419">PR review</a>:</p>
<blockquote>
<p>Thanks!</p>
</blockquote>



<a name="572431772"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572431772" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572431772">(Feb 06 2026 at 17:33)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#issuecomment-3861734176">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>:</p>
<blockquote>
<p>Hm ok seeing that CI is failing... this is unfortunately going to be a bit tricky. The problem is that this is a workspace member which means that when testing/linting/etc the entire workspace all features for <code>wasmtime</code> are union'd. That means that despite this crate not asking for the <code>std</code> feature, for example, it's still enabled and then when the <code>std</code> feature is enabled it predictably causes the test to fail to build.</p>
<p>The easiest thing to do would probably be to exclude this as a workspace member. That would generate a separate <code>Cargo.lock</code> though and would be a pain to update both this second <code>Cargo.lock</code> and the main one. The second easiest thing to do would be to pass <code>--exclude</code> to various command lines (e.g. in <code>./ci/run-tests.py</code> and in the CI config for running clippy). That's also a bit unfortunate though since it now requires passing <code>--exclude</code> locally as well when running the commands manually.</p>
<p>All-in-all I might say that we should forgo the test on this one. I apologize for the runaround here but I didn't realize the effect that this would have on CI and local development. If you agree I'm happy to flag-for-merge with the test removed from this PR</p>
</blockquote>



<a name="572434732"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572434732" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572434732">(Feb 06 2026 at 17:49)</a>:</h4>
<p>HoKim98 <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#issuecomment-3861807941">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>:</p>
<blockquote>
<p>How about doing the first method but ignoring <code>Cargo.lock</code>?</p>
</blockquote>



<a name="572449727"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572449727" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572449727">(Feb 06 2026 at 19:22)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#issuecomment-3862170277">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>:</p>
<blockquote>
<p>The risk of that is that then we're not insulated against new publications of crates accidentally breaking us in CI. In general we want CI to be as reprodcible as possible across runs, which is one of the primary reason to include <code>Cargo.lock</code> here. It's in theory possible to start with the workspace's <code>Cargo.lock</code> and have that get automatically trimmed down, but that's where I feel the infrastructure here isn't really buying too too much and I think it's reasonable to skip the test.</p>
</blockquote>



<a name="572460399"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572460399" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572460399">(Feb 06 2026 at 20:45)</a>:</h4>
<p>HoKim98 <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#issuecomment-3862480195">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>:</p>
<blockquote>
<p>I’m sorry to hear that this might not be the best news. In that case, I will personally set up a separate repository for CI to manage no_std compatibility for these changes. I’ll go ahead and roll back the commits related to the no_std CI implementation.</p>
</blockquote>



<a name="572460538"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572460538" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572460538">(Feb 06 2026 at 20:46)</a>:</h4>
<p>HoKim98 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572460827"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572460827" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572460827">(Feb 06 2026 at 20:48)</a>:</h4>
<p>HoKim98 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572461868"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572461868" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572461868">(Feb 06 2026 at 20:56)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12520#pullrequestreview-3765093249">PR review</a>.</p>



<a name="572461881"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572461881" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572461881">(Feb 06 2026 at 20:56)</a>:</h4>
<p>alexcrichton has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520</a>.</p>



<a name="572462679"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572462679" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572462679">(Feb 06 2026 at 21:02)</a>:</h4>
<p>alexcrichton added <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520 fix: skip importing <code>memfd</code> and <code>rustix</code> if <code>std</code> feature is disabled</a> to the merge queue.</p>



<a name="572465688"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312520%20fix%3A%20skip%20importing%20%60memfd%60%20and%20%60rus.../near/572465688" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312520.20fix.3A.20skip.20importing.20.60memfd.60.20and.20.60rus.2E.2E.2E.html#572465688">(Feb 06 2026 at 21:27)</a>:</h4>
<p>github-merge-queue[bot] removed <a href="https://github.com/bytecodealliance/wasmtime/pull/12520">PR #12520 fix: skip importing <code>memfd</code> and <code>rustix</code> if <code>std</code> feature is disabled</a> from the merge queue.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>