<html>
<head><meta charset="utf-8"><title>wasmtime / issue #10248 Tracking issue: Stack switching p... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html">wasmtime / issue #10248 Tracking issue: Stack switching p...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="500761065"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/500761065" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#500761065">(Feb 19 2025 at 23:13)</a>:</h4>
<p>frank-emrich opened <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[ ] Support for tags</li>
<li>[ ] Type definitions for stack switching support</li>
<li>[ ] Runtime support for stack switching</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>Support for ISAs other than x64</li>
<li>Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>Support for deallocating continuations</li>
<li>Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>Windows support</li>
<li>Pulley support</li>
<li>Winch support<br>
</li>
</ul>
</blockquote>



<a name="500761361"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/500761361" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#500761361">(Feb 19 2025 at 23:15)</a>:</h4>
<p>frank-emrich edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[ ] Support for tags</li>
<li>[ ] Type definitions for stack switching support</li>
<li>[ ] Runtime support for stack switching</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support<br>
</li>
</ul>
</blockquote>



<a name="500870132"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/500870132" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#500870132">(Feb 20 2025 at 12:51)</a>:</h4>
<p>dhil <a href="https://github.com/bytecodealliance/wasmtime/issues/10248#issuecomment-2671408242">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>Tags are added by PR #10251.</p>
</blockquote>



<a name="500909863"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/500909863" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#500909863">(Feb 20 2025 at 15:39)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> added the wasm-proposal:stack-switching label to <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">Issue #10248</a>.</p>



<a name="500911950"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/500911950" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#500911950">(Feb 20 2025 at 15:48)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[ ] Support for tags</li>
<li>[ ] Type definitions for stack switching support</li>
<li>[ ] Runtime support for stack switching</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
</ul>
</blockquote>



<a name="500986289"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/500986289" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#500986289">(Feb 20 2025 at 23:03)</a>:</h4>
<p>frank-emrich edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[ ] Type definitions for stack switching support</li>
<li>[ ] Runtime support for stack switching</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
</ul>
</blockquote>



<a name="502135196"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/502135196" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#502135196">(Feb 26 2025 at 20:10)</a>:</h4>
<p>fitzgen edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[ ] Type definitions for stack switching support</li>
<li>[ ] Runtime support for stack switching</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
<li>[ ] Update <code>struct VMContext {...}</code> pseudo-definition comment: <a href="https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164">https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164</a></li>
</ul>
</blockquote>



<a name="502136641"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/502136641" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#502136641">(Feb 26 2025 at 20:18)</a>:</h4>
<p>fitzgen edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[ ] Type definitions for stack switching support</li>
<li>[ ] Runtime support for stack switching</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
<li>[ ] Update <code>struct VMContext {...}</code> pseudo-definition comment: <a href="https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164">https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164</a></li>
<li>[ ] Return an <code>Err(_)</code> if the given function type has results in <code>wasmtime::Tag::new</code></li>
</ul>
</blockquote>



<a name="502136673"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/502136673" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#502136673">(Feb 26 2025 at 20:19)</a>:</h4>
<p>fitzgen edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[ ] Type definitions for stack switching support</li>
<li>[ ] Runtime support for stack switching</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
<li>[ ] Update <code>struct VMContext {...}</code> pseudo-definition comment: <a href="https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164">https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164</a></li>
<li>[ ] Return an <code>Err(_)</code> if the given function type has results in <code>wasmtime::Tag::new</code>: <a href="https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972341601">https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972341601</a></li>
</ul>
</blockquote>



<a name="502145890"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/502145890" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#502145890">(Feb 26 2025 at 21:16)</a>:</h4>
<p>fitzgen edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[ ] Type definitions for stack switching support</li>
<li>[ ] Runtime support for stack switching</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
<li>[ ] Update <code>struct VMContext {...}</code> pseudo-definition comment: <a href="https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164">https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972329164</a></li>
<li>[ ] Return an <code>Err(_)</code> if the given function type has results in <code>wasmtime::Tag::new</code>: <a href="https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972341601">https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972341601</a></li>
<li>[ ] Remove <code>VMTagImport</code> at the vmcontext level: <a href="https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972423938">https://github.com/bytecodealliance/wasmtime/pull/10251/files#r1972423938</a></li>
</ul>
</blockquote>



<a name="502367929"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/502367929" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#502367929">(Feb 27 2025 at 20:06)</a>:</h4>
<p>fitzgen edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[ ] Type definitions for stack switching support</li>
<li>[ ] Runtime support for stack switching</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
</ul>
</blockquote>



<a name="504176342"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/504176342" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#504176342">(Mar 07 2025 at 20:11)</a>:</h4>
<p>frank-emrich edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>
<li>[ ] Runtime support for stack switching</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
</ul>
</blockquote>



<a name="522464094"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/522464094" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#522464094">(Jun 04 2025 at 22:45)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>
<li>[ ] Runtime support for stack switching</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
<li>[ ] After pulley support, update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>
<li>[ ] Update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>
<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href="https://github.com/bytecodealliance/wasmtime/pull/10803">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>
<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>
<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>
</ul>
</blockquote>



<a name="522614686"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/522614686" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#522614686">(Jun 05 2025 at 15:07)</a>:</h4>
<p>posborne edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>
<li>[x] Runtime support for stack switching</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
<li>[ ] After pulley support, update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>
<li>[ ] Update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>
<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href="https://github.com/bytecodealliance/wasmtime/pull/10803">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>
<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>
<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>
</ul>
</blockquote>



<a name="522619448"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/522619448" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#522619448">(Jun 05 2025 at 15:29)</a>:</h4>
<p>posborne edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>
<li>[x] Runtime support for stack switching (implemented in #10388)</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
<li>[ ] After pulley support, update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>
<li>[ ] Update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>
<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href="https://github.com/bytecodealliance/wasmtime/pull/10803">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>
<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>
<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>
<li>[ ] <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114569602">Stack-capturing fuzzer needs to be extended to support capturing backtraces across stack suspensions</a></li>
<li>[ ] Add support for stack switching in the embedder API (<a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521">https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521</a>).</li>
<li>[ ] Allow <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994023305">basic compat of GC/stack-switching</a> (continuations will still have lifetime of store).</li>
</ul>
<h3>Larger outstanding work items which have arisen during review of the initial changes:</h3>
<ul>
<li>[ ] Hostcalls can currently be made directly from continuation stacks; this behavior is different than the fibers impl and we likely should not allow this, <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114375774">see related discussion</a></li>
<li>[ ] Currently stack switching and fibers use different stack layouts and cannot (without modification) share a lot of functionality (e.g. pooling allocator used for fiber stacks); long-term, we would like to unify these two mechanisms where possible.  <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#issuecomment-2817337818">See discussion</a>.</li>
<li>[ ] Implement full GC of continuations</li>
</ul>
</blockquote>



<a name="522624130"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/522624130" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#522624130">(Jun 05 2025 at 15:53)</a>:</h4>
<p>posborne edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>
<li>[x] Runtime support for stack switching (implemented in #10388)</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
<li>[ ] After pulley support, update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>
<li>[ ] Update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>
<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href="https://github.com/bytecodealliance/wasmtime/pull/10803">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>
<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>
<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>
<li>[ ] <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114569602">Stack-capturing fuzzer needs to be extended to support capturing backtraces across stack suspensions</a></li>
<li>[ ] Add support for stack switching in the embedder API (<a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521">https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521</a>).</li>
<li>[ ] Allow <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994023305">basic compat of GC/stack-switching</a> (continuations will still have lifetime of store).</li>
<li>[ ] Remove stray <code>DeleteMeDebugAssertion</code>s: <a href="https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083">https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083</a></li>
</ul>
<h3>Larger outstanding work items which have arisen during review of the initial changes:</h3>
<ul>
<li>[ ] Hostcalls can currently be made directly from continuation stacks; this behavior is different than the fibers impl and we likely should not allow this, <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114375774">see related discussion</a></li>
<li>[ ] Currently stack switching and fibers use different stack layouts and cannot (without modification) share a lot of functionality (e.g. pooling allocator used for fiber stacks); long-term, we would like to unify these two mechanisms where possible.  <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#issuecomment-2817337818">See discussion</a>.</li>
<li>[ ] Implement full GC of continuations</li>
</ul>
</blockquote>



<a name="522680523"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/522680523" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#522680523">(Jun 05 2025 at 23:01)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>
<li>[x] Runtime support for stack switching (implemented in #10388)</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
<li>[ ] After pulley support, update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>
<li>[ ] Update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>
<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href="https://github.com/bytecodealliance/wasmtime/pull/10803">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>
<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>
<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>
<li>[ ] <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114569602">Stack-capturing fuzzer needs to be extended to support capturing backtraces across stack suspensions</a></li>
<li>[ ] Add support for stack switching in the embedder API (<a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521">https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521</a>).</li>
<li>[ ] Allow <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994023305">basic compat of GC/stack-switching</a> (continuations will still have lifetime of store).</li>
<li>[ ] Remove stray <code>DeleteMeDebugAssertion</code>s: <a href="https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083">https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083</a></li>
<li>[ ] Ideally <a href="https://github.com/bytecodealliance/wasmtime/blob/e4714332cade561c4bc5bbd9334ff76c53f4e0ab/crates/wasmtime/src/runtime/vm.rs#L62"><code>mod stack_switching</code></a> would have a <code>#[cfg]</code> for stack switching on it</li>
</ul>
<h3>Larger outstanding work items which have arisen during review of the initial changes:</h3>
<ul>
<li>[ ] Hostcalls can currently be made directly from continuation stacks; this behavior is different than the fibers impl and we likely should not allow this, <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114375774">see related discussion</a></li>
<li>[ ] Currently stack switching and fibers use different stack layouts and cannot (without modification) share a lot of functionality (e.g. pooling allocator used for fiber stacks); long-term, we would like to unify these two mechanisms where possible.  <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#issuecomment-2817337818">See discussion</a>.</li>
<li>[ ] Implement full GC of continuations</li>
</ul>
</blockquote>



<a name="523110752"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/523110752" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#523110752">(Jun 09 2025 at 15:03)</a>:</h4>
<p>posborne edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>
<li>[x] Runtime support for stack switching (implemented in #10388)</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
<li>[ ] After pulley support, update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>
<li>[ ] Update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>
<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href="https://github.com/bytecodealliance/wasmtime/pull/10803">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>
<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>
<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>
<li>[ ] <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114569602">Stack-capturing fuzzer needs to be extended to support capturing backtraces across stack suspensions</a></li>
<li>[ ] Add support for stack switching in the embedder API (<a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521">https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521</a>).</li>
<li>[ ] Allow <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994023305">basic compat of GC/stack-switching</a> (continuations will still have lifetime of store).</li>
<li>[x] Remove stray <code>DeleteMeDebugAssertion</code>s: <a href="https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083">https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083</a></li>
<li>[ ] Ideally <a href="https://github.com/bytecodealliance/wasmtime/blob/e4714332cade561c4bc5bbd9334ff76c53f4e0ab/crates/wasmtime/src/runtime/vm.rs#L62"><code>mod stack_switching</code></a> would have a <code>#[cfg]</code> for stack switching on it</li>
</ul>
<h3>Larger outstanding work items which have arisen during review of the initial changes:</h3>
<ul>
<li>[ ] Hostcalls can currently be made directly from continuation stacks; this behavior is different than the fibers impl and we likely should not allow this, <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114375774">see related discussion</a></li>
<li>[ ] Currently stack switching and fibers use different stack layouts and cannot (without modification) share a lot of functionality (e.g. pooling allocator used for fiber stacks); long-term, we would like to unify these two mechanisms where possible.  <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#issuecomment-2817337818">See discussion</a>.</li>
<li>[ ] Implement full GC of continuations</li>
</ul>
</blockquote>



<a name="523346736"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/523346736" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#523346736">(Jun 10 2025 at 18:15)</a>:</h4>
<p>fitzgen edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>
<li>[x] Runtime support for stack switching (implemented in #10388)</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
<li>[ ] After pulley support, update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>
<li>[ ] Update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>
<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href="https://github.com/bytecodealliance/wasmtime/pull/10803">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>
<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>
<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>
<li>[ ] <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114569602">Stack-capturing fuzzer needs to be extended to support capturing backtraces across stack suspensions</a></li>
<li>[ ] Add support for stack switching in the embedder API (<a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521">https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521</a>).</li>
<li>[ ] Allow <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994023305">basic compat of GC/stack-switching</a> (continuations will still have lifetime of store).</li>
<li>[x] Remove stray <code>DeleteMeDebugAssertion</code>s: <a href="https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083">https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083</a></li>
<li>[ ] Ideally <a href="https://github.com/bytecodealliance/wasmtime/blob/e4714332cade561c4bc5bbd9334ff76c53f4e0ab/crates/wasmtime/src/runtime/vm.rs#L62"><code>mod stack_switching</code></a> would have a <code>#[cfg]</code> for stack switching on it</li>
</ul>
<h3>Larger outstanding work items which have arisen during review of the initial changes:</h3>
<ul>
<li>[ ] Hostcalls can currently be made directly from continuation stacks; this behavior is different than the fibers impl and we likely should not allow this, <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114375774">see related discussion</a></li>
<li>[ ] Currently stack switching and fibers use different stack layouts and cannot (without modification) share a lot of functionality (e.g. pooling allocator used for fiber stacks); long-term, we would like to unify these two mechanisms where possible.  <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#issuecomment-2817337818">See discussion</a>. (Note: This will likely mean that stack switching will require <code>cfg(feature = "async")</code> which is what we probably want anyways)</li>
<li>[ ] Implement full GC of continuations</li>
</ul>
</blockquote>



<a name="523624428"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/523624428" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#523624428">(Jun 11 2025 at 19:23)</a>:</h4>
<p>posborne edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>This is a tracking issue for the in-progress implementation of the <a href="https://github.com/WebAssembly/stack-switching">Wasm stack switching proposal</a>. The explainer document for the proposal is <a href="https://github.com/WebAssembly/stack-switching/blob/main/proposals/stack-switching/Explainer.md">here</a>.</p>
<h3>Progress of initial implementation</h3>
<p>This just tracks what's happening in the sequence of PRs that's providing an initial implementation of the proposal. To get an idea of the extent of the initial implementation, see draft PR #10177.</p>
<ul>
<li>[x] ~Support for tags~ (implemented in #10251)</li>
<li>[x] ~Type definitions for stack switching support~ (implemented in #10255)</li>
<li>[x] Runtime support for stack switching (implemented in #10388)</li>
<li>[ ] Compiling stack switching instructions to CLIF</li>
</ul>
<h3>Limitations of initial implementation</h3>
<p>These are things that won't be part of the initial implementation:</p>
<ul>
<li>[ ] Support for ISAs other than x64</li>
<li>[ ] Support for <code>resume.throw</code> instructions (requires exception handling)</li>
<li>[ ] Support for deallocating continuations</li>
<li>[ ] Integration with GC (i.e., allowing continuation references to appear in GC objects, such as arrays an structs)</li>
<li>[ ] Windows support</li>
<li>[ ] Pulley support</li>
<li>[ ] Winch support</li>
</ul>
<h3>Miscellaneous TODO items</h3>
<ul>
<li>[ ] <code>Config::wasm_stack_switching</code> enables both exceptions + stack-switching, but it should only enable <code>stack_switching</code> (from <a href="https://github.com/bytecodealliance/wasmtime/pull/10251">https://github.com/bytecodealliance/wasmtime/pull/10251</a>)</li>
<li>[ ] After pulley support, update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/tests/all/pulley.rs#L78-L184">provenance test</a> to exercise various bits of stack switching to run as much as we can through MIRI</li>
<li>[ ] Update the <a href="https://github.com/bytecodealliance/wasmtime/blob/c71d3aabfd7edbd21b76514849e0f31c208cf0be/crates/wasmtime/tests/host_segfault.rs">host_segfault.rs</a> test to exercise stack overflow cases in various stack-y situations to ensure that faults due to misconfigured engines or recursion on the host fail in predictable fashions</li>
<li>[ ] Remove use of <code>rustix::param::page_size</code> (cc <a href="https://github.com/bytecodealliance/wasmtime/pull/10803">https://github.com/bytecodealliance/wasmtime/pull/10803</a> for motivation)</li>
<li>[ ] Remove <code>stack-switching</code> Cargo features for winch/Cranelift-related crates. Keep it for runtime bits, but for compiler bits we've generally found it's not worth the overhead.</li>
<li>[ ] Add <code>stack-switching</code> Cargo features to the c-api and various crates/locations there</li>
<li>[ ] <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114569602">Stack-capturing fuzzer needs to be extended to support capturing backtraces across stack suspensions</a></li>
<li>[ ] Add support for stack switching in the embedder API (<a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521">https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994307521</a>).</li>
<li>[ ] Allow <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r1994023305">basic compat of GC/stack-switching</a> (continuations will still have lifetime of store).</li>
<li>[x] Remove stray <code>DeleteMeDebugAssertion</code>s: <a href="https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083">https://github.com/bytecodealliance/wasmtime/pull/10388/files/60c9cdb707fc674857fa549a8459f8c602be0c82#r2127451083</a></li>
<li>[ ] Ideally <a href="https://github.com/bytecodealliance/wasmtime/blob/e4714332cade561c4bc5bbd9334ff76c53f4e0ab/crates/wasmtime/src/runtime/vm.rs#L62"><code>mod stack_switching</code></a> would have a <code>#[cfg]</code> for stack switching on it</li>
<li>[ ] <code>cont.bind</code> cannot contain gc roots (compile error), see <a href="https://github.com/bytecodealliance/wasmtime/pull/11003/files/e9fa92d1fd989a10b584124ca07acee836123b4d#r2138934542">https://github.com/bytecodealliance/wasmtime/pull/11003/files/e9fa92d1fd989a10b584124ca07acee836123b4d#r2138934542</a></li>
</ul>
<h3>Larger outstanding work items which have arisen during review of the initial changes:</h3>
<ul>
<li>[ ] Hostcalls can currently be made directly from continuation stacks; this behavior is different than the fibers impl and we likely should not allow this, <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#discussion_r2114375774">see related discussion</a></li>
<li>[ ] Currently stack switching and fibers use different stack layouts and cannot (without modification) share a lot of functionality (e.g. pooling allocator used for fiber stacks); long-term, we would like to unify these two mechanisms where possible.  <a href="https://github.com/bytecodealliance/wasmtime/pull/10388#issuecomment-2817337818">See discussion</a>. (Note: This will likely mean that stack switching will require <code>cfg(feature = "async")</code> which is what we probably want anyways)</li>
<li>[ ] Implement full GC of continuations</li>
</ul>
</blockquote>



<a name="539814230"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310248%20Tracking%20issue%3A%20Stack%20switching%20p.../near/539814230" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310248.20Tracking.20issue.3A.20Stack.20switching.20p.2E.2E.2E.html#539814230">(Sep 16 2025 at 16:35)</a>:</h4>
<p>dhil <a href="https://github.com/bytecodealliance/wasmtime/issues/10248#issuecomment-3299538920">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10248">issue #10248</a>:</p>
<blockquote>
<p>Codegen was added by #11003.</p>
</blockquote>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>