<html>
<head><meta charset="utf-8"><title>wasmtime / PR #11371 Add `CompiledCodeStencil` to public ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html">wasmtime / PR #11371 Add `CompiledCodeStencil` to public ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="532352494"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532352494" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532352494">(Aug 01 2025 at 17:47)</a>:</h4>
<p>suprohub opened <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a> from <code>suprohub:main</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
<p>Crate <code>TargetIsa</code> have method <code>compile_function</code>, what return type is <code>CodegenResult&lt;CompiledCodeStencil&gt;</code>.<br>
<code>CompiledCodeStencil</code> is not public exported, so i just cant use this crate for custom external isa..<br>
</p>
</blockquote>



<a name="532352496"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532352496" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532352496">(Aug 01 2025 at 17:47)</a>:</h4>
<p><strong>suprohub</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>.</p>



<a name="532352497"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532352497" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532352497">(Aug 01 2025 at 17:47)</a>:</h4>
<p><strong>suprohub</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>.</p>



<a name="532355670"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532355670" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532355670">(Aug 01 2025 at 18:07)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3145368507">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>:</p>
<blockquote>
<p>Do you actually need to implement <code>TargetIsa</code>? Most of the backend framework is still private with this PR. So I think you did either want to fork Cranelift and use the backend framework, or you avoid <code>TargetIsa</code> entirely.</p>
</blockquote>



<a name="532357229"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532357229" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532357229">(Aug 01 2025 at 18:19)</a>:</h4>
<p>suprohub <a href="https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3145394327">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>:</p>
<blockquote>
<blockquote>
<p>Do you actually need to implement <code>TargetIsa</code>? Most of the backend framework is still private with this PR. So I think you did either want to fork Cranelift and use the backend framework, or you avoid <code>TargetIsa</code> entirely.</p>
</blockquote>
<p>Yes, i actually need to implement <code>TargetIsa</code>, and i need implement this externally.</p>
</blockquote>



<a name="532357320"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532357320" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532357320">(Aug 01 2025 at 18:20)</a>:</h4>
<p>suprohub edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3145394327">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>:</p>
<blockquote>
<blockquote>
<p>Do you actually need to implement <code>TargetIsa</code>? Most of the backend framework is still private with this PR. So I think you did either want to fork Cranelift and use the backend framework, or you avoid <code>TargetIsa</code> entirely.</p>
</blockquote>
<p>Yes, i actually need to implement <code>TargetIsa</code>, and i need implement this externally.<br>
&amp;dyn TargetIsa often used in many places.</p>
</blockquote>



<a name="532357386"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532357386" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532357386">(Aug 01 2025 at 18:20)</a>:</h4>
<p>suprohub edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3145394327">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>:</p>
<blockquote>
<blockquote>
<p>Do you actually need to implement <code>TargetIsa</code>? Most of the backend framework is still private with this PR. So I think you did either want to fork Cranelift and use the backend framework, or you avoid <code>TargetIsa</code> entirely.</p>
</blockquote>
<p>Yes, i actually need to implement <code>TargetIsa</code>, and i need implement this externally.<br>
&amp;dyn TargetIsa often used in many places. Also, <code>Module</code> needs TargetIsa too.</p>
</blockquote>



<a name="532358858"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532358858" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532358858">(Aug 01 2025 at 18:31)</a>:</h4>
<p>suprohub updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>.</p>



<a name="532430658"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532430658" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532430658">(Aug 02 2025 at 08:15)</a>:</h4>
<p>suprohub updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>.</p>



<a name="532430975"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532430975" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532430975">(Aug 02 2025 at 08:20)</a>:</h4>
<p>suprohub updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>.</p>



<a name="532443330"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532443330" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532443330">(Aug 02 2025 at 11:08)</a>:</h4>
<p>suprohub updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>.</p>



<a name="532443749"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532443749" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532443749">(Aug 02 2025 at 11:14)</a>:</h4>
<p>suprohub updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>.</p>



<a name="532444169"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532444169" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532444169">(Aug 02 2025 at 11:20)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146445378">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>:</p>
<blockquote>
<p>You are slowly exposing basically the entire backend framework to end users. The backend framework is highly unstable and should definitively not be re-exported in the root of the cranelift-codegen crate.</p>
</blockquote>



<a name="532444238"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532444238" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532444238">(Aug 02 2025 at 11:21)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146445873">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>:</p>
<blockquote>
<p>Does the <code>[patch.crates-io]</code> section in <code>Cargo.toml</code> for replacing cranelift-codegen with a version you patched yourself to include your extra backend not work? You are going to have to change your backend every Cranelift version anyway if you are depending on these unstable implementation details.</p>
</blockquote>



<a name="532447384"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532447384" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532447384">(Aug 02 2025 at 11:58)</a>:</h4>
<p>suprohub <a href="https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146460391">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>:</p>
<blockquote>
<blockquote>
<p>You are slowly exposing basically the entire backend framework to end users. The backend framework is highly unstable and should definitively not be re-exported in the root of the cranelift-codegen crate.</p>
</blockquote>
<p>Yeah, you are right. This is not cool</p>
</blockquote>



<a name="532447740"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532447740" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532447740">(Aug 02 2025 at 12:00)</a>:</h4>
<p>suprohub <a href="https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146460941">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>:</p>
<blockquote>
<blockquote>
<p>Does the <code>[patch.crates-io]</code> section in <code>Cargo.toml</code> for replacing cranelift-codegen with a version you patched yourself to include your extra backend not work? You are going to have to change your backend every Cranelift version anyway if you are depending on these unstable implementation details.</p>
</blockquote>
<p>But how i can use this unstable api? I very need custom implementation for <code>TargetIsa</code> and <code>MachInst</code></p>
</blockquote>



<a name="532447979"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532447979" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532447979">(Aug 02 2025 at 12:01)</a>:</h4>
<p>suprohub edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146460941">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>:</p>
<blockquote>
<blockquote>
<p>Does the <code>[patch.crates-io]</code> section in <code>Cargo.toml</code> for replacing cranelift-codegen with a version you patched yourself to include your extra backend not work? You are going to have to change your backend every Cranelift version anyway if you are depending on these unstable implementation details.</p>
</blockquote>
<p>But how i can use this unstable api? I very need custom implementation for <code>TargetIsa</code> and <code>MachInst</code>.<br>
I need use it as external crate, because i dont want all features from cranelift, only codegen api.</p>
</blockquote>



<a name="532448217"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532448217" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532448217">(Aug 02 2025 at 12:03)</a>:</h4>
<p>suprohub updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>.</p>



<a name="532448273"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532448273" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532448273">(Aug 02 2025 at 12:04)</a>:</h4>
<p>suprohub edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146460941">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>:</p>
<blockquote>
<blockquote>
<p>Does the <code>[patch.crates-io]</code> section in <code>Cargo.toml</code> for replacing cranelift-codegen with a version you patched yourself to include your extra backend not work? You are going to have to change your backend every Cranelift version anyway if you are depending on these unstable implementation details.</p>
</blockquote>
<p>But how i can use this unstable api? I very need custom implementation for <code>TargetIsa</code> and maybe <code>MachInst</code>.<br>
I need use it as external crate, because i dont want all features from cranelift, only codegen api.</p>
</blockquote>



<a name="532448362"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532448362" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532448362">(Aug 02 2025 at 12:05)</a>:</h4>
<p>suprohub <a href="https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146463293">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>:</p>
<blockquote>
<p>Ok, i make only one field public and export <code>CompiledCodeStencil</code> for implement <code>TargetIsa</code></p>
</blockquote>



<a name="532448518"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532448518" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532448518">(Aug 02 2025 at 12:06)</a>:</h4>
<p>suprohub edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146463293">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>:</p>
<blockquote>
<p>Ok, i make only one field public and export <code>CompiledCodeStencil</code> for implement <code>TargetIsa</code>. But i very need <code>MachBuffer</code> what requires <code>MachInst</code> implementation<br>
</p>
</blockquote>



<a name="532467336"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532467336" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532467336">(Aug 02 2025 at 16:08)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/11371#issuecomment-3146586848">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>:</p>
<blockquote>
<p>@suprohub Thanks for the PR; unfortunately, as bjorn3 has said, these are all internal compiler implementation details and will not be exposed. Aside from the types you would need to export to make this work, there is the ISLE DSL, which doesn't have a cross-crate linking story right now; it uses libraries (the "prelude") via inclusion, so we would need to bundle the prelude source code in <code>cranelift-codegen</code> and export it as text, or factor it to a separate crate (which is much more awkward for work within <code>cranelift-codegen</code>), or something like that. But in general this is exposing a bunch of internals, and we don't make any public promises about the stability of those details across releases; nor do we make any promises about safety or correctness if they are used in the wrong way. Maintaining this freedom to refactor, this standard of correctness, and a clean coherent public interface, are all reasons why we have chosen not to expose these things.</p>
<p>If you want to maintain your own Cranelift backend, the canonical path is to fork; at some point if you would like to upstream a backend, if it is of general interest and the maintenance support is there, we could discuss it. </p>
</blockquote>



<a name="532467344"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311371%20Add%20%60CompiledCodeStencil%60%20to%20public%20.../near/532467344" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311371.20Add.20.60CompiledCodeStencil.60.20to.20public.20.2E.2E.2E.html#532467344">(Aug 02 2025 at 16:08)</a>:</h4>
<p>cfallin closed without merge <a href="https://github.com/bytecodealliance/wasmtime/pull/11371">PR #11371</a>.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>