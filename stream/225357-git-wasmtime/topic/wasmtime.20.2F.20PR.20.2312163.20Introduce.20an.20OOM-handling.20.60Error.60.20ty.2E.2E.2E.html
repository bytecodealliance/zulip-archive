<html>
<head><meta charset="utf-8"><title>wasmtime / PR #12163 Introduce an OOM-handling `Error` ty... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html">wasmtime / PR #12163 Introduce an OOM-handling `Error` ty...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="563536569"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563536569" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563536569">(Dec 12 2025 at 18:17)</a>:</h4>
<p>fitzgen opened <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a> from <code>fitzgen:wasmtime-error</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This new <code>Error</code> has an API that is 99% identical to <code>anyhow::Error</code>'s API, but additionally handles memory exhaustion.</p>
<p>This commit only introduces the <code>wasmtime_internal_error</code> crate into our workspace, along with its regular tests and OOM tests. This commit does not, however, migrate Wasmtime's internals or public-facing API over to the new error type yet. That is left for follow up work.</p>
<p>In order to continue fitting <code>Result&lt;(), Error&gt;</code> in one word, there is quite a bit of unsafe code in <code>Error</code>'s implementation, mostly surrounding the manual creation of our own moral equivalent of <code>Box&lt;dyn Error&gt;</code> with explicit vtables and type erasure so that we get a thin pointer to a trait object rather than <code>Box&lt;dyn Error&gt;</code>'s fat pointer. To alleviate the associated risks, I've been testing this code under MIRI throughout its whole development, as well as thoroughly testing the API so that MIRI can dynamically exercise all the code paths. Furthermore, I've enabled testing this crate under MIRI in CI.</p>
<p>Part of <a href="https://github.com/bytecodealliance/wasmtime/issues/12069">https://github.com/bytecodealliance/wasmtime/issues/12069</a></p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="563536572"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563536572" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563536572">(Dec 12 2025 at 18:17)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="563536573"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563536573" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563536573">(Dec 12 2025 at 18:17)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-fuzz-reviewers">wasmtime-fuzz-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="563536574"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563536574" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563536574">(Dec 12 2025 at 18:17)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="563536576"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563536576" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563536576">(Dec 12 2025 at 18:17)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="563538860"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563538860" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563538860">(Dec 12 2025 at 18:31)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="563539236"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563539236" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563539236">(Dec 12 2025 at 18:33)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="563540480"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563540480" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563540480">(Dec 12 2025 at 18:41)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="563541229"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563541229" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563541229">(Dec 12 2025 at 18:47)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="563543018"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563543018" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563543018">(Dec 12 2025 at 19:00)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3647760109">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<p>I am not sure why the version bump followed by <code>cargo vet</code> is failing. Digging in...</p>
<p><a href="https://github.com/bytecodealliance/wasmtime/actions/runs/20176633165/job/57926334414?pr=12163">https://github.com/bytecodealliance/wasmtime/actions/runs/20176633165/job/57926334414?pr=12163</a></p>
</blockquote>



<a name="563550834"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563550834" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563550834">(Dec 12 2025 at 19:53)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3647928606">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<blockquote>
<p>I am not sure why the version bump followed by <code>cargo vet</code> is failing. Digging in...</p>
</blockquote>
<p>Third bullet point over in <a href="https://github.com/bytecodealliance/wasmtime/pull/12164">https://github.com/bytecodealliance/wasmtime/pull/12164</a></p>
</blockquote>



<a name="563551319"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563551319" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563551319">(Dec 12 2025 at 19:56)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="563551678"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563551678" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563551678">(Dec 12 2025 at 19:59)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="563564289"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563564289" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563564289">(Dec 12 2025 at 21:29)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="563564346"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563564346" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563564346">(Dec 12 2025 at 21:30)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3648203741">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<blockquote>
<p>Third bullet point over in #12164</p>
</blockquote>
<p>Rebased on top of that PR now that it merged</p>
</blockquote>



<a name="563565954"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563565954" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563565954">(Dec 12 2025 at 21:42)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="563567089"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563567089" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563567089">(Dec 12 2025 at 21:51)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3648261768">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<p>Grrrr this bump-and-vet CI failure is really annoying me. Works when I run the exact same commands locally:</p>
<p>&lt;details&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">nick</span><span class="o">@</span><span class="n">hamilton</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="p">(</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="o">~/</span><span class="n">wasmtime</span>
<span class="w">    </span><span class="cp">$</span><span class="w"> </span><span class="n">rustc</span><span class="w"> </span><span class="n">scripts</span><span class="o">/</span><span class="n">publish</span><span class="p">.</span><span class="n">rs</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">publish</span><span class="w"> </span><span class="n">bump</span><span class="o">-</span><span class="n">patch</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">component</span><span class="o">-</span><span class="kr">macro</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">helpers</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">component</span><span class="o">-</span><span class="k">async</span><span class="o">-</span><span class="n">tests</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wizer</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">regex</span><span class="o">-</span><span class="n">test</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">regex</span><span class="o">-</span><span class="n">bench</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">uap</span><span class="o">-</span><span class="n">bench</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">environ</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">bench</span><span class="o">-</span><span class="n">api</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">preview1</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="n">adapter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">verify</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="n">adapter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">byte</span><span class="o">-</span><span class="n">array</span><span class="o">-</span><span class="n">literals</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="o">-</span><span class="n">example</span><span class="o">-</span><span class="n">winml</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="o">-</span><span class="n">example</span><span class="o">-</span><span class="n">named</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="o">-</span><span class="n">example</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">classification</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="n">onnx</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="o">-</span><span class="n">example</span><span class="o">-</span><span class="n">pytorch</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">macros</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wiggle</span><span class="o">-</span><span class="n">test</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">test</span><span class="o">-</span><span class="n">programs</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">test</span><span class="o">-</span><span class="n">programs</span><span class="o">-</span><span class="n">artifacts</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">util</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">fuzzing</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasm</span><span class="o">-</span><span class="n">spec</span><span class="o">-</span><span class="n">interpreter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">c</span><span class="o">-</span><span class="n">api</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">tools</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">assembler</span><span class="o">-</span><span class="n">x64</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">fuzzgen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">filetests</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">isle</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">veri_ir</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">veri_engine</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">islec</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">pulley</span><span class="o">-</span><span class="n">interpreter</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">bitset</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">math</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">pulley</span><span class="o">-</span><span class="n">macros</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">pulley</span><span class="o">-</span><span class="n">interpreter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">srcgen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">assembler</span><span class="o">-</span><span class="n">x64</span><span class="o">-</span><span class="n">meta</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">assembler</span><span class="o">-</span><span class="n">x64</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">isle</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">entity</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">bforest</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">codegen</span><span class="o">-</span><span class="n">shared</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">codegen</span><span class="o">-</span><span class="n">meta</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">control</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">codegen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">reader</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">serde</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">module</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">frontend</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">native</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">object</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">interpreter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">jit</span><span class="o">-</span><span class="n">icache</span><span class="o">-</span><span class="n">coherence</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">unwinder</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">jit</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wiggle</span><span class="o">-</span><span class="n">generate</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wiggle</span><span class="o">-</span><span class="kr">macro</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">error</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">versioned</span><span class="o">-</span><span class="n">export</span><span class="o">-</span><span class="n">macros</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">slab</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="n">util</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">wit</span><span class="o">-</span><span class="n">bindgen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="kr">macro</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">jit</span><span class="o">-</span><span class="n">debug</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">fiber</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">environ</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">wmemcheck</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">cranelift</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">cache</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">winch</span><span class="o">-</span><span class="n">codegen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">winch</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wiggle</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">common</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">io</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">http</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">config</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">keyvalue</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">threads</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">tls</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">tls</span><span class="o">-</span><span class="n">nativetls</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wast</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">c</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="n">macros</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">c</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="k">impl</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wizer</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">cli</span><span class="o">-</span><span class="n">flags</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">explorer</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">cli</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">41.0.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">41.0.1</span>
<span class="n">Running</span><span class="p">:</span><span class="w"> </span><span class="err">`</span><span class="s">"cargo"</span><span class="w"> </span><span class="s">"fetch"</span><span class="w"> </span><span class="s">"--offline"</span><span class="err">`</span>

<span class="n">nick</span><span class="o">@</span><span class="n">hamilton</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="p">(</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">error</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="o">~/</span><span class="n">wasmtime</span>
<span class="w">    </span><span class="cp">$</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="cp">$</span><span class="o">?</span>
<span class="mi">0</span>
</code></pre></div>
<p>&lt;/details&gt;</p>
</blockquote>



<a name="563567456"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563567456" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563567456">(Dec 12 2025 at 21:54)</a>:</h4>
<p>fitzgen edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3648261768">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<p>Grrrr this bump-and-vet CI failure is really annoying me. <del>Works when I run the exact same commands locally</del>:</p>
<p>&lt;details&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">nick</span><span class="o">@</span><span class="n">hamilton</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="p">(</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="o">~/</span><span class="n">wasmtime</span>
<span class="w">    </span><span class="cp">$</span><span class="w"> </span><span class="n">rustc</span><span class="w"> </span><span class="n">scripts</span><span class="o">/</span><span class="n">publish</span><span class="p">.</span><span class="n">rs</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">publish</span><span class="w"> </span><span class="n">bump</span><span class="o">-</span><span class="n">patch</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">component</span><span class="o">-</span><span class="kr">macro</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">helpers</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">component</span><span class="o">-</span><span class="k">async</span><span class="o">-</span><span class="n">tests</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wizer</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">regex</span><span class="o">-</span><span class="n">test</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">regex</span><span class="o">-</span><span class="n">bench</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">uap</span><span class="o">-</span><span class="n">bench</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">environ</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">bench</span><span class="o">-</span><span class="n">api</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">preview1</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="n">adapter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">verify</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="n">adapter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">byte</span><span class="o">-</span><span class="n">array</span><span class="o">-</span><span class="n">literals</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="o">-</span><span class="n">example</span><span class="o">-</span><span class="n">winml</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="o">-</span><span class="n">example</span><span class="o">-</span><span class="n">named</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="o">-</span><span class="n">example</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">classification</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="n">onnx</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="o">-</span><span class="n">example</span><span class="o">-</span><span class="n">pytorch</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">macros</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wiggle</span><span class="o">-</span><span class="n">test</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">test</span><span class="o">-</span><span class="n">programs</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">test</span><span class="o">-</span><span class="n">programs</span><span class="o">-</span><span class="n">artifacts</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">util</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">fuzzing</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasm</span><span class="o">-</span><span class="n">spec</span><span class="o">-</span><span class="n">interpreter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">c</span><span class="o">-</span><span class="n">api</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">tools</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">assembler</span><span class="o">-</span><span class="n">x64</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">fuzzgen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">filetests</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">isle</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">veri_ir</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">veri_engine</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">islec</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">pulley</span><span class="o">-</span><span class="n">interpreter</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">bitset</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">math</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">pulley</span><span class="o">-</span><span class="n">macros</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">pulley</span><span class="o">-</span><span class="n">interpreter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">srcgen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">assembler</span><span class="o">-</span><span class="n">x64</span><span class="o">-</span><span class="n">meta</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">assembler</span><span class="o">-</span><span class="n">x64</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">isle</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">entity</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">bforest</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">codegen</span><span class="o">-</span><span class="n">shared</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">codegen</span><span class="o">-</span><span class="n">meta</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">control</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">codegen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">reader</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">serde</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">module</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">frontend</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">native</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">object</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">interpreter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">jit</span><span class="o">-</span><span class="n">icache</span><span class="o">-</span><span class="n">coherence</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">unwinder</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">jit</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wiggle</span><span class="o">-</span><span class="n">generate</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wiggle</span><span class="o">-</span><span class="kr">macro</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">error</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">versioned</span><span class="o">-</span><span class="n">export</span><span class="o">-</span><span class="n">macros</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">slab</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="n">util</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">wit</span><span class="o">-</span><span class="n">bindgen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="kr">macro</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">jit</span><span class="o">-</span><span class="n">debug</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">fiber</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">environ</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">wmemcheck</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">cranelift</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">cache</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">winch</span><span class="o">-</span><span class="n">codegen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">winch</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wiggle</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">common</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">io</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">http</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">config</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">keyvalue</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">threads</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">tls</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">tls</span><span class="o">-</span><span class="n">nativetls</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wast</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">c</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="n">macros</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">c</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="k">impl</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wizer</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">cli</span><span class="o">-</span><span class="n">flags</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">explorer</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">cli</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">41.0.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">41.0.1</span>
<span class="n">Running</span><span class="p">:</span><span class="w"> </span><span class="err">`</span><span class="s">"cargo"</span><span class="w"> </span><span class="s">"fetch"</span><span class="w"> </span><span class="s">"--offline"</span><span class="err">`</span>

<span class="n">nick</span><span class="o">@</span><span class="n">hamilton</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="p">(</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">error</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="o">~/</span><span class="n">wasmtime</span>
<span class="w">    </span><span class="cp">$</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="cp">$</span><span class="o">?</span>
<span class="mi">0</span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>Edit: d'oh I missed that CI is doing a <code>cargo vet</code> after the version bump.</p>
</blockquote>



<a name="563567487"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563567487" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563567487">(Dec 12 2025 at 21:55)</a>:</h4>
<p>fitzgen edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3648261768">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<p>Grrrr this bump-and-vet CI failure is really annoying me. <del>Works when I run the exact same commands locally</del>:</p>
<p>&lt;details&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">nick</span><span class="o">@</span><span class="n">hamilton</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="p">(</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="o">~/</span><span class="n">wasmtime</span>
<span class="w">    </span><span class="cp">$</span><span class="w"> </span><span class="n">rustc</span><span class="w"> </span><span class="n">scripts</span><span class="o">/</span><span class="n">publish</span><span class="p">.</span><span class="n">rs</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">publish</span><span class="w"> </span><span class="n">bump</span><span class="o">-</span><span class="n">patch</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">component</span><span class="o">-</span><span class="kr">macro</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">helpers</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">component</span><span class="o">-</span><span class="k">async</span><span class="o">-</span><span class="n">tests</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wizer</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">regex</span><span class="o">-</span><span class="n">test</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">regex</span><span class="o">-</span><span class="n">bench</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">uap</span><span class="o">-</span><span class="n">bench</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">environ</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">bench</span><span class="o">-</span><span class="n">api</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">preview1</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="n">adapter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">verify</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="n">adapter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">byte</span><span class="o">-</span><span class="n">array</span><span class="o">-</span><span class="n">literals</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="o">-</span><span class="n">example</span><span class="o">-</span><span class="n">winml</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="o">-</span><span class="n">example</span><span class="o">-</span><span class="n">named</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="o">-</span><span class="n">example</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">classification</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="n">onnx</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="o">-</span><span class="n">example</span><span class="o">-</span><span class="n">pytorch</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">macros</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wiggle</span><span class="o">-</span><span class="n">test</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">test</span><span class="o">-</span><span class="n">programs</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">test</span><span class="o">-</span><span class="n">programs</span><span class="o">-</span><span class="n">artifacts</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">util</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">fuzzing</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasm</span><span class="o">-</span><span class="n">spec</span><span class="o">-</span><span class="n">interpreter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">c</span><span class="o">-</span><span class="n">api</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">tools</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">assembler</span><span class="o">-</span><span class="n">x64</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">fuzzgen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">filetests</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">isle</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">veri_ir</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">veri_engine</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">islec</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">pulley</span><span class="o">-</span><span class="n">interpreter</span><span class="o">-</span><span class="n">fuzz</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">bitset</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">math</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">pulley</span><span class="o">-</span><span class="n">macros</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">pulley</span><span class="o">-</span><span class="n">interpreter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">srcgen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">assembler</span><span class="o">-</span><span class="n">x64</span><span class="o">-</span><span class="n">meta</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">assembler</span><span class="o">-</span><span class="n">x64</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">isle</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">entity</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">bforest</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">codegen</span><span class="o">-</span><span class="n">shared</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">codegen</span><span class="o">-</span><span class="n">meta</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">control</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">codegen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">reader</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">serde</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">module</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">frontend</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">native</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">object</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">interpreter</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">jit</span><span class="o">-</span><span class="n">icache</span><span class="o">-</span><span class="n">coherence</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">unwinder</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="o">-</span><span class="n">jit</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">0.128.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">0.128.1</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wiggle</span><span class="o">-</span><span class="n">generate</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wiggle</span><span class="o">-</span><span class="kr">macro</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">error</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">versioned</span><span class="o">-</span><span class="n">export</span><span class="o">-</span><span class="n">macros</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">slab</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="n">util</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">wit</span><span class="o">-</span><span class="n">bindgen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">component</span><span class="o">-</span><span class="kr">macro</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">jit</span><span class="o">-</span><span class="n">debug</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">fiber</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">environ</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">wmemcheck</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">cranelift</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">cache</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">winch</span><span class="o">-</span><span class="n">codegen</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">winch</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wiggle</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span><span class="o">-</span><span class="n">common</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">io</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">http</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">config</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">keyvalue</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">threads</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">tls</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">tls</span><span class="o">-</span><span class="n">nativetls</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wast</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">c</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="n">macros</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">c</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="k">impl</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wizer</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">cli</span><span class="o">-</span><span class="n">flags</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">internal</span><span class="o">-</span><span class="n">explorer</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="n">bumping</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">cli</span><span class="err">`</span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="mf">41.0.0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mf">41.0.1</span>
<span class="n">Running</span><span class="p">:</span><span class="w"> </span><span class="err">`</span><span class="s">"cargo"</span><span class="w"> </span><span class="s">"fetch"</span><span class="w"> </span><span class="s">"--offline"</span><span class="err">`</span>

<span class="n">nick</span><span class="o">@</span><span class="n">hamilton</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="p">(</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">error</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="o">~/</span><span class="n">wasmtime</span>
<span class="w">    </span><span class="cp">$</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="cp">$</span><span class="o">?</span>
<span class="mi">0</span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>Edit: d'oh I missed a command from CI. Can repro.</p>
</blockquote>



<a name="563569157"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563569157" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563569157">(Dec 12 2025 at 22:10)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="563570031"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563570031" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563570031">(Dec 12 2025 at 22:18)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3648336272">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<p>Looks like <a href="https://github.com/bytecodealliance/wasmtime/pull/12163/commits/fbac398ef538a6069b4f9d3da45b7ef3f2df4842">https://github.com/bytecodealliance/wasmtime/pull/12163/commits/fbac398ef538a6069b4f9d3da45b7ef3f2df4842</a> did indeed fix the <code>cargo vet</code> issues.</p>
</blockquote>



<a name="563577072"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563577072" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563577072">(Dec 12 2025 at 23:45)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3648530388">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "fuzzing"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>fitzgen: fuzzing</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="563899348"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563899348" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563899348">(Dec 15 2025 at 18:56)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3657122463">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<p>@cfallin do you feel comfortable reviewing this since Alex is out-of-office right now?</p>
</blockquote>



<a name="563904035"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563904035" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563904035">(Dec 15 2025 at 19:05)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3657156943">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<p>Sure, happy to do so!</p>
</blockquote>



<a name="563904055"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563904055" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563904055">(Dec 15 2025 at 19:05)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="563950050"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563950050" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563950050">(Dec 16 2025 at 01:03)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3579865854">PR review</a>:</p>
<blockquote>
<p>Partial review but I wanted to checkpoint these comments at least -- will keep reading from <code>lib.rs</code> onward in the new crate tomorrow!</p>
<p>This is very nice code overall; just little nits mostly.</p>
</blockquote>



<a name="563950052"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563950052" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563950052">(Dec 16 2025 at 01:03)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2620623815">PR review comment</a>:</p>
<blockquote>
<p>I assume that we are doing this direct import from the error crate for now since it's not integrated into Wasmtime, but is it the long-term goal to reexport the public error types from <code>wasmtime</code> itself? If so, should we leave a TODO/FIXME here noting that?</p>
</blockquote>



<a name="563950053"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563950053" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563950053">(Dec 16 2025 at 01:03)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2621168065">PR review comment</a>:</p>
<blockquote>
<p>Could we have a static-assert somewhere that (instantiating for some error-type <code>E</code>) asserts that <code>vtable</code> and <code>backtrace</code> have the same offsets in both types? It's almost tautological today as they're right next to each other, list the same field prefix, and are <code>repr(C)</code>, but it can't hurt to double-check if someone adds fields in the future...</p>
</blockquote>



<a name="563950054"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563950054" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563950054">(Dec 16 2025 at 01:03)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2621169562">PR review comment</a>:</p>
<blockquote>
<p>Could we add a comment here describing why we need to manually implement vtables rather than (say) use a <code>dyn Trait</code> fat-pointer? I know there are some interesting layout-size tradeoffs you navigated here to arrive at this.</p>
</blockquote>



<a name="563950055"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563950055" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563950055">(Dec 16 2025 at 01:03)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2621308007">PR review comment</a>:</p>
<blockquote>
<p>Is there a reason this has to be nested within <code>new()</code>? I understand the encapsulation is nice (it's only instantiated here, nowhere else) but the indents are a little deep and it makes the code harder to read for me at least -- in-place struct impls are nicest when they're small or ad-hoc IMHO.</p>
<p>(Not a huge deal, just my aesthetic preference)</p>
</blockquote>



<a name="563950056"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563950056" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563950056">(Dec 16 2025 at 01:03)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2621202392">PR review comment</a>:</p>
<blockquote>
<p>s/seemlessly/seamlessly/</p>
</blockquote>



<a name="563950057"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563950057" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563950057">(Dec 16 2025 at 01:03)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2620626508">PR review comment</a>:</p>
<blockquote>
<p>Is the idea that backtracing is not yet OOM-safe? (Will it be eventually or will we document the settings needed for OOM-safety, including disabling backtraces?) Can we leave a comment here describing why disable?</p>
</blockquote>



<a name="563950058"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563950058" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563950058">(Dec 16 2025 at 01:03)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2621329934">PR review comment</a>:</p>
<blockquote>
<p>This is a very nice and clever trick, on the one hand. On the other, I worry that it feels a little brittle: for example if there is some weird platform in the future (perhaps one that we support only Pulley on) that has restrictive alignment or padding requirements, or if we change the fields of the two structs below such that they get the same alignment, or whatever, or if <code>dangling</code> no longer returns the <em>first</em> valid pointer (such that it will be unaligned for the higher alignment), this is no longer true.</p>
<p>In particular, I see the docs for <code>NonNull::dangling</code> only specify that it returns a valid, aligned pointer, but we aren't asserting here that that pointer is <em>not</em> aligned for <code>DynError</code>. Concretely, if the alignments are 8 and 16 respectively, nothing in the docs seems to disallow <code>NonNull::&lt;OutOfMemory&gt;::dangling()</code> from returning 0x10 rather than 0x08, I think? Or, randomly, some bits that turn out to be a valid box allocation address for a <code>DynError</code>?</p>
<p>The docs say:</p>
<blockquote>
<p>Note that the address of the returned pointer may potentially be that of a valid pointer, which means this must not be used as a “not yet initialized” sentinel value.</p>
</blockquote>
<p>So: perhaps we could do traditional LSB pointer tagging/masking? Or is that not viable for other reasons?</p>
</blockquote>



<a name="563991415"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563991415" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563991415">(Dec 16 2025 at 08:59)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3582024485">PR review</a>.</p>



<a name="563991418"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/563991418" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#563991418">(Dec 16 2025 at 08:59)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2622389245">PR review comment</a>:</p>
<blockquote>
<p>backtrace-rs allocates memory.</p>
</blockquote>



<a name="564110413"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564110413" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564110413">(Dec 16 2025 at 18:41)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624338345">PR review comment</a>:</p>
<blockquote>
<p>Ah, I see this doc-comment now -- I think I had asked for an explanation of the need for a raw vtable to be added elsewhere as a comment (in review part 1) so a reference to this would be sufficient. (Thanks for the writeup!)</p>
</blockquote>



<a name="564110414"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564110414" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564110414">(Dec 16 2025 at 18:41)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3584470204">PR review</a>:</p>
<blockquote>
<p>And here's a review on the rest of the diff. Thanks for building all of this -- in general it looks quite good! My only real concern is the dangling-pointer issue in prior review. With that addressed (or adequately documented if I'm wrong about the bad case?) I'm happy to r+.</p>
<p>I'll note as well that my review is at the level of "plausible and looks correct"; Alex may still have opinions about what is <em>best</em> but I suspect that can be left to followup as well.</p>
</blockquote>



<a name="564110415"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564110415" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564110415">(Dec 16 2025 at 18:41)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624333503">PR review comment</a>:</p>
<blockquote>
<p>Would it make sense to implement <code>Drop</code> on this struct with a panic, to ensure that we always deconstruct it via <code>into_*</code> instead?</p>
</blockquote>



<a name="564110630"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564110630" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564110630">(Dec 16 2025 at 18:43)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3584497892">PR review</a>.</p>



<a name="564110631"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564110631" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564110631">(Dec 16 2025 at 18:43)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624358781">PR review comment</a>:</p>
<blockquote>
<p>Yep, so "can we leave a comment here describing why?"</p>
</blockquote>



<a name="564128006"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564128006" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564128006">(Dec 16 2025 at 20:32)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3584837017">PR review</a>.</p>



<a name="564128008"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564128008" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564128008">(Dec 16 2025 at 20:32)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624648955">PR review comment</a>:</p>
<blockquote>
<p>Yes, I have follow up work to publicly re-export <code>wasmtime_error</code> as <code>wasmtime::error</code> (and also continue to have <code>wasmtime::Error</code> and <code>wasmtime::Result</code> at the top level for convenience).</p>
<p>But also, the fuzzing crate is internal and will never be published, so it doesn't really matter how it names the types, directly or via re-export. It already, for example, pulls in <code>wasmtime-environ</code> and uses that directly in a few places, rather than constraining itself to only using the canonical public <code>wasmtime</code> API.</p>
<p>I can just fix it right now in my current WIP branch to actually get <code>wasmtime</code> using this crate instead of <code>anyhow</code>, rather than add a comment that I immediately remove, if that is okay with you.</p>
</blockquote>



<a name="564128795"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564128795" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564128795">(Dec 16 2025 at 20:38)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3584852614">PR review</a>.</p>



<a name="564128796"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564128796" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564128796">(Dec 16 2025 at 20:38)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624662641">PR review comment</a>:</p>
<blockquote>
<p>Ah, yes, that would be fine too -- not a big deal either way, just wanted to ensure we don't keep an intermediate state of affairs around forever.</p>
</blockquote>



<a name="564129431"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564129431" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564129431">(Dec 16 2025 at 20:43)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3584866232">PR review</a>.</p>



<a name="564129433"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564129433" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564129433">(Dec 16 2025 at 20:43)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624674682">PR review comment</a>:</p>
<blockquote>
<p>There is a regular <code>#[test]</code> for this at the bottom of this file. It used to be a static assert, but I changed it because it was easier to debug as a regular <code>#[test]</code>, since static asserts can't contain any custom formatting in the diagnostic messages. But the assertions do indeed exist.</p>
</blockquote>



<a name="564130719"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564130719" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564130719">(Dec 16 2025 at 20:52)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3584894311">PR review</a>.</p>



<a name="564130720"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564130720" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564130720">(Dec 16 2025 at 20:52)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624698774">PR review comment</a>:</p>
<blockquote>
<p>Ah, neat, I missed that then -- sorry and all good!</p>
</blockquote>



<a name="564131366"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564131366" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564131366">(Dec 16 2025 at 20:57)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3584913625">PR review</a>.</p>



<a name="564131368"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564131368" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564131368">(Dec 16 2025 at 20:57)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624718269">PR review comment</a>:</p>
<blockquote>
<p>Well the conversion does happen without anyone seeming to have done anything :-p</p>
</blockquote>



<a name="564131581"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564131581" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564131581">(Dec 16 2025 at 20:58)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3584919496">PR review</a>.</p>



<a name="564131582"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564131582" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564131582">(Dec 16 2025 at 20:58)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624722613">PR review comment</a>:</p>
<blockquote>
<p>No reason besides making it clear what the encapsulation is, but I can change it.</p>
</blockquote>



<a name="564134728"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564134728" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564134728">(Dec 16 2025 at 21:21)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="564135279"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564135279" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564135279">(Dec 16 2025 at 21:25)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3584999138">PR review</a>.</p>



<a name="564135281"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564135281" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564135281">(Dec 16 2025 at 21:25)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624790052">PR review comment</a>:</p>
<blockquote>
<p>This gets a little funky in various places, for example in <code>BoxedDynError</code>, where we are in a <code>Drop</code> implementation and so we only have <code>&amp;mut self</code> and are forced to make a raw copy of an <code>OwnedPtr</code> in order to turn it into a <code>Box</code> and run the inner <code>Drop</code> and deallocate it, but then there is still an <code>OwnedPointer</code> on the <code>&amp;mut self</code>. So we would need to essentially turn that into an <code>Option&lt;OwnedPointer&gt;</code>, effectively acting as a drop flag and adding a dynamic check to all uses, which is unnecessary overhead. So I'd prefer not to.</p>
</blockquote>



<a name="564135625"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564135625" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564135625">(Dec 16 2025 at 21:27)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3585006646">PR review</a>.</p>



<a name="564135626"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564135626" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564135626">(Dec 16 2025 at 21:27)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624795592">PR review comment</a>:</p>
<blockquote>
<p>Addressed in <a href="https://github.com/bytecodealliance/wasmtime/pull/12163/changes/20b06e36d3fcb7f1930afc53e3b9c5dad9492fc4">https://github.com/bytecodealliance/wasmtime/pull/12163/changes/20b06e36d3fcb7f1930afc53e3b9c5dad9492fc4</a></p>
</blockquote>



<a name="564135723"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564135723" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564135723">(Dec 16 2025 at 21:27)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3585008636">PR review</a>.</p>



<a name="564135725"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564135725" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564135725">(Dec 16 2025 at 21:27)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624797169">PR review comment</a>:</p>
<blockquote>
<p>Addressed in <a href="https://github.com/bytecodealliance/wasmtime/pull/12163/changes/6a9cfa6378be8ccf291a1e61a83848eb4cb6f719">https://github.com/bytecodealliance/wasmtime/pull/12163/changes/6a9cfa6378be8ccf291a1e61a83848eb4cb6f719</a> and <a href="https://github.com/bytecodealliance/wasmtime/pull/12163/changes/2f327112f853cf108c1b9f5dc4cc77a15ed8c055">https://github.com/bytecodealliance/wasmtime/pull/12163/changes/2f327112f853cf108c1b9f5dc4cc77a15ed8c055</a></p>
</blockquote>



<a name="564135924"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564135924" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564135924">(Dec 16 2025 at 21:29)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3585013781">PR review</a>.</p>



<a name="564135927"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564135927" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564135927">(Dec 16 2025 at 21:29)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624801077">PR review comment</a>:</p>
<blockquote>
<p>Addressed in <a href="https://github.com/bytecodealliance/wasmtime/pull/12163/changes/2f327112f853cf108c1b9f5dc4cc77a15ed8c055">https://github.com/bytecodealliance/wasmtime/pull/12163/changes/2f327112f853cf108c1b9f5dc4cc77a15ed8c055</a></p>
</blockquote>



<a name="564135968"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564135968" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564135968">(Dec 16 2025 at 21:29)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3585014511">PR review</a>.</p>



<a name="564135969"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564135969" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564135969">(Dec 16 2025 at 21:29)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624801755">PR review comment</a>:</p>
<blockquote>
<p>Addressed in <a href="https://github.com/bytecodealliance/wasmtime/pull/12163/changes/2f327112f853cf108c1b9f5dc4cc77a15ed8c055">https://github.com/bytecodealliance/wasmtime/pull/12163/changes/2f327112f853cf108c1b9f5dc4cc77a15ed8c055</a></p>
</blockquote>



<a name="564136072"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564136072" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564136072">(Dec 16 2025 at 21:29)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3585016367">PR review</a>.</p>



<a name="564136073"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564136073" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564136073">(Dec 16 2025 at 21:29)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624803140">PR review comment</a>:</p>
<blockquote>
<p>Addressed in <a href="https://github.com/bytecodealliance/wasmtime/pull/12163/changes/0add4dc3e7248bed97059552496d0269f88faa31">https://github.com/bytecodealliance/wasmtime/pull/12163/changes/0add4dc3e7248bed97059552496d0269f88faa31</a></p>
</blockquote>



<a name="564136265"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564136265" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564136265">(Dec 16 2025 at 21:31)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3662464295">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<p>@cfallin I believe I've addressed all of your feedback, and this should be ready for another look.</p>
</blockquote>



<a name="564136288"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564136288" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564136288">(Dec 16 2025 at 21:31)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="564138582"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564138582" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564138582">(Dec 16 2025 at 21:47)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3585086635">PR review</a>.</p>



<a name="564138583"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564138583" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564138583">(Dec 16 2025 at 21:47)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2624855500">PR review comment</a>:</p>
<blockquote>
<p>OK, yeah, no need to do that. Was mostly wondering if there was a reasonable path to add a little more dynamically-asserted safety here but it's not critical and this is all encapsulated locally anyway.</p>
</blockquote>



<a name="564138947"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564138947" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564138947">(Dec 16 2025 at 21:50)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3585098878">PR review</a>:</p>
<blockquote>
<p>OK, this looks correct to me and seems reasonable as far as my opinions of error interfaces go!</p>
</blockquote>



<a name="564144194"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564144194" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564144194">(Dec 16 2025 at 22:32)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3662710174">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<p>Regarding this CI failure: <a href="https://github.com/bytecodealliance/wasmtime/actions/runs/20283910974/job/58252868624">https://github.com/bytecodealliance/wasmtime/actions/runs/20283910974/job/58252868624</a></p>
<p>I don't think this PR can pass that CI step and merge until @wasmtime-publish is an owner of the <code>wasmtime-internal-error</code> crate. I created an empty crate and published it to <a href="http://crates.io">crates.io</a> at v0.0.0 as <code>wasmtime-internal-error</code>, and I tried to add <code>wasmtime-publish</code> to it, but I don't have that account's credentials so I can't accept the ownership invite on its behalf.</p>
</blockquote>



<a name="564144249"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564144249" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564144249">(Dec 16 2025 at 22:33)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3662712654">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<p>Will try again, just in case that CI step will somehow accept the invite.</p>
</blockquote>



<a name="564145081"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564145081" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564145081">(Dec 16 2025 at 22:40)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3662737163">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<blockquote>
<p>I don't think this PR can pass that CI step and merge until @wasmtime-publish is an owner of the wasmtime-internal-error crate. I created an empty crate and published it to <a href="http://crates.io">crates.io</a> at v0.0.0 as wasmtime-internal-error, and I tried to add wasmtime-publish to it, but I don't have that account's credentials so I can't accept the ownership invite on its behalf.</p>
</blockquote>
<p>Seems like an oversight in our procedures -- @alexcrichton when you're back, would you be willing to write up a runbook entry for "I added a new crate to Wasmtime" with the way to make the current publish flow happy? (It seems I've gotten caught in similar issues a few times too, whether it be the "published crates" list or deferred problems on next release or ...)</p>
</blockquote>



<a name="564146420"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564146420" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564146420">(Dec 16 2025 at 22:54)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#issuecomment-3662776062">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>:</p>
<blockquote>
<blockquote>
<p>I don't think this PR can pass that CI step and merge until @wasmtime-publish is an owner of the <code>wasmtime-internal-error</code> crate. I created an empty crate and published it to <a href="http://crates.io">crates.io</a> at v0.0.0 as <code>wasmtime-internal-error</code>, and I tried to add <code>wasmtime-publish</code> to it, but I don't have that account's credentials so I can't accept the ownership invite on its behalf.</p>
</blockquote>
<p>This seems to have made the <code>cargo vet</code> CI job start failing again <span aria-label="weary" class="emoji emoji-1f629" role="img" title="weary">:weary:</span> </p>
</blockquote>



<a name="564291142"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564291142" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564291142">(Dec 17 2025 at 16:18)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="564291168"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564291168" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564291168">(Dec 17 2025 at 16:18)</a>:</h4>
<p>fitzgen has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="564325995"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564325995" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564325995">(Dec 17 2025 at 19:16)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/12163">PR #12163</a>.</p>



<a name="564778573"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564778573" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564778573">(Dec 19 2025 at 21:35)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3599677121">PR review</a>:</p>
<blockquote>
<p>I mentioned this in a Zulip DM as well, but personally I think this crate should be folded into <code>wasmtime-environ</code>. That's going to be what everything else depends on to use this error (I think, right?) so I'm not sure it needs to be split out like this. New crates involves vets, publishing, checks in CI, documentation, messaging, conventions, etc, etc. I've no doubt it was easier to develop initially as a separate crate but personally I think the balance after it's "done" is the other direction of being in the preexisting crates</p>
</blockquote>



<a name="564778575"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564778575" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564778575">(Dec 19 2025 at 21:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2636068358">PR review comment</a>:</p>
<blockquote>
<p>My impression is that most of the code in this crate is copied from <code>anyhow</code>, and if so the upstream licensing of MIT/Apache-2.0 I believe means we can't "just" relicense this here.</p>
</blockquote>



<a name="564778576"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564778576" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564778576">(Dec 19 2025 at 21:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2636011902">PR review comment</a>:</p>
<blockquote>
<p>Could we actually delete this macro and use <code>format_err</code> instead? I'm otherwise a bit worried about copying <code>anyhow</code> too too closely here and causing confusion. Basically the name <code>anyhow</code> feels like it should be reserved for <code>anyhow</code>-the-crate, while the other macros here are all generic enough it seems fine to use them</p>
</blockquote>



<a name="564778577"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564778577" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564778577">(Dec 19 2025 at 21:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2636004487">PR review comment</a>:</p>
<blockquote>
<p>I would naively expect that forcing everything, through <code>inline(never)</code>, to go through a closure probably on the stack would pessimize the caller quite a bit even in the fast path (e.g. bigger stack frames, more spills, etc). Did you find this to help internally during development though?</p>
</blockquote>



<a name="564778578"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564778578" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564778578">(Dec 19 2025 at 21:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2636111926">PR review comment</a>:</p>
<blockquote>
<p>This should be <code>unsafe</code> I think since it's safe to copy around <code>inner</code> and <code>OwnedPtr</code> can be constructed from any <code>NonNull</code></p>
</blockquote>



<a name="564778579"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564778579" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564778579">(Dec 19 2025 at 21:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2635991986">PR review comment</a>:</p>
<blockquote>
<p>Could this use <code>Relaxed</code> here instead since there explicitly aren't any orderings with these operations with respect to anything else other than the bool itself?</p>
</blockquote>



<a name="564778580"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564778580" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564778580">(Dec 19 2025 at 21:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2636114714">PR review comment</a>:</p>
<blockquote>
<p>This might also benefit from <code>#[repr(transparent)]</code> to ensure that ABI considerations don't think that this is a struct</p>
</blockquote>



<a name="564778581"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564778581" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564778581">(Dec 19 2025 at 21:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2636108251">PR review comment</a>:</p>
<blockquote>
<p>Or, actually, I'd alternatively bikeshed that the signature of this method should be:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">pub</span><span class="p">(</span><span class="k">crate</span><span class="p">)</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">bikeshed_me</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nb">Result</span><span class="o">&lt;</span><span class="nb">Box</span><span class="o">&lt;</span><span class="n">MaybeUninit</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">OutOfMemory</span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div>
<p>and let callers handle initialization</p>
</blockquote>



<a name="564778582"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564778582" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564778582">(Dec 19 2025 at 21:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2636046310">PR review comment</a>:</p>
<blockquote>
<p>One thing I might recommend here is that once <code>ptr</code> exists to convert it to <code>Box&lt;MabyeUninit&lt;T&gt;&gt;</code> which enables <code>Box::write</code> to safely convert that to <code>Box&lt;T&gt;</code> which can help reduce the <code>unsafe</code> here</p>
</blockquote>



<a name="564778583"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564778583" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564778583">(Dec 19 2025 at 21:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2636056089">PR review comment</a>:</p>
<blockquote>
<p>How come this trait has an <code>E</code> type parameter which forces <code>core::convert::Infallible</code> here?</p>
</blockquote>



<a name="564778584"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564778584" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564778584">(Dec 19 2025 at 21:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2636094902">PR review comment</a>:</p>
<blockquote>
<p>This documentation, and much below, talsk about a <code>T</code> but there's no <code>T</code> in this trait definition. Is that referring to <code>Self</code>?</p>
</blockquote>



<a name="564778585"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564778585" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564778585">(Dec 19 2025 at 21:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2636333997">PR review comment</a>:</p>
<blockquote>
<p>Instead of using <code>unsafe</code> could this do <code>Box::new(OutOfMemory::new())</code>? That won't actually allocate anything for zero-sized-types</p>
</blockquote>



<a name="564778586"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564778586" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564778586">(Dec 19 2025 at 21:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2636330487">PR review comment</a>:</p>
<blockquote>
<p>Perhaps <code>NonNull::dangling()</code> here?</p>
</blockquote>



<a name="564778587"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564778587" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564778587">(Dec 19 2025 at 21:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2636121426">PR review comment</a>:</p>
<blockquote>
<p>One downside of this is that it's not possible to have a payload in <code>OutOfMemory</code>, such as how many bytes were allocated. Is that something we might want in the future?</p>
</blockquote>



<a name="564780028"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564780028" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564780028">(Dec 19 2025 at 21:50)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3600246202">PR review</a>.</p>



<a name="564780030"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/564780030" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#564780030">(Dec 19 2025 at 21:50)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2636399483">PR review comment</a>:</p>
<blockquote>
<p>Ended up resolving this as "no, this is not a copy, but is inspired by"</p>
</blockquote>



<a name="565043840"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565043840" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565043840">(Dec 22 2025 at 17:21)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3604953988">PR review</a>.</p>



<a name="565043841"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565043841" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565043841">(Dec 22 2025 at 17:21)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640608197">PR review comment</a>:</p>
<blockquote>
<p>I guess? I'm always hesitant to use weaker orderings just out of an abundance of caution.</p>
</blockquote>



<a name="565044462"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565044462" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565044462">(Dec 22 2025 at 17:25)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3604976967">PR review</a>.</p>



<a name="565044463"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565044463" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565044463">(Dec 22 2025 at 17:25)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640630215">PR review comment</a>:</p>
<blockquote>
<p>I didn't, I just wanted to make sure that we weren't inserting things like OOM-handling code on every <code>?</code> in the code base. I'd hoped that LLVM would recognize that this is marked cold and not eagerly expand the stack frame for the whole caller function, just on the slow path, but I haven't measured anything yet.</p>
</blockquote>



<a name="565044819"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565044819" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565044819">(Dec 22 2025 at 17:28)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3604990155">PR review</a>.</p>



<a name="565044820"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565044820" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565044820">(Dec 22 2025 at 17:28)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640643662">PR review comment</a>:</p>
<blockquote>
<p>This would increase the size of the diff (and associated amount of porting work) a <em>huge</em> amount for the next PR that migrates Wasmtime to using this error type. And this will be useful to embedders migrating e.g. host functions over to use <code>wasmtime::Error</code> for the same reason.</p>
<p>I don't think it is out of place since we are explicitly advertising API compatibility with <code>anyhow</code>.</p>
</blockquote>



<a name="565045134"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565045134" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565045134">(Dec 22 2025 at 17:31)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605000672">PR review</a>.</p>



<a name="565045135"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565045135" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565045135">(Dec 22 2025 at 17:31)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640654007">PR review comment</a>:</p>
<blockquote>
<p>I was matching <code>Box::new</code>'s API/signature. Doing the uninit version could be fine, but I'm not really too worried about it, seems pretty minor.</p>
</blockquote>



<a name="565045385"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565045385" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565045385">(Dec 22 2025 at 17:32)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605009501">PR review</a>.</p>



<a name="565045386"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565045386" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565045386">(Dec 22 2025 at 17:32)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640661491">PR review comment</a>:</p>
<blockquote>
<p>Here I was matching <code>anyhow</code>'s API, since this trait is public. I don't know why they made that decision. I guess to allow implementing it for results with foreign errors, but ensuring that the error has the bounds necessary to be convertible into an <code>anyhow::Error</code>. And it just happens that it isn't necessary for <code>Option&lt;T&gt;</code>.</p>
</blockquote>



<a name="565045467"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565045467" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565045467">(Dec 22 2025 at 17:33)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605012518">PR review</a>.</p>



<a name="565045468"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565045468" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565045468">(Dec 22 2025 at 17:33)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640664137">PR review comment</a>:</p>
<blockquote>
<p>Correct, I matched <code>anyhow</code>'s API, but this is an original implementation.</p>
</blockquote>



<a name="565045646"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565045646" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565045646">(Dec 22 2025 at 17:34)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605018036">PR review</a>.</p>



<a name="565045647"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565045647" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565045647">(Dec 22 2025 at 17:34)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640668347">PR review comment</a>:</p>
<blockquote>
<p>Sort of, it is the actual underlying error type that is either <code>Self</code> or for which <code>Self</code> is a newtype wrapper around. I can clarify.</p>
</blockquote>



<a name="565045673"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565045673" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565045673">(Dec 22 2025 at 17:34)</a>:</h4>
<p>fitzgen edited <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640668347">PR review comment</a>.</p>



<a name="565047465"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565047465" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565047465">(Dec 22 2025 at 17:49)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640718131">PR review comment</a>:</p>
<blockquote>
<p>My thinking is that keeping <code>Result&lt;(), wasmtime::Error&gt;</code> in a single pointer is more important.</p>
<p>But what we can do to claw some context back is to do something like add space on the store or a global or something to hold that information, and have our fallible collections code write that context. Or we can simply log messages or something.</p>
</blockquote>



<a name="565047466"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565047466" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565047466">(Dec 22 2025 at 17:49)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605083447">PR review</a>.</p>



<a name="565047762"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565047762" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565047762">(Dec 22 2025 at 17:52)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605094561">PR review</a>.</p>



<a name="565047764"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565047764" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565047764">(Dec 22 2025 at 17:52)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640725307">PR review comment</a>:</p>
<blockquote>
<p>It originally was that, but <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2621329934">Chris pushed back</a> saying that we have no guarantee that the dangling pointer will always be the smallest pointer that is aligned for the type, and so it is possible that the dangling pointer could "accidentally" be aligned for <code>*mut DynError</code> which could make discriminating between our variants ambiguous. So I switched it from the dangling pointer to an explicit <code>0x1</code>.</p>
</blockquote>



<a name="565047798"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565047798" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565047798">(Dec 22 2025 at 17:52)</a>:</h4>
<p>fitzgen edited <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640718131">PR review comment</a>.</p>



<a name="565047989"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565047989" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565047989">(Dec 22 2025 at 17:54)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605104526">PR review</a>.</p>



<a name="565047990"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565047990" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565047990">(Dec 22 2025 at 17:54)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640730830">PR review comment</a>:</p>
<blockquote>
<p>What I'm worried about is that if <code>f</code> is a non-zero-size-type it forces all captured variables to go onto the stack, meaning that even in the fast path the caller function here has a larger stack frame because it might dynamically take the path to store all the captures of <code>f</code> onto the stack, even if it never actually executes that at runtime.</p>
<p>In my experience the <code>#[cold]</code> bit tends to go well on some error constructors or specific paths, but I don't think we need to worry about it everywhere within the error type implementation here. Once you're on the error path that's already in the slow path for most cases so making the slow path that much more faster I would expect to be in a bit of a diminishing returns situation.</p>
<p>Personally I'd say that we shouldn't try out things like this until it's found to be necessary as otherwise it seems like this could accidentally and unnecessarily bloat binaries and/or cause unexpected slowdowns.</p>
</blockquote>



<a name="565048242"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565048242" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565048242">(Dec 22 2025 at 17:55)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605113621">PR review</a>.</p>



<a name="565048243"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565048243" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565048243">(Dec 22 2025 at 17:55)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640736384">PR review comment</a>:</p>
<blockquote>
<p>While I don't doubt it's a lot of work, does this really move the needle that much? This'd be an extra <code>s/anyhow/format_err/</code> at the end basically is what I'd expect. For embedders we could leave this but mark it <code>#[deprecated]</code> for example.</p>
<p>Otherwise though this feels a bit too close to <code>anyhow</code> itself as while this is mostly API compatible with <code>anyhow</code> there's no guarantee that we'll track <code>anyhow</code> over time. If <code>anyhow</code> adds features it could make it much more confusing to callers when our version doesn't have them. </p>
</blockquote>



<a name="565048364"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565048364" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565048364">(Dec 22 2025 at 17:56)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605118083">PR review</a>.</p>



<a name="565048366"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565048366" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565048366">(Dec 22 2025 at 17:56)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640739101">PR review comment</a>:</p>
<blockquote>
<p>My goal is to reduce the amount of <code>unsafe</code> here. There are two <code>unsafe</code> blocks in this function that aren't necessary with <code>Box&lt;MaybeUninit&lt;T&gt;&gt;</code> due to <a href="https://doc.rust-lang.org/stable/std/boxed/struct.Box.html#method.write"><code>Box::write</code></a></p>
</blockquote>



<a name="565048500"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565048500" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565048500">(Dec 22 2025 at 17:57)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605122537">PR review</a>.</p>



<a name="565048501"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565048501" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565048501">(Dec 22 2025 at 17:57)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640742058">PR review comment</a>:</p>
<blockquote>
<p>Personally I'd say we should trim things down for our own needs given that we're not making a super-general-purpose error-handling library, but rather just a library for our own needs.</p>
</blockquote>



<a name="565048988"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565048988" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565048988">(Dec 22 2025 at 18:01)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605136956">PR review</a>.</p>



<a name="565048990"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565048990" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565048990">(Dec 22 2025 at 18:01)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640751580">PR review comment</a>:</p>
<blockquote>
<p>Well keeping a single-pointer-repr technically doesn't clash with containing more info here. For example a tagged-pointer representation could be used to carry payload bits for the OOM representation (e.g. <code>1 | (size &lt;&lt; 1)</code> == oom, and bit 0 == 0 means an allocated error).</p>
<p>I noticed there were quite a few places that relied on <code>OutOfMemory</code> being a zero-sized-type so I realize that this is not a small ask, but carrying the payload of how many bytes requested can be kind of a big deal. Seeing "out of memory" can mean something radically different if it's allocating 2M bytes vs 200 bytes. I'd like to ideally move in the direction of carrying the payload information for that extra debugging context, even if it's not immediately possible just yet<br>
</p>
</blockquote>



<a name="565049481"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565049481" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565049481">(Dec 22 2025 at 18:04)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605150763">PR review</a>.</p>



<a name="565049482"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565049482" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565049482">(Dec 22 2025 at 18:04)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640760680">PR review comment</a>:</p>
<blockquote>
<p>I'm not sure I understand that pushback, if this is <code>::dangling()</code> how is the alignment of the other error related? In both cases <code>is_oom</code> still tests against <code>OOM_REPR</code> which means the return value of <code>::dangling()</code> doesn't really matter is what I'd expect</p>
</blockquote>



<a name="565050447"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565050447" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565050447">(Dec 22 2025 at 18:11)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605180593">PR review</a>.</p>



<a name="565050448"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565050448" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565050448">(Dec 22 2025 at 18:11)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640782560">PR review comment</a>:</p>
<blockquote>
<p>You're right that alignment doesn't matter but the actual value does. As quoted</p>
<blockquote>
<p>Note that the address of the returned pointer may potentially be that of a valid pointer, which means this must not be used as a “not yet initialized” sentinel value.</p>
</blockquote>
<p>the docs for <code>NonNull::dangling</code> basically are saying that the value could be anything. That means that nothing guarantees that <code>OOM_REPR</code> is also some other value, like an allocated boxed error value.</p>
<p>In constraint form, if we take the dangling-ptr approach again, and if we have a boxed-error pointer: we are given that <code>dangling == OOM_REPR</code>, and we are given that <code>p == &lt;some box address&gt;</code>, and we know that <code>OOM_REPR</code> is a valid aligned pointer value, and nothing else. From those facts, we cannot prove that <code>p != OOM_REPR</code>, even though <code>p</code> is not supposed to be an OOM.</p>
</blockquote>



<a name="565050505"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565050505" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565050505">(Dec 22 2025 at 18:11)</a>:</h4>
<p>cfallin edited <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640782560">PR review comment</a>.</p>



<a name="565052979"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565052979" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565052979">(Dec 22 2025 at 18:32)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605256573">PR review</a>.</p>



<a name="565052980"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565052980" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565052980">(Dec 22 2025 at 18:32)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640842670">PR review comment</a>:</p>
<blockquote>
<p>FWIW, I just looked at the code for the <code>.context(...)</code> extension method with and without this macro, and the code is much better with.</p>
</blockquote>



<a name="565053584"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565053584" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565053584">(Dec 22 2025 at 18:38)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640855161">PR review comment</a>:</p>
<blockquote>
<p>Ah ok I see what you mean. I did some digging and the clause of the standard library docs comes from <a href="https://github.com/rust-lang/rust/pull/52508">https://github.com/rust-lang/rust/pull/52508</a>. One reason for adding the clause is that the first addresable item in memory is technically a valid address, so equality against the return value of <code>NonNull::dangling()</code> is not suitable for "is this uninitialized". That means that my idea of using <code>NonNull::dangling()</code> is doing exactly what you're not supposed to do, so seems good to not use it.</p>
</blockquote>



<a name="565053585"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565053585" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565053585">(Dec 22 2025 at 18:38)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605270072">PR review</a>.</p>



<a name="565053928"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565053928" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565053928">(Dec 22 2025 at 18:40)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605276916">PR review</a>.</p>



<a name="565053930"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565053930" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565053930">(Dec 22 2025 at 18:40)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640861069">PR review comment</a>:</p>
<blockquote>
<p>Could you share the snippet you were looking at? I'd be curious to poke around it as well</p>
</blockquote>



<a name="565055178"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565055178" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565055178">(Dec 22 2025 at 18:51)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605317797">PR review</a>.</p>



<a name="565055179"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565055179" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565055179">(Dec 22 2025 at 18:51)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640901589">PR review comment</a>:</p>
<blockquote>
<p>For sure, if we can figure out a way to have the context and the single-pointer repr, then I'm all for it.</p>
<p>The potential hiccups I foresee with the approach you describe is that it works when we have an <code>&amp;OutOfMemory</code> (since the context is packed into the pointer bits, but it doesn't work for when we have just an <code>OutOfMemory</code> that isn't behind a reference (because now we have nowhere to pack that context into). This is probably workable, but could make the API funky in various ways.</p>
</blockquote>



<a name="565055345"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565055345" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565055345">(Dec 22 2025 at 18:53)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640909004">PR review comment</a>:</p>
<blockquote>
<p>I think being able to call <code>std::fs::read_to_string(...).context(...)</code> is pretty important for usability and it does require the <code>E</code> type parameter.</p>
<p>I would also push back a little bit on the idea that we aren't making a general purpose error-handling library, because this needs to be usable by anyone writing e.g. Wasmtime host functions which could really be doing just about anything, so it feels pretty general purpose to me.</p>
</blockquote>



<a name="565055348"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565055348" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565055348">(Dec 22 2025 at 18:53)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605325574">PR review</a>.</p>



<a name="565055455"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565055455" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565055455">(Dec 22 2025 at 18:53)</a>:</h4>
<p>fitzgen edited <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640909004">PR review comment</a>.</p>



<a name="565057914"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565057914" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565057914">(Dec 22 2025 at 19:14)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605399259">PR review</a>.</p>



<a name="565057916"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565057916" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565057916">(Dec 22 2025 at 19:14)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640967877">PR review comment</a>:</p>
<blockquote>
<p>Oh if it's required it's fine to have of course, and in that case mind adding documentation to that effect?</p>
<p>And yeah it's true this is general, but my original hunch for the <code>E</code> here is it's some inference-related thing in niche contexts or something like that. If that were the case I don't think we're general enough to, for example, care about Rust 1.50.0 inference behavior on one platform with a specific set of constraitns in play. For <code>anyhow</code>, however, something like that is plausibly in-scope.</p>
<p>If, however, <code>E</code> is just needed for some nontrivial number of usages then that's fine, I'd just prefer to see documentation since naively I don't know why this is here.</p>
</blockquote>



<a name="565058296"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565058296" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565058296">(Dec 22 2025 at 19:17)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#pullrequestreview-3605408455">PR review</a>.</p>



<a name="565058298"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312163%20Introduce%20an%20OOM-handling%20%60Error%60%20ty.../near/565058298" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312163.20Introduce.20an.20OOM-handling.20.60Error.60.20ty.2E.2E.2E.html#565058298">(Dec 22 2025 at 19:17)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12163#discussion_r2640974338">PR review comment</a>:</p>
<blockquote>
<p>Oh I have no doubt it'll be tricky, but personally I think it'd be worth it. I've filed <a href="https://github.com/bytecodealliance/wasmtime/issues/12199">https://github.com/bytecodealliance/wasmtime/issues/12199</a> for this</p>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>