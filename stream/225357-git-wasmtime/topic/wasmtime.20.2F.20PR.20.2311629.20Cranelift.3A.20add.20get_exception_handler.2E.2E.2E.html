<html>
<head><meta charset="utf-8"><title>wasmtime / PR #11629 Cranelift: add get_exception_handler... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html">wasmtime / PR #11629 Cranelift: add get_exception_handler...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="537943714"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537943714" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537943714">(Sep 05 2025 at 20:39)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11629">PR #11629</a>.</p>



<a name="537943715"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537943715" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537943715">(Sep 05 2025 at 20:39)</a>:</h4>
<p>cfallin opened <a href="https://github.com/bytecodealliance/wasmtime/pull/11629">PR #11629</a> from <code>cfallin:oh-exception-handler-what-is-your-address</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This is designed to enable applications such as #11592 that use alternative unwinding mechanisms that may not necessarily want to walk a stack and look up exception tables. The idea is that whenever it would be valid to resume to an exception handler that is active on the stack, we can provide the same PC as a first-class runtime value that would be found in the exception table for the given handler edge. A "custom" resume step can then use this PC as a resume-point as long as it follows the relevant exception ABI (i.e.: restore SP, FP, any other saved registers that the exception ABI specifies, and provide appropriate payload value(s)).</p>
<p>Handlers are associated with edges out of <code>try_call</code>s (or <code>try_call_indirect</code>s); and edges specifically, not blocks, because there could be multiple out-edges to one block. The instruction thus takes the block that contains the try-call and an immediate that indexes its exceptional edges.</p>
<p>This CLIF instruction required a bit of infrastructure to (i) allow naming raw blocks, not just block calls, as instruction arguments, and (ii) allow getting the MachLabel for any other lowered block during lowering. But given that, the lowerings themselves are straightforward uses of MachBuffer labels to fix-up PC-relative address-loading instructions (e.g., <code>LEA</code> or <code>ADR</code> or <code>AUIPC</code>+<code>ADDI</code>).</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="537943716"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537943716" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537943716">(Sep 05 2025 at 20:39)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11629">PR #11629</a>.</p>



<a name="537946512"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537946512" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537946512">(Sep 05 2025 at 20:59)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11629">PR #11629</a>.</p>



<a name="537946631"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537946631" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537946631">(Sep 05 2025 at 21:00)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11629">PR #11629</a>.</p>



<a name="537947919"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537947919" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537947919">(Sep 05 2025 at 21:10)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#pullrequestreview-3190797669">PR review</a>:</p>
<blockquote>
<p>LGTM, thanks for whipping this up!</p>
</blockquote>



<a name="537948056"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537948056" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537948056">(Sep 05 2025 at 21:11)</a>:</h4>
<p>cfallin has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/11629">PR #11629</a>.</p>



<a name="537949816"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537949816" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537949816">(Sep 05 2025 at 21:28)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#pullrequestreview-3190821771">PR review</a>:</p>
<blockquote>
<p>Thanks for this! This'll definitely help cleanup #11592. I think the main thing that I was missing was that the target in question is a <code>MachLabel</code> that the <code>MachBuffer</code> already has on its creation since it reserves for all blocks. That makes total sense in retrospect, but bypasses what I was worried about where new labels might need be created and bound to previously-added addresses.</p>
<p>Otherwise I'm curious below about the lookup of the handler in vcode where it doesn't have an adjust-by-1 I'd otherwise expect. Also I'm curious about how this interacts with tables that have a mixture of blocks/defaults/contexts, specifically contexts, and clarifying that the index effectively skips all context arguments?</p>
</blockquote>



<a name="537949817"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537949817" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537949817">(Sep 05 2025 at 21:28)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#discussion_r2326079125">PR review comment</a>:</p>
<blockquote>
<p>Mind adding a few more tests here?</p>
<ul>
<li>Is it valid to have 0 handlers on a <code>try_call</code>? If so can this test that a 0 index is out-of-bounds?</li>
<li>A valid test that selects a default handler.</li>
<li>A valid test that selects a non-default handler.</li>
<li>A valid test that selects a handler from a non-length-1 list of handlers.</li>
<li>A valid test which selects the Nth handler when there's also context arguments interspersed throughout the list of handlers. (the index is a block index, so not an index in  the exception table data right?)</li>
</ul>
</blockquote>



<a name="537949818"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537949818" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537949818">(Sep 05 2025 at 21:28)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#discussion_r2326071011">PR review comment</a>:</p>
<blockquote>
<p>Is the -1 here to skip the non-exceptional block at the front? If so mind leaving a comment to that effect? (and maybe model this as <code>if etd.all_branches[1..].get(index).is_none()</code>)</p>
</blockquote>



<a name="537949819"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537949819" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537949819">(Sep 05 2025 at 21:28)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#discussion_r2326074787">PR review comment</a>:</p>
<blockquote>
<p>As a mild bikeshed these can probably be named something like "load the label address in this register" since it's not really relate to exceptions. I'm a bit sad a new MInst was needed everywhere but on-the-whole this is a great change!</p>
</blockquote>



<a name="537949821"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537949821" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537949821">(Sep 05 2025 at 21:28)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#discussion_r2326072326">PR review comment</a>:</p>
<blockquote>
<p>In <code>verify_try_call_handler_index</code> below there's an offset-by-1 to skip what I presume is the default normal-return path, but this doesn't seem to also have a -1 or adjust-by-1 anywhere. Is that intentional?</p>
</blockquote>



<a name="537953885"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537953885" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537953885">(Sep 05 2025 at 22:11)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#pullrequestreview-3190923456">PR review</a>.</p>



<a name="537953887"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537953887" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537953887">(Sep 05 2025 at 22:11)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#discussion_r2326140386">PR review comment</a>:</p>
<blockquote>
<p>Done!</p>
</blockquote>



<a name="537953888"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537953888" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537953888">(Sep 05 2025 at 22:11)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11629">PR #11629</a>.</p>



<a name="537953894"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537953894" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537953894">(Sep 05 2025 at 22:11)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#pullrequestreview-3190923624">PR review</a>.</p>



<a name="537953896"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537953896" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537953896">(Sep 05 2025 at 22:11)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#discussion_r2326140513">PR review comment</a>:</p>
<blockquote>
<p>Yes, this helper returns any successor, not limited to exceptional edges. Separately there is the invariant that exceptional edges come first out of a <code>try_call</code> block, so we can use the exceptional-edge index as the block successor index where we invoke this. (There's a comment in <code>block_exn_successor_label</code> in <code>machinst/isle.rs</code> where this helper is called noting this.)</p>
</blockquote>



<a name="537953903"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537953903" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537953903">(Sep 05 2025 at 22:11)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#pullrequestreview-3190923791">PR review</a>.</p>



<a name="537953904"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537953904" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537953904">(Sep 05 2025 at 22:11)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#discussion_r2326140639">PR review comment</a>:</p>
<blockquote>
<p>The non-exceptional block is actually stored last (I originally had it the other way but that came out of code-review discussion IIRC); but the <code>- 1</code> is just because for N out-edges there are N-1 handlers we can select. Will add a comment.</p>
</blockquote>



<a name="537954478"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537954478" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537954478">(Sep 05 2025 at 22:20)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11629">PR #11629</a>.</p>



<a name="537954567"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537954567" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537954567">(Sep 05 2025 at 22:21)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#pullrequestreview-3190952743">PR review</a>.</p>



<a name="537954568"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537954568" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537954568">(Sep 05 2025 at 22:21)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#discussion_r2326156633">PR review comment</a>:</p>
<blockquote>
<p>Sure, added in 9db98f47b8622f35f73efc09c4d799094560119a (three tests to cover all those cases).</p>
<p>To confirm: zero handlers is valid (first test); tagged and default can be selected (second and third tests); the index is among handlers, in the order they appear, skipping dynamic context table items.</p>
</blockquote>



<a name="537954611"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537954611" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537954611">(Sep 05 2025 at 22:22)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#issuecomment-3259917744">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11629">PR #11629</a>:</p>
<blockquote>
<p>Updated, thanks @alexcrichton ! Will wait for your r+ as well before merging.</p>
</blockquote>



<a name="537955065"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537955065" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537955065">(Sep 05 2025 at 22:26)</a>:</h4>
<p>alexcrichton has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/11629">PR #11629</a>.</p>



<a name="537955169"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537955169" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537955169">(Sep 05 2025 at 22:27)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/11629#issuecomment-3259927833">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11629">PR #11629</a>:</p>
<blockquote>
<p>Oh protocol-wise I'm fine having feedback handled in a follow-up PR myself, but thanks though! I'm kind of tired so I'm going to call it for today, but I'll once-over on Monday (I suspect everything is fine though)</p>
</blockquote>



<a name="537960321"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311629%20Cranelift%3A%20add%20get_exception_handler.../near/537960321" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311629.20Cranelift.3A.20add.20get_exception_handler.2E.2E.2E.html#537960321">(Sep 05 2025 at 23:44)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/11629">PR #11629</a>.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>