<html>
<head><meta charset="utf-8"><title>wasmtime / issue #12242 Analyze component instantiation t... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312242.20Analyze.20component.20instantiation.20t.2E.2E.2E.html">wasmtime / issue #12242 Analyze component instantiation t...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="566422047"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312242%20Analyze%20component%20instantiation%20t.../near/566422047" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312242.20Analyze.20component.20instantiation.20t.2E.2E.2E.html#566422047">(Jan 05 2026 at 19:11)</a>:</h4>
<p>fitzgen opened <a href="https://github.com/bytecodealliance/wasmtime/issues/12242">issue #12242</a>:</p>
<blockquote>
<p>After <a href="https://github.com/bytecodealliance/wasmtime/pull/12234">https://github.com/bytecodealliance/wasmtime/pull/12234</a>, we will emit inline constants for immutable+defined globals, but we cannot do the same for immutable+imported without</p>
<ol>
<li>an analysis (similar to our <a href="https://github.com/bytecodealliance/wasmtime/blob/c1186f2db6908c534ad3922d876465df49d181cc/crates/environ/src/component/translate.rs#L550-L670">known imported function analysis</a>) to find the globals that the satisfy that import</li>
<li>checking that the import is <em>always</em> satisfied with a global of the same value</li>
<li>checking that the module is not exported (which would allow instantiating it in host code with a global of a different value)</li>
</ol>
<hr>
<blockquote>
<p>One possible future extension (not for this PR of course) would be to do something similar to the inliner to record that, even for imported globals, if the definition is in-wasm itself then we can also use the constant value. (e.g. dynamic-linking-using modules in components have this use case a lot)</p>
</blockquote>
<p>_Originally posted by @alexcrichton in <a href="https://github.com/bytecodealliance/wasmtime/pull/12234#discussion_r2662297240_">https://github.com/bytecodealliance/wasmtime/pull/12234#discussion_r2662297240_</a></p>
</blockquote>



<a name="568278436"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312242%20Analyze%20component%20instantiation%20t.../near/568278436" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312242.20Analyze.20component.20instantiation.20t.2E.2E.2E.html#568278436">(Jan 15 2026 at 17:51)</a>:</h4>
<p><a href="https://github.com/fitzgen">fitzgen</a> added the wasmtime label to <a href="https://github.com/bytecodealliance/wasmtime/issues/12242">Issue #12242</a>.</p>



<a name="568278437"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312242%20Analyze%20component%20instantiation%20t.../near/568278437" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312242.20Analyze.20component.20instantiation.20t.2E.2E.2E.html#568278437">(Jan 15 2026 at 17:51)</a>:</h4>
<p><a href="https://github.com/fitzgen">fitzgen</a> added the performance label to <a href="https://github.com/bytecodealliance/wasmtime/issues/12242">Issue #12242</a>.</p>



<a name="568278455"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2312242%20Analyze%20component%20instantiation%20t.../near/568278455" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2312242.20Analyze.20component.20instantiation.20t.2E.2E.2E.html#568278455">(Jan 15 2026 at 17:51)</a>:</h4>
<p><a href="https://github.com/fitzgen">fitzgen</a> added the wasm-proposal:component-model label to <a href="https://github.com/bytecodealliance/wasmtime/issues/12242">Issue #12242</a>.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>