<html>
<head><meta charset="utf-8"><title>wasmtime / PR #10061 feat(wasi): add support for `wasi:ra... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html">wasmtime / PR #10061 feat(wasi): add support for `wasi:ra...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="495066788"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495066788" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495066788">(Jan 21 2025 at 14:35)</a>:</h4>
<p>rvolosatovs opened <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a> from <code>rvolosatovs:feat/random-0-3-0</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This adds support for <code>wasi:random@0.3.0</code> from <a href="https://github.com/WebAssembly/wasi-random/tree/3e99124e81d0f80872b826d161bef077ee37d241/wit-0.3.0-draft">https://github.com/WebAssembly/wasi-random/tree/3e99124e81d0f80872b826d161bef077ee37d241/wit-0.3.0-draft</a></p>
<p>The change is fully backwards-compatible from the guest's perspective.</p>
<p>The only breaking change is the <code>wasmtime_wasi::bindings</code> structure, where <code>wasmtime_wasi::bindings::random</code> is now located at <code>wasmtime_wasi::bindings::random0_2_3</code>.</p>
<p>The interface versions are almost identical apart from the <code>@since</code> gates.</p>
<p>This PR is intentionally small and well-scoped to enable further (mostly) backwards-compatible development and testing for WASI 0.3</p>
</blockquote>



<a name="495067452"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495067452" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495067452">(Jan 21 2025 at 14:36)</a>:</h4>
<p>rvolosatovs edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>:</p>
<blockquote>
<p>This adds support for <code>wasi:random@0.3.0</code> from <a href="https://github.com/WebAssembly/wasi-random/tree/3e99124e81d0f80872b826d161bef077ee37d241/wit-0.3.0-draft">https://github.com/WebAssembly/wasi-random/tree/3e99124e81d0f80872b826d161bef077ee37d241/wit-0.3.0-draft</a></p>
<p>The change is fully backwards-compatible from the guest's perspective.</p>
<p>The only breaking change is the <code>wasmtime_wasi::bindings</code> structure, where <code>wasmtime_wasi::bindings::random</code> is now located at <code>wasmtime_wasi::bindings::random0_2_3</code>.</p>
<p>The interface versions are almost identical apart from the <code>@since</code> gates.</p>
<p>This PR is intentionally small and well-scoped to establish the approach and enable further (mostly) backwards-compatible development and testing for WASI 0.3</p>
</blockquote>



<a name="495071877"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495071877" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495071877">(Jan 21 2025 at 14:50)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>.</p>



<a name="495072154"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495072154" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495072154">(Jan 21 2025 at 14:50)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>.</p>



<a name="495075923"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495075923" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495075923">(Jan 21 2025 at 15:01)</a>:</h4>
<p>rvolosatovs edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>:</p>
<blockquote>
<p>This adds support for <code>wasi:random@0.3.0</code> from <a href="https://github.com/WebAssembly/wasi-random/tree/3e99124e81d0f80872b826d161bef077ee37d241/wit-0.3.0-draft">https://github.com/WebAssembly/wasi-random/tree/3e99124e81d0f80872b826d161bef077ee37d241/wit-0.3.0-draft</a></p>
<p>The change is fully backwards-compatible from the guest's perspective.</p>
<p>The only breaking change is the <code>wasmtime_wasi::bindings</code> structure, where <code>wasmtime_wasi::bindings::random</code> is now located at <code>wasmtime_wasi::bindings::random0_2_3</code>.</p>
<p>The interface versions are almost identical apart from the <code>@since</code> gates.</p>
<p>This PR is intentionally small and well-scoped to establish the approach and enable further (mostly) backwards-compatible development and testing for WASI 0.3</p>
<p>For now, the existing <code>command</code> world is simply extended with <code>wasi:random@0.3.0</code>. In the future we'll probably want to decouple the component export and import binding generation and instead generate:</p>
<ul>
<li>bindings for a world, that includes both <code>wasi:cli/imports@0.2.3</code> and <code>wasi:cli/imports@0.3.0</code>(<a href="https://github.com/WebAssembly/wasi-cli/blob/1311434b3440621a5b5fda55378587d971f0c783/wit-0.3.0-draft/imports.wit">https://github.com/WebAssembly/wasi-cli/blob/1311434b3440621a5b5fda55378587d971f0c783/wit-0.3.0-draft/imports.wit</a>), but does not export anything</li>
<li>bindings for <code>wasi:cli/command@0.2.3</code></li>
<li>bindings for <code>wasi:cli/command@0.3.0</code></li>
</ul>
<p>This way we will be able to accommodate 2 different versions of <code>wasi:cli/command</code> exported by components</p>
</blockquote>



<a name="495076241"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495076241" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495076241">(Jan 21 2025 at 15:02)</a>:</h4>
<p><strong>rvolosatovs</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a> as ready for review.</p>



<a name="495076248"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495076248" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495076248">(Jan 21 2025 at 15:02)</a>:</h4>
<p><strong>rvolosatovs</strong> requested <a href="https://github.com/pchickey">pchickey</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>.</p>



<a name="495076249"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495076249" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495076249">(Jan 21 2025 at 15:02)</a>:</h4>
<p><strong>rvolosatovs</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>.</p>



<a name="495076251"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495076251" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495076251">(Jan 21 2025 at 15:02)</a>:</h4>
<p><strong>rvolosatovs</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>.</p>



<a name="495082001"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495082001" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495082001">(Jan 21 2025 at 15:26)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>.</p>



<a name="495083342"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495083342" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495083342">(Jan 21 2025 at 15:31)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>.</p>



<a name="495084739"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495084739" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495084739">(Jan 21 2025 at 15:37)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>.</p>



<a name="495084787"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495084787" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495084787">(Jan 21 2025 at 15:37)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>.</p>



<a name="495139561"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495139561" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495139561">(Jan 21 2025 at 20:33)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10061#pullrequestreview-2565638530">PR review</a>:</p>
<blockquote>
<p>Thanks for getting this started!</p>
<p>I think that, until 0.3 is released, we should keep the existing bindings to 0.2.x at their current position in the module tree, because they have "real" users whereas 0.3 should not yet. We also don't want to bake the patch version into the module paths of the public API, since it changes regularly and upgrades are supposed to be transparent to users.</p>
<p>I'd support a PR that moves the canonical definition of the 0.2 bindings to <code>bindings::p2</code> with a <code>pub use</code> at their current location that we can eventually (as 0.3 release approaches) mark as deprecated. When introducing new bindings, lets put those at <code>bindings::p3</code> and behind an off-by-default cargo feature <code>p3</code>. The module and cargo feature should have a comment indicating these implementations are unstable and pre-standardization, and that bug/security fixes limited to p3 won't be given patch releases.</p>
</blockquote>



<a name="495256339"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495256339" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495256339">(Jan 22 2025 at 11:11)</a>:</h4>
<p>rvolosatovs <a href="https://github.com/bytecodealliance/wasmtime/pull/10061#issuecomment-2606952501">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>:</p>
<blockquote>
<blockquote>
<p>Thanks for getting this started!</p>
<p>I think that, until 0.3 is released, we should keep the existing bindings to 0.2.x at their current position in the module tree, because they have "real" users whereas 0.3 should not yet. We also don't want to bake the patch version into the module paths of the public API, since it changes regularly and upgrades are supposed to be transparent to users.</p>
<p>I'd support a PR that moves the canonical definition of the 0.2 bindings to <code>bindings::p2</code> with a <code>pub use</code> at their current location that we can eventually (as 0.3 release approaches) mark as deprecated. When introducing new bindings, lets put those at <code>bindings::p3</code> and behind an off-by-default cargo feature <code>p3</code>. The module and cargo feature should have a comment indicating these implementations are unstable and pre-standardization, and that bug/security fixes limited to p3 won't be given patch releases.</p>
</blockquote>
<p>I've moved the existing WASI implementations to <code>p2</code> modules with a <code>pub use::*</code> as suggested in #10073. Let me know what you think!</p>
<p>I'll meanwhile mark this PR as draft and rebase it on top of #10073</p>
</blockquote>



<a name="495256437"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495256437" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495256437">(Jan 22 2025 at 11:11)</a>:</h4>
<p>rvolosatovs edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/10061#issuecomment-2606952501">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>:</p>
<blockquote>
<blockquote>
<p>Thanks for getting this started!</p>
<p>I think that, until 0.3 is released, we should keep the existing bindings to 0.2.x at their current position in the module tree, because they have "real" users whereas 0.3 should not yet. We also don't want to bake the patch version into the module paths of the public API, since it changes regularly and upgrades are supposed to be transparent to users.</p>
<p>I'd support a PR that moves the canonical definition of the 0.2 bindings to <code>bindings::p2</code> with a <code>pub use</code> at their current location that we can eventually (as 0.3 release approaches) mark as deprecated. When introducing new bindings, lets put those at <code>bindings::p3</code> and behind an off-by-default cargo feature <code>p3</code>. The module and cargo feature should have a comment indicating these implementations are unstable and pre-standardization, and that bug/security fixes limited to p3 won't be given patch releases.</p>
</blockquote>
<p>I've moved the existing WASI implementations to <code>p2</code> modules with a <code>pub use::*</code> as suggested: #10073. Let me know what you think!</p>
<p>I'll meanwhile mark this PR as draft, rebase it on top of #10073 and introduce the <code>p3</code> module for <code>wasmtime-wasi</code></p>
</blockquote>



<a name="495270588"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495270588" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495270588">(Jan 22 2025 at 12:24)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>.</p>



<a name="495271793"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495271793" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495271793">(Jan 22 2025 at 12:30)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>.</p>



<a name="495272189"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495272189" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495272189">(Jan 22 2025 at 12:32)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>.</p>



<a name="495272487"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/495272487" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#495272487">(Jan 22 2025 at 12:34)</a>:</h4>
<p>rvolosatovs edited <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>:</p>
<blockquote>
<p>Blocked on #10073 </p>
<p>This adds support for <code>wasi:random@0.3.0</code> from <a href="https://github.com/WebAssembly/wasi-random/tree/3e99124e81d0f80872b826d161bef077ee37d241/wit-0.3.0-draft">https://github.com/WebAssembly/wasi-random/tree/3e99124e81d0f80872b826d161bef077ee37d241/wit-0.3.0-draft</a></p>
<p>The change is fully backwards-compatible from the guest's perspective.</p>
<p>The only breaking change is the <code>wasmtime_wasi::bindings</code> structure, where <code>wasmtime_wasi::bindings::random</code> is now located at <code>wasmtime_wasi::bindings::random0_2_3</code>.</p>
<p>The interface versions are almost identical apart from the <code>@since</code> gates.</p>
<p>This PR is intentionally small and well-scoped to establish the approach and enable further (mostly) backwards-compatible development and testing for WASI 0.3</p>
<p>For now, the existing <code>command</code> world is simply extended with <code>wasi:random@0.3.0</code>. In the future we'll probably want to decouple the component export and import binding generation and instead generate:</p>
<ul>
<li>bindings for a world, that includes both <code>wasi:cli/imports@0.2.3</code> and <code>wasi:cli/imports@0.3.0</code>(<a href="https://github.com/WebAssembly/wasi-cli/blob/1311434b3440621a5b5fda55378587d971f0c783/wit-0.3.0-draft/imports.wit">https://github.com/WebAssembly/wasi-cli/blob/1311434b3440621a5b5fda55378587d971f0c783/wit-0.3.0-draft/imports.wit</a>), but does not export anything</li>
<li>bindings for <code>wasi:cli/command@0.2.3</code></li>
<li>bindings for <code>wasi:cli/command@0.3.0</code></li>
</ul>
<p>This way we will be able to accommodate 2 different versions of <code>wasi:cli/command</code> exported by components</p>
</blockquote>



<a name="528890530"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/528890530" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#528890530">(Jul 15 2025 at 15:43)</a>:</h4>
<p>rvolosatovs assigned rvolosatovs to <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>.</p>



<a name="529075926"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310061%20feat%28wasi%29%3A%20add%20support%20for%20%60wasi%3Ara.../near/529075926" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310061.20feat.28wasi.29.3A.20add.20support.20for.20.60wasi.3Ara.2E.2E.2E.html#529075926">(Jul 16 2025 at 14:40)</a>:</h4>
<p>alexcrichton closed without merge <a href="https://github.com/bytecodealliance/wasmtime/pull/10061">PR #10061</a>.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>