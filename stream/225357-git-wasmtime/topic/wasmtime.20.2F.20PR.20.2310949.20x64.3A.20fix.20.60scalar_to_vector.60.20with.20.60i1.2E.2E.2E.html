<html>
<head><meta charset="utf-8"><title>wasmtime / PR #10949 x64: fix `scalar_to_vector` with `i1... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310949.20x64.3A.20fix.20.60scalar_to_vector.60.20with.20.60i1.2E.2E.2E.html">wasmtime / PR #10949 x64: fix `scalar_to_vector` with `i1...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="522695585"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310949%20x64%3A%20fix%20%60scalar_to_vector%60%20with%20%60i1.../near/522695585" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310949.20x64.3A.20fix.20.60scalar_to_vector.60.20with.20.60i1.2E.2E.2E.html#522695585">(Jun 06 2025 at 02:50)</a>:</h4>
<p>abrown opened <a href="https://github.com/bytecodealliance/wasmtime/pull/10949">PR #10949</a> from <code>abrown:fix-10906</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This fixes an issue introduced in #9045 where the XMM register used as an <code>i16x8</code> destination for  <code>scalar_to_vector</code> is not properly zeroed prior to moving the <code>i16</code> there. This means that uninitialized bits from previous instructions are readable in the top lanes of the destination. The fix for this miscompilation is to zero the XMM register prior to moving the <code>i16</code> to the XMM.</p>
<p>Fixes #10906.</p>
</blockquote>



<a name="522695586"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310949%20x64%3A%20fix%20%60scalar_to_vector%60%20with%20%60i1.../near/522695586" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310949.20x64.3A.20fix.20.60scalar_to_vector.60.20with.20.60i1.2E.2E.2E.html#522695586">(Jun 06 2025 at 02:50)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10949">PR #10949</a>.</p>



<a name="522695587"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310949%20x64%3A%20fix%20%60scalar_to_vector%60%20with%20%60i1.../near/522695587" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310949.20x64.3A.20fix.20.60scalar_to_vector.60.20with.20.60i1.2E.2E.2E.html#522695587">(Jun 06 2025 at 02:50)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10949">PR #10949</a>.</p>



<a name="522818416"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310949%20x64%3A%20fix%20%60scalar_to_vector%60%20with%20%60i1.../near/522818416" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310949.20x64.3A.20fix.20.60scalar_to_vector.60.20with.20.60i1.2E.2E.2E.html#522818416">(Jun 06 2025 at 17:13)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10949#pullrequestreview-2905551907">PR review</a>:</p>
<blockquote>
<p>Thanks!</p>
</blockquote>



<a name="522821790"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310949%20x64%3A%20fix%20%60scalar_to_vector%60%20with%20%60i1.../near/522821790" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310949.20x64.3A.20fix.20.60scalar_to_vector.60.20with.20.60i1.2E.2E.2E.html#522821790">(Jun 06 2025 at 17:35)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/10949">PR #10949</a>.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>