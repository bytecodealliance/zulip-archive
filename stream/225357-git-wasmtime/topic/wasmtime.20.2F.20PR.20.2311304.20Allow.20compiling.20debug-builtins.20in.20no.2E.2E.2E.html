<html>
<head><meta charset="utf-8"><title>wasmtime / PR #11304 Allow compiling debug-builtins in no... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html">wasmtime / PR #11304 Allow compiling debug-builtins in no...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="530209720"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530209720" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530209720">(Jul 22 2025 at 19:32)</a>:</h4>
<p>dblnz opened <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a> from <code>dblnz:no-std-debug-builtins</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<h2>Description</h2>
<p>This PR takes care of enabling the compilation of <code>gdb_jit_int</code> module in the <code>jit-debug</code> crate to ensure the native debugging also works in <code>no_std</code> environments.</p>
<p>The </p>
<p>This work has been discussed in <a href="#narrow/channel/217126-wasmtime/topic/Debugging.20a.20wasm.20module.20in.20a.20hyperlight.20guest">#wasmtime &gt; Debugging a wasm module in a hyperlight guest</a>.</p>
<h2>Summary</h2>
<ul>
<li>Make <code>jit-debug</code> crate <code>#![no_std]</code> when <code>perf_jitdebug</code> is not enabled</li>
<li>Make <code>gdb_jit_int</code> module build in <code>no_std</code> environment</li>
<li>Use std when <code>perf_jitdebug</code> is enabled because the <code>perf_jitdebug</code> module does not run in <code>no_std</code> environment</li>
<li>Split <code>debug-builtins</code> feature into <code>debug-builtins</code> and <code>perf-builtins</code> to individually toggle:<br>
    - the <code>no_std</code> <code>gdb_jit_int</code> module by using <code>debug-builtins</code><br>
    - the std <code>perf_jitdebug</code> module using <code>perf-builtins</code>. NOTE: They can be both enabled, but it won't support <code>no_std</code>.</li>
</ul>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="530209722"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530209722" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530209722">(Jul 22 2025 at 19:32)</a>:</h4>
<p><strong>dblnz</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>.</p>



<a name="530209723"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530209723" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530209723">(Jul 22 2025 at 19:32)</a>:</h4>
<p><strong>dblnz</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>.</p>



<a name="530209724"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530209724" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530209724">(Jul 22 2025 at 19:32)</a>:</h4>
<p><strong>dblnz</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>.</p>



<a name="530212971"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530212971" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530212971">(Jul 22 2025 at 19:55)</a>:</h4>
<p>dblnz updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>.</p>



<a name="530222362"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530222362" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530222362">(Jul 22 2025 at 21:03)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#pullrequestreview-3044871447">PR review</a>.</p>



<a name="530222364"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530222364" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530222364">(Jul 22 2025 at 21:03)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#discussion_r2223824319">PR review comment</a>:</p>
<blockquote>
<p>I forget how we ended up at the organization </p>
</blockquote>



<a name="530222413"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530222413" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530222413">(Jul 22 2025 at 21:03)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#discussion_r2223824319">PR review comment</a>.</p>



<a name="530222425"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530222425" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530222425">(Jul 22 2025 at 21:03)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#discussion_r2223824319">PR review comment</a>.</p>



<a name="530222437"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530222437" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530222437">(Jul 22 2025 at 21:04)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#discussion_r2223824319">PR review comment</a>.</p>



<a name="530327815"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530327815" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530327815">(Jul 23 2025 at 12:04)</a>:</h4>
<p>dblnz edited <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>:</p>
<blockquote>
<h2>Description</h2>
<p>This PR takes care of enabling the compilation of <code>gdb_jit_int</code> module in the <code>jit-debug</code> crate to ensure the native debugging also works in <code>no_std</code> environments.</p>
<p>My aim is to have this in for the LTS version 36.0.0 <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span> </p>
<p>This work has been discussed in <a href="#narrow/channel/217126-wasmtime/topic/Debugging.20a.20wasm.20module.20in.20a.20hyperlight.20guest">#wasmtime &gt; Debugging a wasm module in a hyperlight guest</a>.</p>
<h2>Summary</h2>
<ul>
<li>Make <code>jit-debug</code> crate <code>#![no_std]</code> when <code>perf_jitdebug</code> is not enabled</li>
<li>Make <code>gdb_jit_int</code> module build in <code>no_std</code> environment</li>
<li>Use std when <code>perf_jitdebug</code> is enabled because the <code>perf_jitdebug</code> module does not run in <code>no_std</code> environment</li>
<li>Split <code>debug-builtins</code> feature into <code>debug-builtins</code> and <code>perf-builtins</code> to individually toggle:<br>
    - the <code>no_std</code> <code>gdb_jit_int</code> module by using <code>debug-builtins</code><br>
    - the std <code>perf_jitdebug</code> module using <code>perf-builtins</code>. NOTE: They can be both enabled, but it won't support <code>no_std</code>.</li>
</ul>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="530398740"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530398740" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530398740">(Jul 23 2025 at 17:27)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#pullrequestreview-3044874716">PR review</a>.</p>



<a name="530398741"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530398741" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530398741">(Jul 23 2025 at 17:27)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#discussion_r2226224827">PR review comment</a>:</p>
<blockquote>
<p>Can this condition be massaged a bit to still include the <code>has_host_compiler_backend</code> conditional somehow? (or something like that)</p>
<p>Previously it was a nice property that compiling Wasmtime to an unknown/unsupported platform wouldn't involve compiling any C code and I'd ideally like to preserve that. An example situation where C code is not needed is a platform using Pulley even when debug-builtins is enabled because in such a situation the builtins aren't actually used by anything.</p>
</blockquote>



<a name="530398743"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530398743" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530398743">(Jul 23 2025 at 17:27)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#discussion_r2226221399">PR review comment</a>:</p>
<blockquote>
<p>This unfortunately is a dependency we cannot use. Spinning on contention is almost never the right concurrency primitive as it's only particularly useful in a kernel setting when interrupts are disabled for example. I also unfortunately do not have a great answer of what to do as an alternative. The best I can think of is "panic on contention" in no_std mode but still use a real <code>std::sync::Mutex</code> in std mode.</p>
</blockquote>



<a name="530398744"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530398744" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530398744">(Jul 23 2025 at 17:27)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#discussion_r2223826675">PR review comment</a>:</p>
<blockquote>
<p>I think it'd be best to skip this feature and have this force-enabled as part of the <code>profiling</code> feature, this separate feature doesn't actually enable anything otherwise in Wasmtime itself</p>
</blockquote>



<a name="530415839"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530415839" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530415839">(Jul 23 2025 at 19:08)</a>:</h4>
<p>dblnz submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#pullrequestreview-3048672531">PR review</a>.</p>



<a name="530415840"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530415840" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530415840">(Jul 23 2025 at 19:08)</a>:</h4>
<p>dblnz created <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#discussion_r2226422322">PR review comment</a>:</p>
<blockquote>
<p>Ok, thanks for the comment. I wasn't sure what the right decision was here.<br>
I think panic in <code>no_std</code> mode should be fine</p>
</blockquote>



<a name="530415925"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530415925" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530415925">(Jul 23 2025 at 19:09)</a>:</h4>
<p>dblnz edited <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#discussion_r2226422322">PR review comment</a>.</p>



<a name="530418338"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530418338" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530418338">(Jul 23 2025 at 19:27)</a>:</h4>
<p>dblnz submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#pullrequestreview-3048719870">PR review</a>.</p>



<a name="530418340"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530418340" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530418340">(Jul 23 2025 at 19:27)</a>:</h4>
<p>dblnz created <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#discussion_r2226455448">PR review comment</a>:</p>
<blockquote>
<p>Hmm, I see, I followed the <code>debug-builtins</code> feature and noticed it depends on some symbols from the C, and I thought that for <code>debug-builtins</code> this will be needed.<br>
I'll have another look </p>
</blockquote>



<a name="530661246"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530661246" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530661246">(Jul 24 2025 at 23:07)</a>:</h4>
<p>dblnz updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>.</p>



<a name="530662720"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530662720" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530662720">(Jul 24 2025 at 23:21)</a>:</h4>
<p>dblnz updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>.</p>



<a name="530663097"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530663097" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530663097">(Jul 24 2025 at 23:25)</a>:</h4>
<p>dblnz submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#pullrequestreview-3053637590">PR review</a>.</p>



<a name="530663098"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530663098" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530663098">(Jul 24 2025 at 23:25)</a>:</h4>
<p>dblnz created <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#discussion_r2229794606">PR review comment</a>:</p>
<blockquote>
<p>The idea I had in mind was that before this change, <code>debug-builtins</code> also enabled the perf_jitdump, so when compiling <code>wasmtime-cli</code> and providing <code>--features debug-builtins</code> now it won't enable the <code>perf_jitdump</code> anymore.<br>
I had added a <code>perf-builtins</code> so that this option could be enabled from the <code>wasmtime-cli</code>.</p>
<p>I have taken your advice and force-enabled <code>perf_jitdump</code> as part of <code>profiling</code>. Let me know if you'd like to change</p>
</blockquote>



<a name="530663669"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530663669" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530663669">(Jul 24 2025 at 23:30)</a>:</h4>
<p>dblnz updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>.</p>



<a name="530664296"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530664296" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530664296">(Jul 24 2025 at 23:36)</a>:</h4>
<p>dblnz updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>.</p>



<a name="530762907"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530762907" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530762907">(Jul 25 2025 at 12:27)</a>:</h4>
<p><strong>dblnz</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>.</p>



<a name="530826265"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530826265" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530826265">(Jul 25 2025 at 18:19)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>.</p>



<a name="530826315"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/530826315" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#530826315">(Jul 25 2025 at 18:20)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#issuecomment-3119886322">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>:</p>
<blockquote>
<p>I've pushed a few commits as feedback here. Mind double-checking them and confirming they're ok for you?</p>
</blockquote>



<a name="531368200"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/531368200" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#531368200">(Jul 28 2025 at 13:17)</a>:</h4>
<p>dblnz <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#issuecomment-3127205645">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>:</p>
<blockquote>
<blockquote>
<p>I've pushed a few commits as feedback here. Mind double-checking them and confirming they're ok for you?</p>
</blockquote>
<p>It looks good from my point of view.</p>
<p>Nice touch with the use of optional feature enablement.</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="s">"wasmtime-jit-debug?/std"</span><span class="p">,</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="531377443"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/531377443" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#531377443">(Jul 28 2025 at 13:56)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/11304#pullrequestreview-3062899430">PR review</a>.</p>



<a name="531661981"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/531661981" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#531661981">(Jul 29 2025 at 17:16)</a>:</h4>
<p>dblnz updated <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>.</p>



<a name="531696205"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2311304%20Allow%20compiling%20debug-builtins%20in%20no.../near/531696205" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2311304.20Allow.20compiling.20debug-builtins.20in.20no.2E.2E.2E.html#531696205">(Jul 29 2025 at 20:47)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/11304">PR #11304</a>.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>