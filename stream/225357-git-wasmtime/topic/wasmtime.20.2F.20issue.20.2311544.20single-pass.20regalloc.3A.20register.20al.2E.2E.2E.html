<html>
<head><meta charset="utf-8"><title>wasmtime / issue #11544 single-pass regalloc: register al... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311544.20single-pass.20regalloc.3A.20register.20al.2E.2E.2E.html">wasmtime / issue #11544 single-pass regalloc: register al...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="536294759"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311544%20single-pass%20regalloc%3A%20register%20al.../near/536294759" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311544.20single-pass.20regalloc.3A.20register.20al.2E.2E.2E.html#536294759">(Aug 26 2025 at 18:48)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/issues/11544">issue #11544</a>:</p>
<blockquote>
<p>This input:</p>
<div class="codehilite" data-code-language="wasm"><pre><span></span><code>(module
  (start 0)
  (func
    loop
      ref.null i31
      br_on_null 0
      drop
    end
  )
)
</code></pre></div>
<p>fails with:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="n">cargo</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="n">testcase0</span><span class="p">.</span><span class="n">wat</span><span class="w"> </span><span class="o">--</span><span class="n">target</span><span class="w"> </span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="w"> </span><span class="o">-</span><span class="n">Oregalloc</span><span class="o">-</span><span class="n">algorithm</span><span class="o">=</span><span class="n">single</span><span class="o">-</span><span class="n">pass</span><span class="w"> </span><span class="o">-</span><span class="n">Wexceptions</span><span class="o">=</span><span class="n">y</span>
<span class="mi">2025</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">26</span><span class="n">T18</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span><span class="mf">40.840113</span><span class="n">Z</span><span class="w"> </span><span class="n">ERROR</span><span class="w"> </span><span class="n">cranelift_codegen</span><span class="p">::</span><span class="n">machinst</span><span class="p">::</span><span class="n">compile</span><span class="p">:</span><span class="w"> </span><span class="nc">Register</span><span class="w"> </span><span class="n">allocation</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">vcode</span>
<span class="n">VCode</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Entry</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">0</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block0</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">1</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="nc">args</span><span class="w"> </span><span class="o">%</span><span class="n">v192</span><span class="o">=%</span><span class="n">rdi</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="nc">jmp</span><span class="w">     </span><span class="n">label1</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">1</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block2</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">4</span><span class="p">([</span><span class="n">VReg</span><span class="p">(</span><span class="n">vreg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">197</span><span class="p">,</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Int</span><span class="p">)]))</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">2</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="nc">movq</span><span class="w"> </span><span class="mh">0x30</span><span class="p">(</span><span class="o">%</span><span class="n">v192</span><span class="p">),</span><span class="w"> </span><span class="o">%</span><span class="n">v200</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="nc">movq</span><span class="w"> </span><span class="mh">0x40</span><span class="p">(</span><span class="o">%</span><span class="n">v192</span><span class="p">),</span><span class="w"> </span><span class="o">%</span><span class="n">v199</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="nc">call</span><span class="w">    </span><span class="o">*%</span><span class="n">v200</span><span class="p">;</span><span class="w"> </span><span class="n">jmp</span><span class="w"> </span><span class="n">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="n">catch</span><span class="w"> </span><span class="p">[</span><span class="n">context</span><span class="w"> </span><span class="n">v192</span><span class="p">,</span><span class="w"> </span><span class="n">default</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">2</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block5</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">3</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="nc">jmp</span><span class="w">     </span><span class="n">label3</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">3</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block3</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">5</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">6</span><span class="p">:</span><span class="w"> </span><span class="nc">jmp</span><span class="w">     </span><span class="n">label5</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">4</span><span class="p">([</span><span class="n">VReg</span><span class="p">(</span><span class="n">vreg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">194</span><span class="p">,</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Int</span><span class="p">)]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block4</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">5</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">7</span><span class="p">:</span><span class="w"> </span><span class="nc">jmp</span><span class="w">     </span><span class="n">label5</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">5</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block1</span><span class="p">)</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">8</span><span class="p">:</span><span class="w"> </span><span class="nc">rets</span>
<span class="p">}</span>

<span class="n">Error</span><span class="p">:</span><span class="w"> </span><span class="nc">TooManyLiveRegs</span>
<span class="n">CLIF</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">error</span><span class="p">:</span>
<span class="nc">function</span><span class="w"> </span><span class="n">u0</span><span class="p">:</span><span class="mi">0</span><span class="p">(</span><span class="kt">i64</span><span class="w"> </span><span class="n">vmctx</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="n">tail</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">gv0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vmctx</span>
<span class="w">    </span><span class="n">gv1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i64</span><span class="w"> </span><span class="n">notrap</span><span class="w"> </span><span class="n">aligned</span><span class="w"> </span><span class="n">readonly</span><span class="w"> </span><span class="n">gv0</span><span class="o">+</span><span class="mi">8</span>
<span class="w">    </span><span class="n">gv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i64</span><span class="w"> </span><span class="n">notrap</span><span class="w"> </span><span class="n">aligned</span><span class="w"> </span><span class="n">gv1</span><span class="o">+</span><span class="mi">16</span>
<span class="w">    </span><span class="n">gv3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vmctx</span>
<span class="w">    </span><span class="n">sig0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">i64</span><span class="w"> </span><span class="n">vmctx</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="n">tail</span>
<span class="w">    </span><span class="n">stack_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gv2</span>

<span class="w">                                </span><span class="n">block0</span><span class="p">(</span><span class="n">v0</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">v1</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">):</span>
<span class="o">@</span><span class="mi">001</span><span class="n">e</span><span class="w">                               </span><span class="n">jump</span><span class="w"> </span><span class="n">block2</span>

<span class="w">                                </span><span class="n">block4</span><span class="p">(</span><span class="n">v2</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">):</span>
<span class="o">@</span><span class="mi">001</span><span class="n">e</span><span class="w">                               </span><span class="n">jump</span><span class="w"> </span><span class="n">block1</span>

<span class="w">                                </span><span class="n">block2</span><span class="p">:</span>
<span class="o">@</span><span class="mi">0023</span><span class="w">                               </span><span class="n">v6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i64</span><span class="w"> </span><span class="n">notrap</span><span class="w"> </span><span class="n">aligned</span><span class="w"> </span><span class="n">readonly</span><span class="w"> </span><span class="n">can_move</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">48</span>
<span class="o">@</span><span class="mi">0023</span><span class="w">                               </span><span class="n">v5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i64</span><span class="w"> </span><span class="n">notrap</span><span class="w"> </span><span class="n">aligned</span><span class="w"> </span><span class="n">readonly</span><span class="w"> </span><span class="n">can_move</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">64</span>
<span class="o">@</span><span class="mi">0023</span><span class="w">                               </span><span class="n">try_call_indirect</span><span class="w"> </span><span class="n">v6</span><span class="p">(</span><span class="n">v5</span><span class="p">,</span><span class="w"> </span><span class="n">v0</span><span class="p">),</span><span class="w"> </span><span class="n">sig0</span><span class="p">,</span><span class="w"> </span><span class="n">block5</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="n">v0</span><span class="p">,</span><span class="w"> </span><span class="n">default</span><span class="p">:</span><span class="w"> </span><span class="nc">block4</span><span class="p">(</span><span class="n">exn0</span><span class="p">)</span><span class="w"> </span><span class="p">]</span>

<span class="w">                                </span><span class="n">block5</span><span class="p">:</span>
<span class="o">@</span><span class="mi">0025</span><span class="w">                               </span><span class="n">jump</span><span class="w"> </span><span class="n">block3</span>

<span class="w">                                </span><span class="n">block3</span><span class="p">:</span>
<span class="o">@</span><span class="mi">0026</span><span class="w">                               </span><span class="n">jump</span><span class="w"> </span><span class="n">block1</span>

<span class="w">                                </span><span class="n">block1</span><span class="p">:</span>
<span class="o">@</span><span class="mi">0026</span><span class="w">                               </span><span class="k">return</span>
<span class="p">}</span>


<span class="n">thread</span><span class="w"> </span><span class="o">'&lt;</span><span class="n">unnamed</span><span class="o">&gt;'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">cranelift</span><span class="o">/</span><span class="n">codegen</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">machinst</span><span class="o">/</span><span class="n">compile</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">79</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span>
<span class="nc">register</span><span class="w"> </span><span class="n">allocation</span><span class="p">:</span><span class="w"> </span><span class="nc">TooManyLiveRegs</span>
<span class="n">note</span><span class="p">:</span><span class="w"> </span><span class="nc">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="err">`</span><span class="n">RUST_BACKTRACE</span><span class="o">=</span><span class="mi">1</span><span class="err">`</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">backtrace</span>
</code></pre></div>
<p>The original fuzz test case is:</p>
<p>&lt;details&gt;</p>
<p><div class="codehilite" data-code-language="wasm"><pre><span></span><code>(module
  (type (;0;) (func (result i64 f32 f64 v128 i32 i64 f32 v128 i32)))
  (type (;1;) (func (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i64 i32)))
  (import "\u{f3}\u{f4}" "" (table (;0;) 1995 179847 funcref))
  (import "" "" (func (;0;) (type 1)))
  (import "\u{e5}\u{e6}\u{e7}E" "" (func (;1;) (type 0)))
  (import "" "" (global (;0;) (mut i64)))
  (memory (;0;) 2316 49871)
  (global (;1;) (mut i32) i32.const 1000)
  (export "" (global 0))
  (export "1" (func 8))
  (elem (;0;) (table 0) (i32.const 109) func)
  (func (;2;) (type 1) (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i64 i32)
    (local f32 f64 v128 i32 f64 f32 f64 v128 i32 i64 f32 f64 f32 f64 v128 f64)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    block (result i32) ;; label = @1
      elem.drop 0
      loop ;; label = @2
        global.get 1
        i32.eqz
        if ;; label = @3
          unreachable
        end
        global.get 1
        i32.const 1
        i32.sub
        global.set 1
        data.drop 1
        data.drop 1
        data.drop 1
        i64.const 127125275142234563
        f32.convert_i64_u
        i32.trunc_f32_s
        block ;; label = @3
          block (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32) ;; label = @4
            call 5
            f32.const 0x1.p-142 (;=0.00000000000000000000000000000000000000000018;)
            i32.trunc_sat_f32_s
            i32.sub
            v128.load32x2_s offset=3067064003
            i16x8.extmul_high_i8x16_u
            f64x2.trunc
            i32x4.extend_high_i16x8_s
            f64x2.convert_low_i32x4_u
            i32x4.all_true
            v128.load32x2_s offset=96519093
            f32x4.floor
            i64x2.extract_lane 1
            loop ;; label = @5
              global.get 1
              i32.eqz
              if ;; label = @6
                unreachable
              end
              global.get 1
              i32.const 1
              i32.sub
              global.set 1
              data.drop 1
              data.drop 0
              f32.const -0x1.873386p-74 (;=-0.000000000000000000000080898525;)
              i64.const -4349457152578708029
              loop ;; label = @6
                global.get 1
                i32.eqz
                if ;; label = @7
                  unreachable
                end
                global.get 1
                i32.const 1
                i32.sub
                global.set 1
                data.drop 1
                data.drop 1
                data.drop 0
                loop ;; label = @7
                  global.get 1
                  i32.eqz
                  if ;; label = @8
                    unreachable
                  end
                  global.get 1
                  i32.const 1
                  i32.sub
                  global.set 1
                  try_table (catch_all 4 (;@3;)) (catch_all 0 (;@7;)) (catch_all 0 (;@7;)) (catch_all 0 (;@7;)) (catch_all 0 (;@7;)) (catch_all 0 (;@7;)) (catch_all 1 (;@6;)) (catch_all 0 (;@7;)) ;; label = @8
                    loop ;; label = @9
                      global.get 1
                      i32.eqz
                      if ;; label = @10
                        unreachable
                      end
                      global.get 1
                      i32.const 1
                      i32.sub
                      global.set 1
                      data.drop 1
                      loop (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32) ;; label = @10
                        global.get 1
                        i32.eqz
                        if ;; label = @11
                          unreachable
                        end
                        global.get 1
                        i32.const 1
                        i32.sub
                        global.set 1
                        call 1
                        block ;; label = @11
                          data.drop 1
                          data.drop 1
                          data.drop 1
                          data.drop 1
                          data.drop 1
                          data.drop 0
                          elem.drop 0
                          br 6 (;@5;)
                          call 7
                          try_table (catch_all 6 (;@5;)) (catch_all 2 (;@9;)) ;; label = @12
                            call 5
                            block (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32) ;; label = @13
                              try_table (result i32) (catch_all 8 (;@5;)) (catch_all 11 (;@2;)) ;; label = @14
                                br 2 (;@12;)
                                call 5
                                i64x2.shr_s
                                i64x2.extend_low_i32x4_s
                                i16x8.extract_lane_u 3
                                v128.load8_splat offset=3184506367
                                v128.const i32x4 0xc3b7c3b6 0xc3b9c3b8 0xbbc3ba2a 0xc3b6bcc3
                                i8x16.max_s
                                elem.drop 0
                                elem.drop 0
                                try_table ;; label = @15
                                end
                                unreachable
                              end
                              unreachable
                            end
                            unreachable
                          end
                          unreachable
                        end
                      end
                      unreachable
                    end
                  end
                end
              end
              unreachable
            end
            unreachable
          end
          unreachable
        end
        unreachable
      end
      unreachable
    end
    unreachable
  )
  (func (;3;) (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;4;) (type 1) (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i64 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;5;) (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;6;) (type 1) (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i64 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;7;) (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;8;) (type 1) (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i6
[message truncated]
</code></pre></div><br>
</p>
</blockquote>



<a name="536294760"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311544%20single-pass%20regalloc%3A%20register%20al.../near/536294760" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311544.20single-pass.20regalloc.3A.20register.20al.2E.2E.2E.html#536294760">(Aug 26 2025 at 18:48)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> added the fuzz-bug label to <a href="https://github.com/bytecodealliance/wasmtime/issues/11544">Issue #11544</a>.</p>



<a name="536294761"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311544%20single-pass%20regalloc%3A%20register%20al.../near/536294761" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311544.20single-pass.20regalloc.3A.20register.20al.2E.2E.2E.html#536294761">(Aug 26 2025 at 18:48)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> added the cranelift:area:regalloc label to <a href="https://github.com/bytecodealliance/wasmtime/issues/11544">Issue #11544</a>.</p>



<a name="536294807"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311544%20single-pass%20regalloc%3A%20register%20al.../near/536294807" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311544.20single-pass.20regalloc.3A.20register.20al.2E.2E.2E.html#536294807">(Aug 26 2025 at 18:48)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/11544#issuecomment-3225333768">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/11544">issue #11544</a>:</p>
<blockquote>
<p>cc <a href="https://github.com/bytecodealliance/wasmtime/pull/11533">https://github.com/bytecodealliance/wasmtime/pull/11533</a> and @d-sonuga </p>
</blockquote>



<a name="536294946"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311544%20single-pass%20regalloc%3A%20register%20al.../near/536294946" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311544.20single-pass.20regalloc.3A.20register.20al.2E.2E.2E.html#536294946">(Aug 26 2025 at 18:50)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/11544">issue #11544</a>:</p>
<blockquote>
<p>This input:</p>
<div class="codehilite" data-code-language="wasm"><pre><span></span><code>(module
  (import "" "" (func))
  (func
    try_table (catch_all 0)
      call 0
    end
  )
)
</code></pre></div>
<p>fails with:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="n">cargo</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="n">testcase0</span><span class="p">.</span><span class="n">wat</span><span class="w"> </span><span class="o">--</span><span class="n">target</span><span class="w"> </span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="w"> </span><span class="o">-</span><span class="n">Oregalloc</span><span class="o">-</span><span class="n">algorithm</span><span class="o">=</span><span class="n">single</span><span class="o">-</span><span class="n">pass</span><span class="w"> </span><span class="o">-</span><span class="n">Wexceptions</span><span class="o">=</span><span class="n">y</span>
<span class="mi">2025</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">26</span><span class="n">T18</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span><span class="mf">40.840113</span><span class="n">Z</span><span class="w"> </span><span class="n">ERROR</span><span class="w"> </span><span class="n">cranelift_codegen</span><span class="p">::</span><span class="n">machinst</span><span class="p">::</span><span class="n">compile</span><span class="p">:</span><span class="w"> </span><span class="nc">Register</span><span class="w"> </span><span class="n">allocation</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">vcode</span>
<span class="n">VCode</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Entry</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">0</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block0</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">1</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="nc">args</span><span class="w"> </span><span class="o">%</span><span class="n">v192</span><span class="o">=%</span><span class="n">rdi</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="nc">jmp</span><span class="w">     </span><span class="n">label1</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">1</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block2</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">4</span><span class="p">([</span><span class="n">VReg</span><span class="p">(</span><span class="n">vreg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">197</span><span class="p">,</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Int</span><span class="p">)]))</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">2</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="nc">movq</span><span class="w"> </span><span class="mh">0x30</span><span class="p">(</span><span class="o">%</span><span class="n">v192</span><span class="p">),</span><span class="w"> </span><span class="o">%</span><span class="n">v200</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="nc">movq</span><span class="w"> </span><span class="mh">0x40</span><span class="p">(</span><span class="o">%</span><span class="n">v192</span><span class="p">),</span><span class="w"> </span><span class="o">%</span><span class="n">v199</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="nc">call</span><span class="w">    </span><span class="o">*%</span><span class="n">v200</span><span class="p">;</span><span class="w"> </span><span class="n">jmp</span><span class="w"> </span><span class="n">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="n">catch</span><span class="w"> </span><span class="p">[</span><span class="n">context</span><span class="w"> </span><span class="n">v192</span><span class="p">,</span><span class="w"> </span><span class="n">default</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">2</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block5</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">3</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="nc">jmp</span><span class="w">     </span><span class="n">label3</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">3</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block3</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">5</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">6</span><span class="p">:</span><span class="w"> </span><span class="nc">jmp</span><span class="w">     </span><span class="n">label5</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">4</span><span class="p">([</span><span class="n">VReg</span><span class="p">(</span><span class="n">vreg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">194</span><span class="p">,</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Int</span><span class="p">)]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block4</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">5</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">7</span><span class="p">:</span><span class="w"> </span><span class="nc">jmp</span><span class="w">     </span><span class="n">label5</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">5</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block1</span><span class="p">)</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">8</span><span class="p">:</span><span class="w"> </span><span class="nc">rets</span>
<span class="p">}</span>

<span class="n">Error</span><span class="p">:</span><span class="w"> </span><span class="nc">TooManyLiveRegs</span>
<span class="n">CLIF</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">error</span><span class="p">:</span>
<span class="nc">function</span><span class="w"> </span><span class="n">u0</span><span class="p">:</span><span class="mi">0</span><span class="p">(</span><span class="kt">i64</span><span class="w"> </span><span class="n">vmctx</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="n">tail</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">gv0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vmctx</span>
<span class="w">    </span><span class="n">gv1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i64</span><span class="w"> </span><span class="n">notrap</span><span class="w"> </span><span class="n">aligned</span><span class="w"> </span><span class="n">readonly</span><span class="w"> </span><span class="n">gv0</span><span class="o">+</span><span class="mi">8</span>
<span class="w">    </span><span class="n">gv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i64</span><span class="w"> </span><span class="n">notrap</span><span class="w"> </span><span class="n">aligned</span><span class="w"> </span><span class="n">gv1</span><span class="o">+</span><span class="mi">16</span>
<span class="w">    </span><span class="n">gv3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vmctx</span>
<span class="w">    </span><span class="n">sig0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">i64</span><span class="w"> </span><span class="n">vmctx</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="n">tail</span>
<span class="w">    </span><span class="n">stack_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gv2</span>

<span class="w">                                </span><span class="n">block0</span><span class="p">(</span><span class="n">v0</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">v1</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">):</span>
<span class="o">@</span><span class="mi">001</span><span class="n">e</span><span class="w">                               </span><span class="n">jump</span><span class="w"> </span><span class="n">block2</span>

<span class="w">                                </span><span class="n">block4</span><span class="p">(</span><span class="n">v2</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">):</span>
<span class="o">@</span><span class="mi">001</span><span class="n">e</span><span class="w">                               </span><span class="n">jump</span><span class="w"> </span><span class="n">block1</span>

<span class="w">                                </span><span class="n">block2</span><span class="p">:</span>
<span class="o">@</span><span class="mi">0023</span><span class="w">                               </span><span class="n">v6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i64</span><span class="w"> </span><span class="n">notrap</span><span class="w"> </span><span class="n">aligned</span><span class="w"> </span><span class="n">readonly</span><span class="w"> </span><span class="n">can_move</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">48</span>
<span class="o">@</span><span class="mi">0023</span><span class="w">                               </span><span class="n">v5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i64</span><span class="w"> </span><span class="n">notrap</span><span class="w"> </span><span class="n">aligned</span><span class="w"> </span><span class="n">readonly</span><span class="w"> </span><span class="n">can_move</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">64</span>
<span class="o">@</span><span class="mi">0023</span><span class="w">                               </span><span class="n">try_call_indirect</span><span class="w"> </span><span class="n">v6</span><span class="p">(</span><span class="n">v5</span><span class="p">,</span><span class="w"> </span><span class="n">v0</span><span class="p">),</span><span class="w"> </span><span class="n">sig0</span><span class="p">,</span><span class="w"> </span><span class="n">block5</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="n">v0</span><span class="p">,</span><span class="w"> </span><span class="n">default</span><span class="p">:</span><span class="w"> </span><span class="nc">block4</span><span class="p">(</span><span class="n">exn0</span><span class="p">)</span><span class="w"> </span><span class="p">]</span>

<span class="w">                                </span><span class="n">block5</span><span class="p">:</span>
<span class="o">@</span><span class="mi">0025</span><span class="w">                               </span><span class="n">jump</span><span class="w"> </span><span class="n">block3</span>

<span class="w">                                </span><span class="n">block3</span><span class="p">:</span>
<span class="o">@</span><span class="mi">0026</span><span class="w">                               </span><span class="n">jump</span><span class="w"> </span><span class="n">block1</span>

<span class="w">                                </span><span class="n">block1</span><span class="p">:</span>
<span class="o">@</span><span class="mi">0026</span><span class="w">                               </span><span class="k">return</span>
<span class="p">}</span>


<span class="n">thread</span><span class="w"> </span><span class="o">'&lt;</span><span class="n">unnamed</span><span class="o">&gt;'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">cranelift</span><span class="o">/</span><span class="n">codegen</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">machinst</span><span class="o">/</span><span class="n">compile</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">79</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span>
<span class="nc">register</span><span class="w"> </span><span class="n">allocation</span><span class="p">:</span><span class="w"> </span><span class="nc">TooManyLiveRegs</span>
<span class="n">note</span><span class="p">:</span><span class="w"> </span><span class="nc">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="err">`</span><span class="n">RUST_BACKTRACE</span><span class="o">=</span><span class="mi">1</span><span class="err">`</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">backtrace</span>
</code></pre></div>
<p>The original fuzz test case is:</p>
<p>&lt;details&gt;</p>
<p><div class="codehilite" data-code-language="wasm"><pre><span></span><code>(module
  (type (;0;) (func (result i64 f32 f64 v128 i32 i64 f32 v128 i32)))
  (type (;1;) (func (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i64 i32)))
  (import "\u{f3}\u{f4}" "" (table (;0;) 1995 179847 funcref))
  (import "" "" (func (;0;) (type 1)))
  (import "\u{e5}\u{e6}\u{e7}E" "" (func (;1;) (type 0)))
  (import "" "" (global (;0;) (mut i64)))
  (memory (;0;) 2316 49871)
  (global (;1;) (mut i32) i32.const 1000)
  (export "" (global 0))
  (export "1" (func 8))
  (elem (;0;) (table 0) (i32.const 109) func)
  (func (;2;) (type 1) (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i64 i32)
    (local f32 f64 v128 i32 f64 f32 f64 v128 i32 i64 f32 f64 f32 f64 v128 f64)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    block (result i32) ;; label = @1
      elem.drop 0
      loop ;; label = @2
        global.get 1
        i32.eqz
        if ;; label = @3
          unreachable
        end
        global.get 1
        i32.const 1
        i32.sub
        global.set 1
        data.drop 1
        data.drop 1
        data.drop 1
        i64.const 127125275142234563
        f32.convert_i64_u
        i32.trunc_f32_s
        block ;; label = @3
          block (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32) ;; label = @4
            call 5
            f32.const 0x1.p-142 (;=0.00000000000000000000000000000000000000000018;)
            i32.trunc_sat_f32_s
            i32.sub
            v128.load32x2_s offset=3067064003
            i16x8.extmul_high_i8x16_u
            f64x2.trunc
            i32x4.extend_high_i16x8_s
            f64x2.convert_low_i32x4_u
            i32x4.all_true
            v128.load32x2_s offset=96519093
            f32x4.floor
            i64x2.extract_lane 1
            loop ;; label = @5
              global.get 1
              i32.eqz
              if ;; label = @6
                unreachable
              end
              global.get 1
              i32.const 1
              i32.sub
              global.set 1
              data.drop 1
              data.drop 0
              f32.const -0x1.873386p-74 (;=-0.000000000000000000000080898525;)
              i64.const -4349457152578708029
              loop ;; label = @6
                global.get 1
                i32.eqz
                if ;; label = @7
                  unreachable
                end
                global.get 1
                i32.const 1
                i32.sub
                global.set 1
                data.drop 1
                data.drop 1
                data.drop 0
                loop ;; label = @7
                  global.get 1
                  i32.eqz
                  if ;; label = @8
                    unreachable
                  end
                  global.get 1
                  i32.const 1
                  i32.sub
                  global.set 1
                  try_table (catch_all 4 (;@3;)) (catch_all 0 (;@7;)) (catch_all 0 (;@7;)) (catch_all 0 (;@7;)) (catch_all 0 (;@7;)) (catch_all 0 (;@7;)) (catch_all 1 (;@6;)) (catch_all 0 (;@7;)) ;; label = @8
                    loop ;; label = @9
                      global.get 1
                      i32.eqz
                      if ;; label = @10
                        unreachable
                      end
                      global.get 1
                      i32.const 1
                      i32.sub
                      global.set 1
                      data.drop 1
                      loop (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32) ;; label = @10
                        global.get 1
                        i32.eqz
                        if ;; label = @11
                          unreachable
                        end
                        global.get 1
                        i32.const 1
                        i32.sub
                        global.set 1
                        call 1
                        block ;; label = @11
                          data.drop 1
                          data.drop 1
                          data.drop 1
                          data.drop 1
                          data.drop 1
                          data.drop 0
                          elem.drop 0
                          br 6 (;@5;)
                          call 7
                          try_table (catch_all 6 (;@5;)) (catch_all 2 (;@9;)) ;; label = @12
                            call 5
                            block (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32) ;; label = @13
                              try_table (result i32) (catch_all 8 (;@5;)) (catch_all 11 (;@2;)) ;; label = @14
                                br 2 (;@12;)
                                call 5
                                i64x2.shr_s
                                i64x2.extend_low_i32x4_s
                                i16x8.extract_lane_u 3
                                v128.load8_splat offset=3184506367
                                v128.const i32x4 0xc3b7c3b6 0xc3b9c3b8 0xbbc3ba2a 0xc3b6bcc3
                                i8x16.max_s
                                elem.drop 0
                                elem.drop 0
                                try_table ;; label = @15
                                end
                                unreachable
                              end
                              unreachable
                            end
                            unreachable
                          end
                          unreachable
                        end
                      end
                      unreachable
                    end
                  end
                end
              end
              unreachable
            end
            unreachable
          end
          unreachable
        end
        unreachable
      end
      unreachable
    end
    unreachable
  )
  (func (;3;) (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;4;) (type 1) (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i64 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;5;) (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;6;) (type 1) (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i64 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;7;) (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;8;) (type 1) (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i64 i32
[message truncated]
</code></pre></div><br>
</p>
</blockquote>



<a name="540349227"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2311544%20single-pass%20regalloc%3A%20register%20al.../near/540349227" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2311544.20single-pass.20regalloc.3A.20register.20al.2E.2E.2E.html#540349227">(Sep 18 2025 at 23:42)</a>:</h4>
<p>abrown closed <a href="https://github.com/bytecodealliance/wasmtime/issues/11544">issue #11544</a>:</p>
<blockquote>
<p>This input:</p>
<div class="codehilite" data-code-language="wasm"><pre><span></span><code>(module
  (import "" "" (func))
  (func
    try_table (catch_all 0)
      call 0
    end
  )
)
</code></pre></div>
<p>fails with:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="n">cargo</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="n">testcase0</span><span class="p">.</span><span class="n">wat</span><span class="w"> </span><span class="o">--</span><span class="n">target</span><span class="w"> </span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="w"> </span><span class="o">-</span><span class="n">Oregalloc</span><span class="o">-</span><span class="n">algorithm</span><span class="o">=</span><span class="n">single</span><span class="o">-</span><span class="n">pass</span><span class="w"> </span><span class="o">-</span><span class="n">Wexceptions</span><span class="o">=</span><span class="n">y</span>
<span class="mi">2025</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">26</span><span class="n">T18</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span><span class="mf">40.840113</span><span class="n">Z</span><span class="w"> </span><span class="n">ERROR</span><span class="w"> </span><span class="n">cranelift_codegen</span><span class="p">::</span><span class="n">machinst</span><span class="p">::</span><span class="n">compile</span><span class="p">:</span><span class="w"> </span><span class="nc">Register</span><span class="w"> </span><span class="n">allocation</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">vcode</span>
<span class="n">VCode</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Entry</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">0</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block0</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">1</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="nc">args</span><span class="w"> </span><span class="o">%</span><span class="n">v192</span><span class="o">=%</span><span class="n">rdi</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="nc">jmp</span><span class="w">     </span><span class="n">label1</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">1</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block2</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">4</span><span class="p">([</span><span class="n">VReg</span><span class="p">(</span><span class="n">vreg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">197</span><span class="p">,</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Int</span><span class="p">)]))</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">2</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="nc">movq</span><span class="w"> </span><span class="mh">0x30</span><span class="p">(</span><span class="o">%</span><span class="n">v192</span><span class="p">),</span><span class="w"> </span><span class="o">%</span><span class="n">v200</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="nc">movq</span><span class="w"> </span><span class="mh">0x40</span><span class="p">(</span><span class="o">%</span><span class="n">v192</span><span class="p">),</span><span class="w"> </span><span class="o">%</span><span class="n">v199</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="nc">call</span><span class="w">    </span><span class="o">*%</span><span class="n">v200</span><span class="p">;</span><span class="w"> </span><span class="n">jmp</span><span class="w"> </span><span class="n">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="n">catch</span><span class="w"> </span><span class="p">[</span><span class="n">context</span><span class="w"> </span><span class="n">v192</span><span class="p">,</span><span class="w"> </span><span class="n">default</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">2</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block5</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">3</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="nc">jmp</span><span class="w">     </span><span class="n">label3</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">3</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block3</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">5</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">6</span><span class="p">:</span><span class="w"> </span><span class="nc">jmp</span><span class="w">     </span><span class="n">label5</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">4</span><span class="p">([</span><span class="n">VReg</span><span class="p">(</span><span class="n">vreg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">194</span><span class="p">,</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Int</span><span class="p">)]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block4</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">successor</span><span class="p">:</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="mi">5</span><span class="p">([]))</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">7</span><span class="p">:</span><span class="w"> </span><span class="nc">jmp</span><span class="w">     </span><span class="n">label5</span>
<span class="n">Block</span><span class="w"> </span><span class="mi">5</span><span class="p">([]):</span>
<span class="w">    </span><span class="p">(</span><span class="n">original</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="nc">block1</span><span class="p">)</span>
<span class="w">  </span><span class="n">Inst</span><span class="w"> </span><span class="mi">8</span><span class="p">:</span><span class="w"> </span><span class="nc">rets</span>
<span class="p">}</span>

<span class="n">Error</span><span class="p">:</span><span class="w"> </span><span class="nc">TooManyLiveRegs</span>
<span class="n">CLIF</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">error</span><span class="p">:</span>
<span class="nc">function</span><span class="w"> </span><span class="n">u0</span><span class="p">:</span><span class="mi">0</span><span class="p">(</span><span class="kt">i64</span><span class="w"> </span><span class="n">vmctx</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="n">tail</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">gv0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vmctx</span>
<span class="w">    </span><span class="n">gv1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i64</span><span class="w"> </span><span class="n">notrap</span><span class="w"> </span><span class="n">aligned</span><span class="w"> </span><span class="n">readonly</span><span class="w"> </span><span class="n">gv0</span><span class="o">+</span><span class="mi">8</span>
<span class="w">    </span><span class="n">gv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i64</span><span class="w"> </span><span class="n">notrap</span><span class="w"> </span><span class="n">aligned</span><span class="w"> </span><span class="n">gv1</span><span class="o">+</span><span class="mi">16</span>
<span class="w">    </span><span class="n">gv3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vmctx</span>
<span class="w">    </span><span class="n">sig0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">i64</span><span class="w"> </span><span class="n">vmctx</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="n">tail</span>
<span class="w">    </span><span class="n">stack_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gv2</span>

<span class="w">                                </span><span class="n">block0</span><span class="p">(</span><span class="n">v0</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="n">v1</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">):</span>
<span class="o">@</span><span class="mi">001</span><span class="n">e</span><span class="w">                               </span><span class="n">jump</span><span class="w"> </span><span class="n">block2</span>

<span class="w">                                </span><span class="n">block4</span><span class="p">(</span><span class="n">v2</span><span class="p">:</span><span class="w"> </span><span class="kt">i64</span><span class="p">):</span>
<span class="o">@</span><span class="mi">001</span><span class="n">e</span><span class="w">                               </span><span class="n">jump</span><span class="w"> </span><span class="n">block1</span>

<span class="w">                                </span><span class="n">block2</span><span class="p">:</span>
<span class="o">@</span><span class="mi">0023</span><span class="w">                               </span><span class="n">v6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i64</span><span class="w"> </span><span class="n">notrap</span><span class="w"> </span><span class="n">aligned</span><span class="w"> </span><span class="n">readonly</span><span class="w"> </span><span class="n">can_move</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">48</span>
<span class="o">@</span><span class="mi">0023</span><span class="w">                               </span><span class="n">v5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i64</span><span class="w"> </span><span class="n">notrap</span><span class="w"> </span><span class="n">aligned</span><span class="w"> </span><span class="n">readonly</span><span class="w"> </span><span class="n">can_move</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">64</span>
<span class="o">@</span><span class="mi">0023</span><span class="w">                               </span><span class="n">try_call_indirect</span><span class="w"> </span><span class="n">v6</span><span class="p">(</span><span class="n">v5</span><span class="p">,</span><span class="w"> </span><span class="n">v0</span><span class="p">),</span><span class="w"> </span><span class="n">sig0</span><span class="p">,</span><span class="w"> </span><span class="n">block5</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="n">v0</span><span class="p">,</span><span class="w"> </span><span class="n">default</span><span class="p">:</span><span class="w"> </span><span class="nc">block4</span><span class="p">(</span><span class="n">exn0</span><span class="p">)</span><span class="w"> </span><span class="p">]</span>

<span class="w">                                </span><span class="n">block5</span><span class="p">:</span>
<span class="o">@</span><span class="mi">0025</span><span class="w">                               </span><span class="n">jump</span><span class="w"> </span><span class="n">block3</span>

<span class="w">                                </span><span class="n">block3</span><span class="p">:</span>
<span class="o">@</span><span class="mi">0026</span><span class="w">                               </span><span class="n">jump</span><span class="w"> </span><span class="n">block1</span>

<span class="w">                                </span><span class="n">block1</span><span class="p">:</span>
<span class="o">@</span><span class="mi">0026</span><span class="w">                               </span><span class="k">return</span>
<span class="p">}</span>


<span class="n">thread</span><span class="w"> </span><span class="o">'&lt;</span><span class="n">unnamed</span><span class="o">&gt;'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">cranelift</span><span class="o">/</span><span class="n">codegen</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">machinst</span><span class="o">/</span><span class="n">compile</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">79</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span>
<span class="nc">register</span><span class="w"> </span><span class="n">allocation</span><span class="p">:</span><span class="w"> </span><span class="nc">TooManyLiveRegs</span>
<span class="n">note</span><span class="p">:</span><span class="w"> </span><span class="nc">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="err">`</span><span class="n">RUST_BACKTRACE</span><span class="o">=</span><span class="mi">1</span><span class="err">`</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">backtrace</span>
</code></pre></div>
<p>The original fuzz test case is:</p>
<p>&lt;details&gt;</p>
<p><div class="codehilite" data-code-language="wasm"><pre><span></span><code>(module
  (type (;0;) (func (result i64 f32 f64 v128 i32 i64 f32 v128 i32)))
  (type (;1;) (func (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i64 i32)))
  (import "\u{f3}\u{f4}" "" (table (;0;) 1995 179847 funcref))
  (import "" "" (func (;0;) (type 1)))
  (import "\u{e5}\u{e6}\u{e7}E" "" (func (;1;) (type 0)))
  (import "" "" (global (;0;) (mut i64)))
  (memory (;0;) 2316 49871)
  (global (;1;) (mut i32) i32.const 1000)
  (export "" (global 0))
  (export "1" (func 8))
  (elem (;0;) (table 0) (i32.const 109) func)
  (func (;2;) (type 1) (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i64 i32)
    (local f32 f64 v128 i32 f64 f32 f64 v128 i32 i64 f32 f64 f32 f64 v128 f64)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    block (result i32) ;; label = @1
      elem.drop 0
      loop ;; label = @2
        global.get 1
        i32.eqz
        if ;; label = @3
          unreachable
        end
        global.get 1
        i32.const 1
        i32.sub
        global.set 1
        data.drop 1
        data.drop 1
        data.drop 1
        i64.const 127125275142234563
        f32.convert_i64_u
        i32.trunc_f32_s
        block ;; label = @3
          block (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32) ;; label = @4
            call 5
            f32.const 0x1.p-142 (;=0.00000000000000000000000000000000000000000018;)
            i32.trunc_sat_f32_s
            i32.sub
            v128.load32x2_s offset=3067064003
            i16x8.extmul_high_i8x16_u
            f64x2.trunc
            i32x4.extend_high_i16x8_s
            f64x2.convert_low_i32x4_u
            i32x4.all_true
            v128.load32x2_s offset=96519093
            f32x4.floor
            i64x2.extract_lane 1
            loop ;; label = @5
              global.get 1
              i32.eqz
              if ;; label = @6
                unreachable
              end
              global.get 1
              i32.const 1
              i32.sub
              global.set 1
              data.drop 1
              data.drop 0
              f32.const -0x1.873386p-74 (;=-0.000000000000000000000080898525;)
              i64.const -4349457152578708029
              loop ;; label = @6
                global.get 1
                i32.eqz
                if ;; label = @7
                  unreachable
                end
                global.get 1
                i32.const 1
                i32.sub
                global.set 1
                data.drop 1
                data.drop 1
                data.drop 0
                loop ;; label = @7
                  global.get 1
                  i32.eqz
                  if ;; label = @8
                    unreachable
                  end
                  global.get 1
                  i32.const 1
                  i32.sub
                  global.set 1
                  try_table (catch_all 4 (;@3;)) (catch_all 0 (;@7;)) (catch_all 0 (;@7;)) (catch_all 0 (;@7;)) (catch_all 0 (;@7;)) (catch_all 0 (;@7;)) (catch_all 1 (;@6;)) (catch_all 0 (;@7;)) ;; label = @8
                    loop ;; label = @9
                      global.get 1
                      i32.eqz
                      if ;; label = @10
                        unreachable
                      end
                      global.get 1
                      i32.const 1
                      i32.sub
                      global.set 1
                      data.drop 1
                      loop (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32) ;; label = @10
                        global.get 1
                        i32.eqz
                        if ;; label = @11
                          unreachable
                        end
                        global.get 1
                        i32.const 1
                        i32.sub
                        global.set 1
                        call 1
                        block ;; label = @11
                          data.drop 1
                          data.drop 1
                          data.drop 1
                          data.drop 1
                          data.drop 1
                          data.drop 0
                          elem.drop 0
                          br 6 (;@5;)
                          call 7
                          try_table (catch_all 6 (;@5;)) (catch_all 2 (;@9;)) ;; label = @12
                            call 5
                            block (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32) ;; label = @13
                              try_table (result i32) (catch_all 8 (;@5;)) (catch_all 11 (;@2;)) ;; label = @14
                                br 2 (;@12;)
                                call 5
                                i64x2.shr_s
                                i64x2.extend_low_i32x4_s
                                i16x8.extract_lane_u 3
                                v128.load8_splat offset=3184506367
                                v128.const i32x4 0xc3b7c3b6 0xc3b9c3b8 0xbbc3ba2a 0xc3b6bcc3
                                i8x16.max_s
                                elem.drop 0
                                elem.drop 0
                                try_table ;; label = @15
                                end
                                unreachable
                              end
                              unreachable
                            end
                            unreachable
                          end
                          unreachable
                        end
                      end
                      unreachable
                    end
                  end
                end
              end
              unreachable
            end
            unreachable
          end
          unreachable
        end
        unreachable
      end
      unreachable
    end
    unreachable
  )
  (func (;3;) (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;4;) (type 1) (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i64 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;5;) (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;6;) (type 1) (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i64 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;7;) (type 0) (result i64 f32 f64 v128 i32 i64 f32 v128 i32)
    global.get 1
    i32.eqz
    if ;; label = @1
      unreachable
    end
    global.get 1
    i32.const 1
    i32.sub
    global.set 1
    unreachable
  )
  (func (;8;) (type 1) (param f32 f64 v128 i32 i64 f32 f64 f32 i32 i64 f32 f64 v128) (result i32 i64 f32 f64 i64 i32 i64 i32)

[message truncated]
</code></pre></div><br>
</p>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>