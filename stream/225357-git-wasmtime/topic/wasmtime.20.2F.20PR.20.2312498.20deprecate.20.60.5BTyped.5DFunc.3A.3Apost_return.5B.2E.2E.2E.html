<html>
<head><meta charset="utf-8"><title>wasmtime / PR #12498 deprecate `[Typed]Func::post_return[... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html">wasmtime / PR #12498 deprecate `[Typed]Func::post_return[...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="571538520"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571538520" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571538520">(Feb 02 2026 at 22:34)</a>:</h4>
<p><strong>dicej</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571538523"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571538523" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571538523">(Feb 02 2026 at 22:34)</a>:</h4>
<p>dicej opened <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a> from <code>dicej:deprecate-post-return</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>With the advent of the Component Model concurrency ABI and it's <code>task.return</code> intrinsic, post-return functions have been informally deprecated and are expected to be removed for WASI 1.0 and the corresponding stable edition of the Component Model.  Consequently, it does not make sense anymore to require embedders to explicitly call the post-return function after using <code>[Typed]Func::call[_async]</code>.</p>
<p>As of this commit, <code>[Typed]Func::post_return[_async]</code> are no-ops.  Instead, the post-return function is called automatically as part of <code>[Typed]Func::call[_async]</code> if present, which is how <code>[Typed]Func::call_concurrent</code> has worked all along.  In addition, this commit fixes and tests a couple of cases where the task and/or thread was being disposed of before the post-return function was called.</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="571538528"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571538528" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571538528">(Feb 02 2026 at 22:34)</a>:</h4>
<p><strong>dicej</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-fuzz-reviewers">wasmtime-fuzz-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571538531"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571538531" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571538531">(Feb 02 2026 at 22:34)</a>:</h4>
<p><strong>dicej</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571538532"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571538532" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571538532">(Feb 02 2026 at 22:34)</a>:</h4>
<p><strong>dicej</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571553214"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571553214" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571553214">(Feb 03 2026 at 01:06)</a>:</h4>
<p>github-actions[bot] added the label <code>wasmtime:c-api</code> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571553215"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571553215" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571553215">(Feb 03 2026 at 01:06)</a>:</h4>
<p>github-actions[bot] added the label <code>wasmtime:api</code> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571553216"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571553216" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571553216">(Feb 03 2026 at 01:06)</a>:</h4>
<p>github-actions[bot] added the label <code>wizer</code> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571553217"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571553217" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571553217">(Feb 03 2026 at 01:06)</a>:</h4>
<p>github-actions[bot] added the label <code>fuzzing</code> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571553329"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571553329" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571553329">(Feb 03 2026 at 01:06)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#issuecomment-3838195927">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "fuzzing", "wasmtime:api", "wasmtime:c-api", "wizer"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>fitzgen: fuzzing, wizer</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="571555484"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571555484" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571555484">(Feb 03 2026 at 01:29)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#pullrequestreview-3742339367">PR review</a>:</p>
<blockquote>
<p>For the "Monolith checks" CI job if you rebase on <code>main</code> that'll resolve that error</p>
</blockquote>



<a name="571555485"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571555485" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571555485">(Feb 03 2026 at 01:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#discussion_r2756679728">PR review comment</a>:</p>
<blockquote>
<p>Can this percolate up into the C API documentation to indicate that the function is a noop?</p>
</blockquote>



<a name="571555486"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571555486" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571555486">(Feb 03 2026 at 01:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#discussion_r2756680244">PR review comment</a>:</p>
<blockquote>
<p>It's ok to just return <code>None</code> from this function, no need to use the <code>handle_result</code> helper</p>
</blockquote>



<a name="571555487"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571555487" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571555487">(Feb 03 2026 at 01:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#discussion_r2756701546">PR review comment</a>:</p>
<blockquote>
<p>Could this be clarified to indicate that calls can be removed? Something like "no longer needed to call this, this function has no effect" or something like that. Mostly something to at-a-glance ensure users see that the solution is to just delete the call to this function.</p>
</blockquote>



<a name="571555488"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571555488" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571555488">(Feb 03 2026 at 01:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#discussion_r2756719350">PR review comment</a>:</p>
<blockquote>
<p>In theory we can probably jettison all this handling since the only purpose of this flag was for the API of a dedicated <code>post_return</code> function itself. That's fine to defer to later though</p>
</blockquote>



<a name="571555489"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571555489" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571555489">(Feb 03 2026 at 01:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#discussion_r2756721002">PR review comment</a>:</p>
<blockquote>
<p>Should the boolean parameter to <code>with_lower_context</code> get removed as well? I think it's always <code>true</code> now, right?</p>
</blockquote>



<a name="571555490"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571555490" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571555490">(Feb 03 2026 at 01:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#discussion_r2756722847">PR review comment</a>:</p>
<blockquote>
<p>Similar to <code>TypedFunc</code>, I think this'd be good to merge into <code>call_impl</code> to ensure that no-concurrency <code>call_async</code> also calls post-return (I think it's missing that currently)</p>
</blockquote>



<a name="571555491"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571555491" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571555491">(Feb 03 2026 at 01:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#discussion_r2756698371">PR review comment</a>:</p>
<blockquote>
<p>This reminds me that this was actually intentional that it's inserted between <code>call_async</code> and <code>post_return_async</code>. This <a href="https://github.com/bytecodealliance/wasmtime/blob/f248b5c06d041681a0c9d629d5c4146fe8bac860/crates/wizer/src/component/wasmtime.rs#L127">specifically uses <code>WasmList&lt;u8&gt;</code></a> to avoid copying the entire memory. That being said though there's <a href="https://github.com/bytecodealliance/wasmtime/blob/f248b5c06d041681a0c9d629d5c4146fe8bac860/crates/wizer/src/component/instrument.rs#L284-L290">no post-return on this function</a> so it's fine either way. Mostly just a quirk I figured I'd point out</p>
</blockquote>



<a name="571555492"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571555492" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571555492">(Feb 03 2026 at 01:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#discussion_r2756714583">PR review comment</a>:</p>
<blockquote>
<p>Can this get folded into <code>call_impl</code>? It looks like, for example, that below <code>call_async</code> may not be calling <code>post-return</code>  when concurrency is disabled. Mind expanding the test coverage to catch that as well? In theory it's mostly a matter of finding the case already testing this and then also do the same thing for <code>Config::concurrency_support(false)</code></p>
</blockquote>



<a name="571555493"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571555493" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571555493">(Feb 03 2026 at 01:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#discussion_r2756725722">PR review comment</a>:</p>
<blockquote>
<p>I think this function on <code>vm::ComponentInstance</code>, as well as the internal slot for this, may all be deletable now too</p>
</blockquote>



<a name="571675342"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571675342" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571675342">(Feb 03 2026 at 14:23)</a>:</h4>
<p>dicej submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#pullrequestreview-3745584428">PR review</a>.</p>



<a name="571675344"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571675344" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571675344">(Feb 03 2026 at 14:23)</a>:</h4>
<p>dicej created <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#discussion_r2759351083">PR review comment</a>:</p>
<blockquote>
<p>I thought so too, at first, but we pass <code>false</code> to it in <code>call_raw</code>.</p>
</blockquote>



<a name="571703538"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571703538" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571703538">(Feb 03 2026 at 16:10)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#discussion_r2759856230">PR review comment</a>:</p>
<blockquote>
<p>I think we'll still want to work to jettison the boolean in the long-run since that flag there looks like it's also related to post-return which isn't needed any more, but that's ok to happen in a follow-up.</p>
</blockquote>



<a name="571703542"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571703542" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571703542">(Feb 03 2026 at 16:10)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#pullrequestreview-3746178354">PR review</a>.</p>



<a name="571713234"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571713234" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571713234">(Feb 03 2026 at 16:51)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571724919"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571724919" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571724919">(Feb 03 2026 at 17:43)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571726587"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571726587" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571726587">(Feb 03 2026 at 17:52)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571728730"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571728730" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571728730">(Feb 03 2026 at 18:02)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571730873"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571730873" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571730873">(Feb 03 2026 at 18:14)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571736979"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571736979" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571736979">(Feb 03 2026 at 18:47)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571737045"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571737045" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571737045">(Feb 03 2026 at 18:47)</a>:</h4>
<p><strong>dicej</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571737192"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571737192" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571737192">(Feb 03 2026 at 18:48)</a>:</h4>
<p>dicej <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#issuecomment-3843052370">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>:</p>
<blockquote>
<p>@alexcrichton thanks for the feedback as always.  I believe I've addressed everything, including removing the obsolete functions, flags, fields, and parameters.</p>
</blockquote>



<a name="571738790"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571738790" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571738790">(Feb 03 2026 at 18:56)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/12498#pullrequestreview-3747028324">PR review</a>.</p>



<a name="571739055"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571739055" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571739055">(Feb 03 2026 at 18:58)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571739099"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571739099" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571739099">(Feb 03 2026 at 18:58)</a>:</h4>
<p>dicej has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571742090"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571742090" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571742090">(Feb 03 2026 at 19:13)</a>:</h4>
<p>dicej added <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498 deprecate <code>[Typed]Func::post_return[_async]</code> and make them no-ops</a> to the merge queue.</p>



<a name="571746680"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571746680" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571746680">(Feb 03 2026 at 19:37)</a>:</h4>
<p>dicej merged <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498</a>.</p>



<a name="571746682"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2312498%20deprecate%20%60%5BTyped%5DFunc%3A%3Apost_return%5B.../near/571746682" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2312498.20deprecate.20.60.5BTyped.5DFunc.3A.3Apost_return.5B.2E.2E.2E.html#571746682">(Feb 03 2026 at 19:37)</a>:</h4>
<p>dicej removed <a href="https://github.com/bytecodealliance/wasmtime/pull/12498">PR #12498 deprecate <code>[Typed]Func::post_return[_async]</code> and make them no-ops</a> from the merge queue.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>