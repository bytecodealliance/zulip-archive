<html>
<head><meta charset="utf-8"><title>wasmtime / issue #10662 Cranelift: Dynamic linking (with ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310662.20Cranelift.3A.20Dynamic.20linking.20.28with.20.2E.2E.2E.html">wasmtime / issue #10662 Cranelift: Dynamic linking (with ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="513979972"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310662%20Cranelift%3A%20Dynamic%20linking%20%28with%20.../near/513979972" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310662.20Cranelift.3A.20Dynamic.20linking.20.28with.20.2E.2E.2E.html#513979972">(Apr 23 2025 at 23:24)</a>:</h4>
<p><a href="https://github.com/BigBadE">BigBadE</a> added the bug label to <a href="https://github.com/bytecodealliance/wasmtime/issues/10662">Issue #10662</a>.</p>



<a name="513979973"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310662%20Cranelift%3A%20Dynamic%20linking%20%28with%20.../near/513979973" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310662.20Cranelift.3A.20Dynamic.20linking.20.28with.20.2E.2E.2E.html#513979973">(Apr 23 2025 at 23:24)</a>:</h4>
<p><a href="https://github.com/BigBadE">BigBadE</a> added the cranelift label to <a href="https://github.com/bytecodealliance/wasmtime/issues/10662">Issue #10662</a>.</p>



<a name="513979976"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310662%20Cranelift%3A%20Dynamic%20linking%20%28with%20.../near/513979976" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310662.20Cranelift.3A.20Dynamic.20linking.20.28with.20.2E.2E.2E.html#513979976">(Apr 23 2025 at 23:24)</a>:</h4>
<p>BigBadE opened <a href="https://github.com/bytecodealliance/wasmtime/issues/10662">issue #10662</a>:</p>
<blockquote>
<h3>Steps to Reproduce</h3>
<p>A simple Bevy program:</p>
<p>fn main() {<br>
    bevy::prelude::App::new().run();<br>
}</p>
<p>With Bevy:<br>
bevy = { version = "0.15.3", features = ["dynamic-linking"] }</p>
<h3>Expected Results</h3>
<p>The app to run without panicing</p>
<h3>Actual Results</h3>
<p>thread 'main' panicked at C:\Users\(me).cargo\registry\src\index.crates.io-1949cf8c6b5b557f\bevy_tasks-0.15.3\src\task_pool.rs:181:22:<br>
Failed to spawn thread.: Os { code: 87, kind: InvalidInput, message: "The parameter is incorrect." }<br>
stack backtrace:<br>
0: 0x7ffc16f06ee2 - std::backtrace_rs::backtrace::win64::trace<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\std\src....\backtrace\src\backtrace\win64.rs:85<br>
1: 0x7ffc16f06ee2 - std::backtrace_rs::backtrace::trace_unsynchronized<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\std\src....\backtrace\src\backtrace\mod.rs:66<br>
2: 0x7ffc16f06ee2 - std::sys::backtrace::_print_fmt<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\std\src\sys\backtrace.rs:66<br>
3: 0x7ffc16f06ee2 - std::sys::backtrace::impl$0::print::impl$0::fmt<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\std\src\sys\backtrace.rs:39<br>
4: 0x7ffc16f3a50a - core::fmt::rt::Argument::fmt<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\core\src\fmt\rt.rs:185<br>
5: 0x7ffc16f3a50a - core::fmt::write<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\core\src\fmt\mod.rs:1449<br>
6: 0x7ffc16efcc17 - std::io::Write::write_fmtstd::sys::stdio::windows::Stderr<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\std\src\io\mod.rs:1890<br>
7: 0x7ffc16f06d25 - std::sys::backtrace::BacktraceLock::print<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\std\src\sys\backtrace.rs:42<br>
8: 0x7ffc16f0b32a - std::panicking::default_hook::closure$0<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\std\src\panicking.rs:298<br>
9: 0x7ffc16f0b0c0 - std::panicking::default_hook<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\std\src\panicking.rs:325<br>
10: 0x7ffc16f0bf7f - std::panicking::rust_panic_with_hook<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\std\src\panicking.rs:831<br>
11: 0x7ffc16f0bd19 - std::panicking::begin_panic_handler::closure$0<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\std\src\panicking.rs:704<br>
12: 0x7ffc16f07c9f - std::sys::backtrace::__rust_end_short_backtracestd::panicking::begin_panic_handler::closure_env$0,never$<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\std\src\sys\backtrace.rs:168<br>
13: 0x7ffc16f0b91e - std::panicking::begin_panic_handler<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\std\src\panicking.rs:695<br>
14: 0x7ffc16f68541 - core::panicking::panic_fmt<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\core\src\panicking.rs:75<br>
15: 0x7ffc16f68b40 - core::result::unwrap_failed<br>
at /rustc/43a2e9d2c72db101f5fedac8b3acb78981b06bf2/library\core\src\result.rs:1704<br>
error: process didn't exit successfully: target\debug\test.exe (exit code: 0xe06d7363)</p>
<h3>Versions and Environment</h3>
<p>Cranelift version or commit: Latest rustc-codegen-cranelift-preview from rustc</p>
<p>Operating system: Windows 10 (confirmed working on Ubuntu)</p>
<p>Architecture: x86_64</p>
<h3>Extra Info</h3>
<p>This occurred with both lld and msvc's linker.</p>
<p>Bevy issue: <a href="https://github.com/bevyengine/bevy/issues/18862#issuecomment-2824132209">https://github.com/bevyengine/bevy/issues/18862#issuecomment-2824132209</a></p>
</blockquote>



<a name="513981581"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310662%20Cranelift%3A%20Dynamic%20linking%20%28with%20.../near/513981581" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310662.20Cranelift.3A.20Dynamic.20linking.20.28with.20.2E.2E.2E.html#513981581">(Apr 23 2025 at 23:42)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/issues/10662#issuecomment-2825775632">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10662">issue #10662</a>:</p>
<blockquote>
<p>I think this issue belongs in <a href="https://github.com/rust-lang/rustc_codegen_cranelift">https://github.com/rust-lang/rustc_codegen_cranelift</a> - @bjorn3 ?</p>
</blockquote>



<a name="513987126"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310662%20Cranelift%3A%20Dynamic%20linking%20%28with%20.../near/513987126" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310662.20Cranelift.3A.20Dynamic.20linking.20.28with.20.2E.2E.2E.html#513987126">(Apr 24 2025 at 00:38)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/10662">issue #10662</a>:</p>
<blockquote>
<h3>Steps to Reproduce</h3>
<p>A simple Bevy program:</p>
<p>fn main() {<br>
    bevy::prelude::App::new().run();<br>
}</p>
<p>With Bevy:<br>
bevy = { version = "0.15.3", features = ["dynamic-linking"] }</p>
<h3>Expected Results</h3>
<p>The app to run without panicing</p>
<h3>Actual Results</h3>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">thread</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">C</span><span class="p">:</span><span class="err">\</span><span class="n">Users</span><span class="err">\</span><span class="p">(</span><span class="n">me</span><span class="p">).</span><span class="n">cargo</span><span class="err">\</span><span class="n">registry</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">1949</span><span class="n">cf8c6b5b557f</span><span class="err">\</span><span class="n">bevy_tasks</span><span class="o">-</span><span class="mf">0.15.3</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">task_pool</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">181</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span>
<span class="nc">Failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">spawn</span><span class="w"> </span><span class="n">thread</span><span class="p">.:</span><span class="w"> </span><span class="nc">Os</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">code</span><span class="p">:</span><span class="w"> </span><span class="mi">87</span><span class="p">,</span><span class="w"> </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">InvalidInput</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">:</span><span class="w"> </span><span class="s">"The parameter is incorrect."</span><span class="w"> </span><span class="p">}</span>
<span class="n">stack</span><span class="w"> </span><span class="n">backtrace</span><span class="p">:</span>
<span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f06ee2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">backtrace_rs</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="n">win64</span><span class="p">::</span><span class="n">trace</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="o">....</span><span class="err">\</span><span class="n">backtrace</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">backtrace</span><span class="err">\</span><span class="n">win64</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">85</span>
<span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f06ee2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">backtrace_rs</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="n">trace_unsynchronized</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="o">....</span><span class="err">\</span><span class="n">backtrace</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">backtrace</span><span class="err">\</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">66</span>
<span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f06ee2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">sys</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="n">_print_fmt</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">sys</span><span class="err">\</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">66</span>
<span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f06ee2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">sys</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="k">impl</span><span class="cp">$</span><span class="mi">0</span><span class="p">::</span><span class="n">print</span><span class="p">::</span><span class="k">impl</span><span class="cp">$</span><span class="mi">0</span><span class="p">::</span><span class="n">fmt</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">sys</span><span class="err">\</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">39</span>
<span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f3a50a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">fmt</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">Argument</span><span class="p">::</span><span class="n">fmt</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">core</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">fmt</span><span class="err">\</span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">185</span>
<span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f3a50a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">fmt</span><span class="p">::</span><span class="n">write</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">core</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">fmt</span><span class="err">\</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1449</span>
<span class="mi">6</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16efcc17</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">io</span><span class="p">::</span><span class="n">Write</span><span class="p">::</span><span class="n">write_fmtstd</span><span class="p">::</span><span class="n">sys</span><span class="p">::</span><span class="n">stdio</span><span class="p">::</span><span class="n">windows</span><span class="p">::</span><span class="n">Stderr</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">io</span><span class="err">\</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1890</span>
<span class="mi">7</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f06d25</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">sys</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="n">BacktraceLock</span><span class="p">::</span><span class="n">print</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">sys</span><span class="err">\</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">42</span>
<span class="mi">8</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f0b32a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">default_hook</span><span class="p">::</span><span class="n">closure</span><span class="cp">$</span><span class="mi">0</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">298</span>
<span class="mi">9</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f0b0c0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">default_hook</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">325</span>
<span class="mi">10</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f0bf7f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">rust_panic_with_hook</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">831</span>
<span class="mi">11</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f0bd19</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">begin_panic_handler</span><span class="p">::</span><span class="n">closure</span><span class="cp">$</span><span class="mi">0</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">704</span>
<span class="mi">12</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f07c9f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">sys</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="n">__rust_end_short_backtracestd</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">begin_panic_handler</span><span class="p">::</span><span class="n">closure_env</span><span class="cp">$</span><span class="mi">0</span><span class="p">,</span><span class="n">never</span><span class="cp">$</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">sys</span><span class="err">\</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">168</span>
<span class="mi">13</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f0b91e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">begin_panic_handler</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">695</span>
<span class="mi">14</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f68541</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">panic_fmt</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">core</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">75</span>
<span class="mi">15</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f68b40</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">result</span><span class="p">::</span><span class="n">unwrap_failed</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">core</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">result</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1704</span>
<span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="nc">process</span><span class="w"> </span><span class="n">didn</span><span class="o">'</span><span class="na">t</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="n">successfully</span><span class="p">:</span><span class="w"> </span><span class="nc">target</span><span class="err">\</span><span class="n">debug</span><span class="err">\</span><span class="n">test</span><span class="p">.</span><span class="n">exe</span><span class="w"> </span><span class="p">(</span><span class="n">exit</span><span class="w"> </span><span class="n">code</span><span class="p">:</span><span class="w"> </span><span class="mh">0xe06d7363</span><span class="p">)</span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Cranelift version or commit: Latest rustc-codegen-cranelift-preview from rustc</p>
<p>Operating system: Windows 10 (confirmed working on Ubuntu)</p>
<p>Architecture: x86_64</p>
<h3>Extra Info</h3>
<p>This occurred with both lld and msvc's linker.</p>
<p>Bevy issue: <a href="https://github.com/bevyengine/bevy/issues/18862#issuecomment-2824132209">https://github.com/bevyengine/bevy/issues/18862#issuecomment-2824132209</a></p>
</blockquote>



<a name="514000894"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310662%20Cranelift%3A%20Dynamic%20linking%20%28with%20.../near/514000894" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310662.20Cranelift.3A.20Dynamic.20linking.20.28with.20.2E.2E.2E.html#514000894">(Apr 24 2025 at 03:11)</a>:</h4>
<p>BigBadE <a href="https://github.com/bytecodealliance/wasmtime/issues/10662#issuecomment-2826181942">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10662">issue #10662</a>:</p>
<blockquote>
<p>Ah, I got the wrong repo?</p>
</blockquote>



<a name="514012682"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310662%20Cranelift%3A%20Dynamic%20linking%20%28with%20.../near/514012682" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310662.20Cranelift.3A.20Dynamic.20linking.20.28with.20.2E.2E.2E.html#514012682">(Apr 24 2025 at 05:00)</a>:</h4>
<p>cfallin closed <a href="https://github.com/bytecodealliance/wasmtime/issues/10662">issue #10662</a>:</p>
<blockquote>
<h3>Steps to Reproduce</h3>
<p>A simple Bevy program:</p>
<p>fn main() {<br>
    bevy::prelude::App::new().run();<br>
}</p>
<p>With Bevy:<br>
bevy = { version = "0.15.3", features = ["dynamic-linking"] }</p>
<h3>Expected Results</h3>
<p>The app to run without panicing</p>
<h3>Actual Results</h3>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">thread</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">C</span><span class="p">:</span><span class="err">\</span><span class="n">Users</span><span class="err">\</span><span class="p">(</span><span class="n">me</span><span class="p">).</span><span class="n">cargo</span><span class="err">\</span><span class="n">registry</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">1949</span><span class="n">cf8c6b5b557f</span><span class="err">\</span><span class="n">bevy_tasks</span><span class="o">-</span><span class="mf">0.15.3</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">task_pool</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">181</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span>
<span class="nc">Failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">spawn</span><span class="w"> </span><span class="n">thread</span><span class="p">.:</span><span class="w"> </span><span class="nc">Os</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">code</span><span class="p">:</span><span class="w"> </span><span class="mi">87</span><span class="p">,</span><span class="w"> </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">InvalidInput</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">:</span><span class="w"> </span><span class="s">"The parameter is incorrect."</span><span class="w"> </span><span class="p">}</span>
<span class="n">stack</span><span class="w"> </span><span class="n">backtrace</span><span class="p">:</span>
<span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f06ee2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">backtrace_rs</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="n">win64</span><span class="p">::</span><span class="n">trace</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="o">....</span><span class="err">\</span><span class="n">backtrace</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">backtrace</span><span class="err">\</span><span class="n">win64</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">85</span>
<span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f06ee2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">backtrace_rs</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="n">trace_unsynchronized</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="o">....</span><span class="err">\</span><span class="n">backtrace</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">backtrace</span><span class="err">\</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">66</span>
<span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f06ee2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">sys</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="n">_print_fmt</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">sys</span><span class="err">\</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">66</span>
<span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f06ee2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">sys</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="k">impl</span><span class="cp">$</span><span class="mi">0</span><span class="p">::</span><span class="n">print</span><span class="p">::</span><span class="k">impl</span><span class="cp">$</span><span class="mi">0</span><span class="p">::</span><span class="n">fmt</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">sys</span><span class="err">\</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">39</span>
<span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f3a50a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">fmt</span><span class="p">::</span><span class="n">rt</span><span class="p">::</span><span class="n">Argument</span><span class="p">::</span><span class="n">fmt</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">core</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">fmt</span><span class="err">\</span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">185</span>
<span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f3a50a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">fmt</span><span class="p">::</span><span class="n">write</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">core</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">fmt</span><span class="err">\</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1449</span>
<span class="mi">6</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16efcc17</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">io</span><span class="p">::</span><span class="n">Write</span><span class="p">::</span><span class="n">write_fmtstd</span><span class="p">::</span><span class="n">sys</span><span class="p">::</span><span class="n">stdio</span><span class="p">::</span><span class="n">windows</span><span class="p">::</span><span class="n">Stderr</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">io</span><span class="err">\</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1890</span>
<span class="mi">7</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f06d25</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">sys</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="n">BacktraceLock</span><span class="p">::</span><span class="n">print</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">sys</span><span class="err">\</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">42</span>
<span class="mi">8</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f0b32a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">default_hook</span><span class="p">::</span><span class="n">closure</span><span class="cp">$</span><span class="mi">0</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">298</span>
<span class="mi">9</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f0b0c0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">default_hook</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">325</span>
<span class="mi">10</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f0bf7f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">rust_panic_with_hook</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">831</span>
<span class="mi">11</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f0bd19</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">begin_panic_handler</span><span class="p">::</span><span class="n">closure</span><span class="cp">$</span><span class="mi">0</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">704</span>
<span class="mi">12</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f07c9f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">sys</span><span class="p">::</span><span class="n">backtrace</span><span class="p">::</span><span class="n">__rust_end_short_backtracestd</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">begin_panic_handler</span><span class="p">::</span><span class="n">closure_env</span><span class="cp">$</span><span class="mi">0</span><span class="p">,</span><span class="n">never</span><span class="cp">$</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">sys</span><span class="err">\</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">168</span>
<span class="mi">13</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f0b91e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">begin_panic_handler</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">std</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">695</span>
<span class="mi">14</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f68541</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">panic_fmt</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">core</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">75</span>
<span class="mi">15</span><span class="p">:</span><span class="w"> </span><span class="mh">0x7ffc16f68b40</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">result</span><span class="p">::</span><span class="n">unwrap_failed</span>
<span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">43</span><span class="n">a2e9d2c72db101f5fedac8b3acb78981b06bf2</span><span class="o">/</span><span class="n">library</span><span class="err">\</span><span class="n">core</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">result</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">1704</span>
<span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="nc">process</span><span class="w"> </span><span class="n">didn</span><span class="o">'</span><span class="na">t</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="n">successfully</span><span class="p">:</span><span class="w"> </span><span class="nc">target</span><span class="err">\</span><span class="n">debug</span><span class="err">\</span><span class="n">test</span><span class="p">.</span><span class="n">exe</span><span class="w"> </span><span class="p">(</span><span class="n">exit</span><span class="w"> </span><span class="n">code</span><span class="p">:</span><span class="w"> </span><span class="mh">0xe06d7363</span><span class="p">)</span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Cranelift version or commit: Latest rustc-codegen-cranelift-preview from rustc</p>
<p>Operating system: Windows 10 (confirmed working on Ubuntu)</p>
<p>Architecture: x86_64</p>
<h3>Extra Info</h3>
<p>This occurred with both lld and msvc's linker.</p>
<p>Bevy issue: <a href="https://github.com/bevyengine/bevy/issues/18862#issuecomment-2824132209">https://github.com/bevyengine/bevy/issues/18862#issuecomment-2824132209</a></p>
</blockquote>



<a name="514012683"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310662%20Cranelift%3A%20Dynamic%20linking%20%28with%20.../near/514012683" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310662.20Cranelift.3A.20Dynamic.20linking.20.28with.20.2E.2E.2E.html#514012683">(Apr 24 2025 at 05:00)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/10662#issuecomment-2826388981">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10662">issue #10662</a>:</p>
<blockquote>
<p>@BigBadE Cranelift is a general compiler backend; the specific use-case of Cranelift as a Rust compiler backend is called <code>rustc_codegen_cranelift</code>, or <code>cg_clif</code> for short, involves translation from rustc's internal IR to Cranelift's IR, and is maintained by @bjorn3 at <a href="https://github.com/rust-lang/rustc_codegen_cranelift">https://github.com/rust-lang/rustc_codegen_cranelift</a>. You'll probably want to file an issue there -- if it turns out to be an issue in the underlying Cranelift library (as opposed to <code>cg_clif</code>), they can triage and file here. This issue tracker is mainly for those who use the Cranelift library directly. Thanks!</p>
</blockquote>



<a name="514013542"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%2310662%20Cranelift%3A%20Dynamic%20linking%20%28with%20.../near/514013542" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.2310662.20Cranelift.3A.20Dynamic.20linking.20.28with.20.2E.2E.2E.html#514013542">(Apr 24 2025 at 05:10)</a>:</h4>
<p>BigBadE <a href="https://github.com/bytecodealliance/wasmtime/issues/10662#issuecomment-2826401350">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/10662">issue #10662</a>:</p>
<blockquote>
<p><a href="https://github.com/rust-lang/rustc_codegen_cranelift/issues/1530">https://github.com/rust-lang/rustc_codegen_cranelift/issues/1530</a> Looks like my searching missed an issue already posted there, oops! Thanks for telling me.</p>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>