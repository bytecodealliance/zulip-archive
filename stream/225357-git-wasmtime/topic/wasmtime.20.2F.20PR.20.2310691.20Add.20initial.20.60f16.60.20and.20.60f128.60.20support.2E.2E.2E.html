<html>
<head><meta charset="utf-8"><title>wasmtime / PR #10691 Add initial `f16` and `f128` support... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html">wasmtime / PR #10691 Add initial `f16` and `f128` support...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="514909057"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/514909057" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#514909057">(Apr 28 2025 at 21:43)</a>:</h4>
<p>beetrees opened <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a> from <code>beetrees:f16-f128-s390x-mvp</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This PR adds initial support for passing <code>f16</code> and <code>f128</code> values around to the s390x backend. Support is added for the <code>load</code>, <code>store</code>, <code>bitcast</code>, <code>f16const</code> and <code>f128const</code> CLIF instructions.</p>
<p>Note that the <a href="https://github.com/IBM/s390x-abi/releases">s390x ABI specification</a> currently does not specify the ABI for <code>f16</code>. However, Clang recently added support for <code>f16</code> in <a href="https://github.com/llvm/llvm-project/pull/109164">https://github.com/llvm/llvm-project/pull/109164</a> (as opposed to LLVM just supporting it at the LLVM IR level) using a straightforward extrapolation of the ABI (passing <code>f16</code> in floating point registers just like <code>f32</code> and <code>f64</code>), so on that basis I've not put the <code>f16</code> ABI behind the <code>enable_llvm_abi_extensions</code> setting.</p>
<p><code>f16</code>/<code>f128</code> issue: <a href="https://github.com/bytecodealliance/wasmtime/issues/8312">https://github.com/bytecodealliance/wasmtime/issues/8312</a></p>
</blockquote>



<a name="514909058"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/514909058" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#514909058">(Apr 28 2025 at 21:43)</a>:</h4>
<p><strong>beetrees</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>.</p>



<a name="514909059"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/514909059" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#514909059">(Apr 28 2025 at 21:43)</a>:</h4>
<p><strong>beetrees</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>.</p>



<a name="514913357"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/514913357" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#514913357">(Apr 28 2025 at 22:19)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/10691#issuecomment-2836863815">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>:</p>
<blockquote>
<p>cc @uweigand -- would you mind reviewing the s390x backend changes here? (Thanks!)</p>
</blockquote>



<a name="514922699"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/514922699" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#514922699">(Apr 28 2025 at 23:44)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/10691#issuecomment-2837025478">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @cfallin, @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift", "cranelift:area:machinst", "isle"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>cfallin: isle</li>
<li>fitzgen: isle</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="515050606"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/515050606" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#515050606">(Apr 29 2025 at 12:35)</a>:</h4>
<p>uweigand <a href="https://github.com/bytecodealliance/wasmtime/pull/10691#issuecomment-2838653548">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>:</p>
<blockquote>
<p>Thanks for working on s390x!  For f128, current hardware actually has two different ways of representing them - there's the "traditional" way of splitting an f128 value across a pair of 64-bit floating-point registers, but since z14 we can also hold f128 values in a single vector register, with a full set of arithmetic operations available.</p>
<p>This patch is based on the traditional FPR pair approach, but I would much prefer using single vector registers, for several reasons:</p>
<ul>
<li>z14 is the minimum architecture level for cranelift, so the VR-based instructions are always available</li>
<li>Handling a single VR is much simpler than handling a pair of FPRs</li>
<li>Specifically, while your patch hasn't run into this problem yet, once you actually want to use any of the traditional f128 arithmetic instructions, those only operate on architected <em>pairs</em> (N, N+2), not any two random FPRs.  But the cranelift regalloc actually isn't capable of allocating pairs, so those would have to be hardcoded everywhere</li>
</ul>
<p>Note that the one place where we'd still require pairs (even when using VRs everywhere else) is for function arguments and returns, as the ABI was defined for older systems.   But for the ABI we have to hard-code registers anyway, so that should be much less of an issue.  (For our own non-system ABIs, we could even chose to pass f128 in VR as well.)</p>
<p>LLVM (and GCC) will also use VRs to hold f128 if you build with -march=z14 or higher.<br>
</p>
</blockquote>



<a name="515066710"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/515066710" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#515066710">(Apr 29 2025 at 13:40)</a>:</h4>
<p>beetrees updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>.</p>



<a name="515066799"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/515066799" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#515066799">(Apr 29 2025 at 13:40)</a>:</h4>
<p>beetrees updated <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>.</p>



<a name="515068073"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/515068073" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#515068073">(Apr 29 2025 at 13:45)</a>:</h4>
<p>beetrees <a href="https://github.com/bytecodealliance/wasmtime/pull/10691#issuecomment-2838988424">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>:</p>
<blockquote>
<p>Done. <code>f128</code> is now stored in a single vector register.</p>
<blockquote>
<p>Note that the one place where we'd still require pairs (even when using VRs everywhere else) is for function arguments and returns, as the ABI was defined for older systems. But for the ABI we have to hard-code registers anyway, so that should be much less of an issue. (For our own non-system ABIs, we could even chose to pass f128 in VR as well.)</p>
</blockquote>
<p>I'm unsure what you mean by this; according to the <a href="https://github.com/IBM/s390x-abi/releases">s390x ABI specification</a> <code>f128</code> is always passed and returned indirectly.</p>
</blockquote>



<a name="515070924"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/515070924" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#515070924">(Apr 29 2025 at 13:57)</a>:</h4>
<p>uweigand <a href="https://github.com/bytecodealliance/wasmtime/pull/10691#issuecomment-2839031029">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>:</p>
<blockquote>
<blockquote>
<p>Done. <code>f128</code> is now stored in a single vector register.</p>
</blockquote>
<p>Thanks, I'll have a closer look shortly.</p>
<blockquote>
<p>I'm unsure what you mean by this; according to the <a href="https://github.com/IBM/s390x-abi/releases">s390x ABI specification</a> <code>f128</code> is always passed and returned indirectly.</p>
</blockquote>
<p>Sorry, I must have gotten confused.  You're correct, of course.<br>
</p>
</blockquote>



<a name="515108556"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/515108556" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#515108556">(Apr 29 2025 at 16:21)</a>:</h4>
<p>uweigand <a href="https://github.com/bytecodealliance/wasmtime/pull/10691#issuecomment-2839505377">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>:</p>
<blockquote>
<p>OK, this all LGTM now.   Thanks again!</p>
</blockquote>



<a name="515110580"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/515110580" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#515110580">(Apr 29 2025 at 16:30)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10691#pullrequestreview-2804310021">PR review</a>:</p>
<blockquote>
<p>Thanks for the review. @uweigand! Giving this an approval based on that, and merging.</p>
</blockquote>



<a name="515110616"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/515110616" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#515110616">(Apr 29 2025 at 16:31)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/10691#pullrequestreview-2804310021">PR review</a>:</p>
<blockquote>
<p>Thanks for the review, @uweigand! Giving this an approval based on that, and merging.</p>
</blockquote>



<a name="515114382"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/515114382" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#515114382">(Apr 29 2025 at 16:50)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/10691#issuecomment-2839577017">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>:</p>
<blockquote>
<p>@alexcrichton it looks like the merge queue checks failed on a diff of a C++ header -- IIRC you had worked on this recently? </p>
</blockquote>



<a name="515126152"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/515126152" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#515126152">(Apr 29 2025 at 17:47)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/10691#issuecomment-2839717991">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>:</p>
<blockquote>
<p>I think that was a failure to download <code>wasm.hh</code> and it manifested as a weird error, so I'm going to re-queue, but I could very well be wrong...</p>
</blockquote>



<a name="515129651"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/515129651" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#515129651">(Apr 29 2025 at 18:09)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>.</p>



<a name="525484792"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/525484792" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#525484792">(Jun 24 2025 at 10:15)</a>:</h4>
<p>tgross35 <a href="https://github.com/bytecodealliance/wasmtime/pull/10691#issuecomment-2999681911">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>:</p>
<blockquote>
<p>For posterity, the most recently published principles of operation doc now specifies <code>f16</code> <a href="https://www.ibm.com/docs/en/module_1678991624569/pdf/SA22-7832-14.pdf">https://www.ibm.com/docs/en/module_1678991624569/pdf/SA22-7832-14.pdf</a></p>
</blockquote>



<a name="525492151"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%2310691%20Add%20initial%20%60f16%60%20and%20%60f128%60%20support.../near/525492151" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.2310691.20Add.20initial.20.60f16.60.20and.20.60f128.60.20support.2E.2E.2E.html#525492151">(Jun 24 2025 at 11:04)</a>:</h4>
<p>uweigand <a href="https://github.com/bytecodealliance/wasmtime/pull/10691#issuecomment-2999874623">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/10691">PR #10691</a>:</p>
<blockquote>
<blockquote>
<p>For posterity, the most recently published principles of operation doc now specifies <code>f16</code> <a href="https://www.ibm.com/docs/en/module_1678991624569/pdf/SA22-7832-14.pdf">https://www.ibm.com/docs/en/module_1678991624569/pdf/SA22-7832-14.pdf</a></p>
</blockquote>
<p>To be clear, this was already in the previous (z16) version.   Both for z16 and z17, the "BFP tiny" (<code>f16</code>) format is only used in a few special operations involving the AI Unit (NNPA and related instructions); there is no general arithmetic (or even conversion) support for this data type.<br>
</p>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>