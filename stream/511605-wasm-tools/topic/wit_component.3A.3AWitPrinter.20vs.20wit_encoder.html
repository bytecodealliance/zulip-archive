<html>
<head><meta charset="utf-8"><title>wit_component::WitPrinter vs wit_encoder · wasm-tools · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/511605-wasm-tools/index.html">wasm-tools</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/511605-wasm-tools/topic/wit_component.3A.3AWitPrinter.20vs.20wit_encoder.html">wit_component::WitPrinter vs wit_encoder</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="536830320"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/511605-wasm-tools/topic/wit_component%3A%3AWitPrinter%20vs%20wit_encoder/near/536830320" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/511605-wasm-tools/topic/wit_component.3A.3AWitPrinter.20vs.20wit_encoder.html#536830320">(Aug 29 2025 at 17:05)</a>:</h4>
<p>Is the (apparent) duplication between <a href="https://docs.rs/wit-component/0.238.0/wit_component/struct.WitPrinter.html"><code>wit_component::WitPrinter</code></a> and <a href="https://docs.rs/wit-encoder/0.238.0/wit_encoder/"><code>wit_encoder</code></a> intentional?</p>



<a name="536831691"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/511605-wasm-tools/topic/wit_component%3A%3AWitPrinter%20vs%20wit_encoder/near/536831691" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/511605-wasm-tools/topic/wit_component.3A.3AWitPrinter.20vs.20wit_encoder.html#536831691">(Aug 29 2025 at 17:15)</a>:</h4>
<p>it is yeah, sort of reflecting the historical development trends too</p>



<a name="536831744"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/511605-wasm-tools/topic/wit_component%3A%3AWitPrinter%20vs%20wit_encoder/near/536831744" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/511605-wasm-tools/topic/wit_component.3A.3AWitPrinter.20vs.20wit_encoder.html#536831744">(Aug 29 2025 at 17:16)</a>:</h4>
<p>they input is somewhat different where <code>WitPrinter</code> takes a <code>Resolve</code> while <code>wit_encoder</code> takes programmatic API-based input from callers (which may or may not be <code>Resolve</code>)</p>



<a name="536832728"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/511605-wasm-tools/topic/wit_component%3A%3AWitPrinter%20vs%20wit_encoder/near/536832728" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/511605-wasm-tools/topic/wit_component.3A.3AWitPrinter.20vs.20wit_encoder.html#536832728">(Aug 29 2025 at 17:22)</a>:</h4>
<p>I see; so in theory it might be nice to deduplicate the two but it would require some major refactor or gnarly AST transform?</p>



<a name="536832867"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/511605-wasm-tools/topic/wit_component%3A%3AWitPrinter%20vs%20wit_encoder/near/536832867" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/511605-wasm-tools/topic/wit_component.3A.3AWitPrinter.20vs.20wit_encoder.html#536832867">(Aug 29 2025 at 17:23)</a>:</h4>
<p>Context is <a href="https://github.com/bytecodealliance/wasm-pkg-tools/issues/172">https://github.com/bytecodealliance/wasm-pkg-tools/issues/172</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-pkg-tools/issues/172" style="background-image: url(&quot;https://uploads.zulipusercontent.net/a3617d3ec4f94755edc93cc5dc114a5561fc3e04/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f383765626630373937653835326636356264356231393939343065613566653366393462343938613736353739346366303063386235326135646330656264652f62797465636f6465616c6c69616e63652f7761736d2d706b672d746f6f6c732f6973737565732f313732&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-pkg-tools/issues/172" title="wkg wit output does not preserve comments in worlds · Issue #172 · bytecodealliance/wasm-pkg-tools">wkg wit output does not preserve comments in worlds · Issue #172 · bytecodealliance/wasm-pkg-tools</a></div><div class="message_embed_description">Steps to reproduce: mkdir wit cat &gt; wit/world.wit &lt;&lt;EOF package test:test; world test { include wasi:http/proxy@0.3.0-rc-2025-08-15; } EOF wkg wit fetch Expected results: wit/deps/wasi-http-0.3.0-r...</div></div></div>



<a name="536833039"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/511605-wasm-tools/topic/wit_component%3A%3AWitPrinter%20vs%20wit_encoder/near/536833039" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/511605-wasm-tools/topic/wit_component.3A.3AWitPrinter.20vs.20wit_encoder.html#536833039">(Aug 29 2025 at 17:24)</a>:</h4>
<p>Well I guess the context is I'm debugging that and got side-tracked</p>



<a name="536835593"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/511605-wasm-tools/topic/wit_component%3A%3AWitPrinter%20vs%20wit_encoder/near/536835593" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/511605-wasm-tools/topic/wit_component.3A.3AWitPrinter.20vs.20wit_encoder.html#536835593">(Aug 29 2025 at 17:42)</a>:</h4>
<p>yeah lots of refactoring would be required</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>