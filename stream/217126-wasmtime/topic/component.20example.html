<html>
<head><meta charset="utf-8"><title>component example · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html">component example</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="512549947"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512549947" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ludea <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512549947">(Apr 16 2025 at 13:11)</a>:</h4>
<p>I see <a href="https://github.com/bytecodealliance/wasmtime/blob/main/examples/component/main.rs#L58">https://github.com/bytecodealliance/wasmtime/blob/main/examples/component/main.rs#L58</a> but where come from <code>Convert</code>?<br>
I don't see any import of it</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/main/examples/component/main.rs#L58" style="background-image: url(&quot;https://uploads.zulipusercontent.net/8a615c9b36598b5ca334f03b33b3eda424279d5c/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f333466336466333965373364613262303866376333336365343131363338666361306664653461326637616462383563313063656364633835396433393536312f62797465636f6465616c6c69616e63652f7761736d74696d65&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/main/examples/component/main.rs#L58" title="wasmtime/examples/component/main.rs at main · bytecodealliance/wasmtime">wasmtime/examples/component/main.rs at main · bytecodealliance/wasmtime</a></div><div class="message_embed_description">A lightweight WebAssembly runtime that is fast, secure, and standards-compliant - bytecodealliance/wasmtime</div></div></div>



<a name="512550589"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512550589" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512550589">(Apr 16 2025 at 13:14)</a>:</h4>
<p><code>Convert</code> is defined by the <code>bindgen!("convert" in "./examples/component/convert.wit");</code> macro I think as a result of the world being called <code>convert</code>: <a href="https://github.com/bytecodealliance/wasmtime/blob/a2a66a34af5fef0b8d530620318256a5db35a722/examples/component/convert.wit#L3">https://github.com/bytecodealliance/wasmtime/blob/a2a66a34af5fef0b8d530620318256a5db35a722/examples/component/convert.wit#L3</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/a2a66a34af5fef0b8d530620318256a5db35a722/examples/component/convert.wit#L3" style="background-image: url(&quot;https://uploads.zulipusercontent.net/8a615c9b36598b5ca334f03b33b3eda424279d5c/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f333466336466333965373364613262303866376333336365343131363338666361306664653461326637616462383563313063656364633835396433393536312f62797465636f6465616c6c69616e63652f7761736d74696d65&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/a2a66a34af5fef0b8d530620318256a5db35a722/examples/component/convert.wit#L3" title="wasmtime/examples/component/convert.wit at a2a66a34af5fef0b8d530620318256a5db35a722 · bytecodealliance/wasmtime">wasmtime/examples/component/convert.wit at a2a66a34af5fef0b8d530620318256a5db35a722 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">A lightweight WebAssembly runtime that is fast, secure, and standards-compliant - bytecodealliance/wasmtime</div></div></div>



<a name="512551494"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512551494" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ludea <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512551494">(Apr 16 2025 at 13:18)</a>:</h4>
<p>It's them same thing as <a href="https://github.com/bytecodealliance/wasmtime/blob/main/examples/component/wasm/guest.rs#L3">https://github.com/bytecodealliance/wasmtime/blob/main/examples/component/wasm/guest.rs#L3</a>?<br>
We need to generate bindings from host and component?</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/main/examples/component/wasm/guest.rs#L3" style="background-image: url(&quot;https://uploads.zulipusercontent.net/8a615c9b36598b5ca334f03b33b3eda424279d5c/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f333466336466333965373364613262303866376333336365343131363338666361306664653461326637616462383563313063656364633835396433393536312f62797465636f6465616c6c69616e63652f7761736d74696d65&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/main/examples/component/wasm/guest.rs#L3" title="wasmtime/examples/component/wasm/guest.rs at main · bytecodealliance/wasmtime">wasmtime/examples/component/wasm/guest.rs at main · bytecodealliance/wasmtime</a></div><div class="message_embed_description">A lightweight WebAssembly runtime that is fast, secure, and standards-compliant - bytecodealliance/wasmtime</div></div></div>



<a name="512551908"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512551908" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512551908">(Apr 16 2025 at 13:20)</a>:</h4>
<p>yes you need to generate bindings both for the guest and the host. Host bindings are generated with wasmtime::bindgen and guest bindings are generated with wit_bindgen::generate</p>



<a name="512552106"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512552106" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512552106">(Apr 16 2025 at 13:21)</a>:</h4>
<p>you can expand those rust macros with vscode or cargo-expand to see what code was generated</p>



<a name="512553434"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512553434" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ludea <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512553434">(Apr 16 2025 at 13:27)</a>:</h4>
<p>And I want to generate only guest bindings?<br>
And Instantiate it?</p>



<a name="512555276"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512555276" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512555276">(Apr 16 2025 at 13:35)</a>:</h4>
<p>these are entirely separate, you only need the guest bindings to make a component<br>
If you have a component and want to run it, you need the wasmtime host bindings so that you can conveniently call the exported functions of the component, but that has nothing to do with the component itself, just how to run it</p>



<a name="512555634"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512555634" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512555634">(Apr 16 2025 at 13:36)</a>:</h4>
<p>also this host is only specific for the wit world, but it can run any component that implements this world</p>



<a name="512558599"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512558599" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ludea <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512558599">(Apr 16 2025 at 13:49)</a>:</h4>
<p>So importing a component during runtime, without generating host binding is not supported?</p>



<a name="512559044"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512559044" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512559044">(Apr 16 2025 at 13:51)</a>:</h4>
<p>I think it is possible but I never did or needed that personally so I don't know how</p>



<a name="512564587"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512564587" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512564587">(Apr 16 2025 at 14:15)</a>:</h4>
<p>If your component targets a WASI world such as <code>wasi:http/proxy</code> or <code>wasi:cli/command</code>, then you can run it using <code>wasmtime-wasi-http</code> or <code>wasmtime-wasi</code>, respectively (or <code>wasmtime serve</code> or <code>wasmtime run</code>, respectively, if using the command line interface).</p>
<p>You only need to write a custom host embedding (either using the Wasmtime component API directly or in concert with <code>wasmtime-wit-bindgen</code>-generated bindings) if you have a custom world.</p>



<a name="512567553"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512567553" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ludea <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512567553">(Apr 16 2025 at 14:27)</a>:</h4>
<p>Yes, my component use WASI world.<br>
I see <a href="https://docs.rs/wasmtime-wasi/latest/wasmtime_wasi/bindings/index.html#examples">https://docs.rs/wasmtime-wasi/latest/wasmtime_wasi/bindings/index.html#examples</a><br>
So I need to import wasi cli onto my component?<br>
I can avoid that and just only call guest fn defined with wit?</p>



<a name="512569921"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512569921" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512569921">(Apr 16 2025 at 14:37)</a>:</h4>
<p>If your component targets <code>wasi:cli/command</code> and nothing else, then you can use a simplified version of that example.  You can remove the <code>wasmtime::component::bindgen!</code> macro expression and the <code>example:wasi</code> parts.</p>



<a name="512575241"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512575241" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ludea <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512575241">(Apr 16 2025 at 14:59)</a>:</h4>
<p>Exactly I would like to run my component into a wasmtime environment, I don't want to use wasmtime cli.</p>



<a name="512577767"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/component%20example/near/512577767" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ludea <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/component.20example.html#512577767">(Apr 16 2025 at 15:09)</a>:</h4>
<p>Doing this <a href="https://github.com/bytecodealliance/wasmtime/blob/main/examples/component/main.rs#L58">https://github.com/bytecodealliance/wasmtime/blob/main/examples/component/main.rs#L58</a>, without bindgen! Into a wasi world, generating bindings only for component would be perfect.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/main/examples/component/main.rs#L58" style="background-image: url(&quot;https://uploads.zulipusercontent.net/8a615c9b36598b5ca334f03b33b3eda424279d5c/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f333466336466333965373364613262303866376333336365343131363338666361306664653461326637616462383563313063656364633835396433393536312f62797465636f6465616c6c69616e63652f7761736d74696d65&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/main/examples/component/main.rs#L58" title="wasmtime/examples/component/main.rs at main · bytecodealliance/wasmtime">wasmtime/examples/component/main.rs at main · bytecodealliance/wasmtime</a></div><div class="message_embed_description">A lightweight WebAssembly runtime that is fast, secure, and standards-compliant - bytecodealliance/wasmtime</div></div></div>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>