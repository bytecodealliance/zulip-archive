<html>
<head><meta charset="utf-8"><title>Difference between clif-util test run and clif-util run. 路 wasmtime 路 Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Difference.20between.20clif-util.20test.20run.20and.20clif-util.20run.2E.html">Difference between clif-util test run and clif-util run.</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="538830445"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Difference%20between%20clif-util%20test%20run%20and%20clif-util%20run./near/538830445" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Masashi Yoshimura <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Difference.20between.20clif-util.20test.20run.20and.20clif-util.20run.2E.html#538830445">(Sep 11 2025 at 11:16)</a>:</h4>
<p>I was testing <code>cranelift/filetests/filetests/runtests/*.clif</code> with the riscv64 target on x86-64, and I thought the clif-util test (test run) command and the clif-util run command would produce the same result, but I noticed that their behavior is different. For example, when I tested <a href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/filetests/filetests/runtests/bb-padding.clif">bb-padding.clif</a>, the test command passed, but running run resulted in an error. Could you explain why this happens?</p>
<p>clif-util test:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>wasmtime$<span class="w"> </span>qemu-riscv64<span class="w"> </span>-L<span class="w"> </span>/usr/riscv64-linux-gnu<span class="w"> </span>-E<span class="w"> </span>LD<span class="se">\_</span>LIBRARY<span class="se">\_</span>PATH<span class="o">=</span>/usr/riscv64-linux-gnu/lib<span class="w"> </span>target/riscv64gc-unknown-linux-gnu/debug/clif-util<span class="w"> </span><span class="nb">test</span><span class="w"> </span>-v<span class="w"> </span>./cranelift/filetests/filetests/runtests/bb-padding.clif
<span class="m">0</span>.581<span class="w"> </span>./cranelift/filetests/filetests/runtests/bb-padding.clif
<span class="m">1</span><span class="w"> </span>tests
</code></pre></div>
<p>clif-util run:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>wasmtime$<span class="w"> </span>qemu-riscv64<span class="w"> </span>-L<span class="w"> </span>/usr/riscv64-linux-gnu<span class="w"> </span>-E<span class="w"> </span>LD<span class="se">\_</span>LIBRARY<span class="se">\_</span>PATH<span class="o">=</span>/usr/riscv64-linux-gnu/lib<span class="w"> </span>target/riscv64gc-unknown-linux-gnu/debug/clif-util<span class="w"> </span>run<span class="w"> </span>-v<span class="w"> </span>./cranelift/filetests/filetests/runtests/bb-padding.clif
./cranelift/filetests/filetests/runtests/bb-padding.clif:<span class="w"> </span>Compilation<span class="w"> </span>error:<span class="w"> </span>Unsupported<span class="w"> </span>feature:<span class="w"> </span>should<span class="w"> </span>be<span class="w"> </span>implemented<span class="w"> </span><span class="k">in</span><span class="w"> </span>ISLE:<span class="w"> </span><span class="nv">inst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span><span class="nv">v0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>vconst.i64x2<span class="w"> </span>const0<span class="sb">`</span>,<span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span>Some<span class="o">(</span>types::I64X2<span class="o">)</span><span class="sb">`</span>
<span class="m">1</span><span class="w"> </span>file
Error:<span class="w"> </span><span class="m">1</span><span class="w"> </span>failure
</code></pre></div>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/filetests/filetests/runtests/bb-padding.clif" style="background-image: url(&quot;https://uploads.zulipusercontent.net/922c09d1f87ae162202166254587fe08c44b8290/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f636236633535363863346564663438353366356262393766643236633664656630626434646531636335663362653963333038313865636333393237643539632f62797465636f6465616c6c69616e63652f7761736d74696d65&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/filetests/filetests/runtests/bb-padding.clif" title="wasmtime/cranelift/filetests/filetests/runtests/bb-padding.clif at main 路 bytecodealliance/wasmtime">wasmtime/cranelift/filetests/filetests/runtests/bb-padding.clif at main 路 bytecodealliance/wasmtime</a></div><div class="message_embed_description">A lightweight WebAssembly runtime that is fast, secure, and standards-compliant - bytecodealliance/wasmtime</div></div></div>



<a name="538858904"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Difference%20between%20clif-util%20test%20run%20and%20clif-util%20run./near/538858904" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Difference.20between.20clif-util.20test.20run.20and.20clif-util.20run.2E.html#538858904">(Sep 11 2025 at 13:26)</a>:</h4>
<p>This topic was moved to <a class="stream-topic" data-stream-id="217117" href="/#narrow/channel/217117-cranelift/topic/Difference.20between.20clif-util.20test.20run.20and.20clif-util.20run.2E/with/538858903">#cranelift &gt; Difference between clif-util test run and clif-util run.</a> by <span class="user-mention silent" data-user-id="234973">Till Schneidereit</span>.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>