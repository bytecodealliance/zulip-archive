<html>
<head><meta charset="utf-8"><title>Cranelift support on `riscv32imac-unknown-none-elf` · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Cranelift.20support.20on.20.60riscv32imac-unknown-none-elf.60.html">Cranelift support on `riscv32imac-unknown-none-elf`</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="553815420"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Cranelift%20support%20on%20%60riscv32imac-unknown-none-elf%60/near/553815420" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Antoine Lavandier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Cranelift.20support.20on.20.60riscv32imac-unknown-none-elf.60.html#553815420">(Nov 05 2025 at 10:24)</a>:</h4>
<p>The <a href="https://docs.wasmtime.dev/stability-tiers.html?highlight=custom-page#tier-3">Tiers of Support</a> page of Wasmtime's documentation lists <code>riscv32imac-unknown-none-elf</code>as a tier 3 platform. However, trying to use that target with <code>config.target("riscv32imac-unknown-none-elf")</code> errors with <code>"Support for this target has not been implemented yet"</code>.  Am I misunderstanding the support tiers ? Or was that support dropped at some point ?</p>



<a name="553846399"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Cranelift%20support%20on%20%60riscv32imac-unknown-none-elf%60/near/553846399" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Cranelift.20support.20on.20.60riscv32imac-unknown-none-elf.60.html#553846399">(Nov 05 2025 at 12:52)</a>:</h4>
<p>You have to use <code>config.target("pulley32")</code> I think. Might also need to explicitly enable the pulley cargo feature.</p>



<a name="553846580"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Cranelift%20support%20on%20%60riscv32imac-unknown-none-elf%60/near/553846580" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Cranelift.20support.20on.20.60riscv32imac-unknown-none-elf.60.html#553846580">(Nov 05 2025 at 12:53)</a>:</h4>
<p>Cranelift doesn't have a riscv32 backend, so you have to use the pulley backend instead which emits bytecode that wasmtime can run through an interpreter.</p>



<a name="553849517"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Cranelift%20support%20on%20%60riscv32imac-unknown-none-elf%60/near/553849517" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Antoine Lavandier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Cranelift.20support.20on.20.60riscv32imac-unknown-none-elf.60.html#553849517">(Nov 05 2025 at 13:06)</a>:</h4>
<p>Ah then I misunderstood the documentation. Is there somewhere that breakdowns the architecture support between Cranelift/Winch/Pulley ?</p>



<a name="553850131"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Cranelift%20support%20on%20%60riscv32imac-unknown-none-elf%60/near/553850131" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Antoine Lavandier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Cranelift.20support.20on.20.60riscv32imac-unknown-none-elf.60.html#553850131">(Nov 05 2025 at 13:09)</a>:</h4>
<p>Also follow-up question, is it reasonable to expect that any 32/64 bit target reasonably supported by rustc would be supported by wasmtime through Pulley or do that require some specific work on Pulley itself ?</p>



<a name="553872676"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Cranelift%20support%20on%20%60riscv32imac-unknown-none-elf%60/near/553872676" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Cranelift.20support.20on.20.60riscv32imac-unknown-none-elf.60.html#553872676">(Nov 05 2025 at 14:35)</a>:</h4>
<p>Pulley should be able to support every target, but if you need the async feature, I believe wasmtime-fiber does still need architecture specific code. Winch only supports x86_64 and arm64. Cranelift supports x86_64, arm64, riscv64 and s390x (ibm system-z)</p>



<a name="553879016"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Cranelift%20support%20on%20%60riscv32imac-unknown-none-elf%60/near/553879016" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Cranelift.20support.20on.20.60riscv32imac-unknown-none-elf.60.html#553879016">(Nov 05 2025 at 14:58)</a>:</h4>
<p>Compiler architecture support is <a href="https://docs.wasmtime.dev/stability-tiers.html?highlight=custom-page#compiler-support">here</a>, and Pulley is listed separately because bjorn3 is right, Pulley should support any architecture that Rust can be compiled to</p>



<a name="553885960"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Cranelift%20support%20on%20%60riscv32imac-unknown-none-elf%60/near/553885960" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Antoine Lavandier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Cranelift.20support.20on.20.60riscv32imac-unknown-none-elf.60.html#553885960">(Nov 05 2025 at 15:23)</a>:</h4>
<p>Thanks for the responses, I must say that I'm not sure how useful it is to list architecture that are supported by default through Pulley. The current structure of the table made me think that <code>riscv32imac</code> was "more supported" than say <code>thumbv7em-none-eabihf</code> when this is not the case</p>



<a name="553897161"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Cranelift%20support%20on%20%60riscv32imac-unknown-none-elf%60/near/553897161" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Cranelift.20support.20on.20.60riscv32imac-unknown-none-elf.60.html#553897161">(Nov 05 2025 at 16:00)</a>:</h4>
<p>Our listing of tier 3 targets is more-or-less what we do in CI currently. We can't really just take every rust target that exists and list it in tier 3 in a sense... Do you think though it would help to have more words about missing targets? For example say that if a target is missing it doesn't mean that it's unsupported it just means that we're not building it in CI?</p>



<a name="553902906"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Cranelift%20support%20on%20%60riscv32imac-unknown-none-elf%60/near/553902906" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Antoine Lavandier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Cranelift.20support.20on.20.60riscv32imac-unknown-none-elf.60.html#553902906">(Nov 05 2025 at 16:22)</a>:</h4>
<p>I don't really know, I think that an idea could be to change the tier structure be by compilers so you have Tier1, 2 3 for Cranelift, Tier 1, 2, 3 for Winch and for Pulley instead of tiers you just say that as pure rust code, it's expected to work on every target supported by rustc but that the only targets tested in CI are X, Y, Z etc. (probably as a table)</p>



<a name="553929834"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Cranelift%20support%20on%20%60riscv32imac-unknown-none-elf%60/near/553929834" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Cranelift.20support.20on.20.60riscv32imac-unknown-none-elf.60.html#553929834">(Nov 05 2025 at 18:07)</a>:</h4>
<p>True yeah! I know I've found it pretty difficult to succinctly and accurately describe the various support for various features in Wasmtime over time...</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>