<html>
<head><meta charset="utf-8"><title>Wasmtime-fiber on RISCV32 Â· wasmtime Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html">Wasmtime-fiber on RISCV32</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="546429327"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/546429327" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Antoine Lavandier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#546429327">(Oct 22 2025 at 11:16)</a>:</h4>
<p>Hi, I was trying to run wasmtime with async on an ESP32-C6 which has a 32 bits RISCV architecture. This failed because the stack switching from wasmtime-fiber is not implemented for <code>riscv32</code>. It is however for <code>riscv64</code> so my question is two fold : </p>
<ul>
<li>Is there plans to implement this for <code>riscv32</code>?</li>
<li>and if so, is it something that's easy to do considering that the <code>riscv64</code> logic exists ?</li>
</ul>



<a name="546442860"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/546442860" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#546442860">(Oct 22 2025 at 12:18)</a>:</h4>
<p>To support Wasmtime on riscv32 you also need Cranelift support for this, which like any new architecture is non-trivial to add. There are currently no plans to add it that I'm aware of. External contributions may be accepted, but please check with one of the Cranelift maintainers to be sure. Also see <a class="message-link" href="/#narrow/channel/217117-cranelift/topic/Creating.20a.20new.20instruction.20set.20for.20a.20toy.20architecture/near/529913643">#cranelift &gt; Creating a new instruction set for a toy architecture @ ðŸ’¬</a></p>



<a name="546444293"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/546444293" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Antoine Lavandier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#546444293">(Oct 22 2025 at 12:24)</a>:</h4>
<p>Isn't cranelift support kind of orthogonal ? I am using wasmtime with success on platforms not directly supported by cranelift, 32 bit ARM Cortex M (ARMv6-M and ARMv7-M),  through the pullley32 "target"</p>



<a name="546444795"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/546444795" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#546444795">(Oct 22 2025 at 12:27)</a>:</h4>
<p>Right. Doesn't look like it would be too hard to port wasmtime-fiber.</p>



<a name="546444880"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/546444880" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Antoine Lavandier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#546444880">(Oct 22 2025 at 12:27)</a>:</h4>
<p>And for the record, wasmtime does work on RISCV 32 bits, the stack switching from <code>wasmtime-fiber</code>doesn't (and hence the <code>async</code> feature from <code>wasmtime</code>)</p>



<a name="546475533"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/546475533" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#546475533">(Oct 22 2025 at 14:37)</a>:</h4>
<p>Current maintainers aren't experts/maintainers of riscv32, so we rely on contributions for support like this. It in theory wouldn't be too hard to add such support for someone knowledgable about riscv32 assembly, and PRs are always welcome!</p>



<a name="569013551"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/569013551" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max D. <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#569013551">(Jan 20 2026 at 12:38)</a>:</h4>
<p>Hello, we're interested in getting stack switching working on 32-bit RISC-V to support using async in wasmtime, too. This is the only conversation regarding this which we could find. Has there been any progress on this since the posts here?</p>



<a name="569035222"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/569035222" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Antoine Lavandier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#569035222">(Jan 20 2026 at 14:07)</a>:</h4>
<p>Not that I'm aware of</p>



<a name="569076036"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/569076036" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#569076036">(Jan 20 2026 at 16:35)</a>:</h4>
<p><span class="user-mention" data-user-id="1015286">@Max D.</span> No one has contributed such support; contributions are still welcome if you're interested in working on this</p>



<a name="569291758"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/569291758" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max D. <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#569291758">(Jan 21 2026 at 15:58)</a>:</h4>
<p>Thanks a lot for the answers! We are going to work on an implementation to contribute.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>