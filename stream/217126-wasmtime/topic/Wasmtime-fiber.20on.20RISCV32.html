<html>
<head><meta charset="utf-8"><title>Wasmtime-fiber on RISCV32 Â· wasmtime Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html">Wasmtime-fiber on RISCV32</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="546429327"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/546429327" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Antoine Lavandier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#546429327">(Oct 22 2025 at 11:16)</a>:</h4>
<p>Hi, I was trying to run wasmtime with async on an ESP32-C6 which has a 32 bits RISCV architecture. This failed because the stack switching from wasmtime-fiber is not implemented for <code>riscv32</code>. It is however for <code>riscv64</code> so my question is two fold : </p>
<ul>
<li>Is there plans to implement this for <code>riscv32</code>?</li>
<li>and if so, is it something that's easy to do considering that the <code>riscv64</code> logic exists ?</li>
</ul>



<a name="546442860"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/546442860" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#546442860">(Oct 22 2025 at 12:18)</a>:</h4>
<p>To support Wasmtime on riscv32 you also need Cranelift support for this, which like any new architecture is non-trivial to add. There are currently no plans to add it that I'm aware of. External contributions may be accepted, but please check with one of the Cranelift maintainers to be sure. Also see <a class="message-link" href="/#narrow/channel/217117-cranelift/topic/Creating.20a.20new.20instruction.20set.20for.20a.20toy.20architecture/near/529913643">#cranelift &gt; Creating a new instruction set for a toy architecture @ ðŸ’¬</a></p>



<a name="546444293"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/546444293" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Antoine Lavandier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#546444293">(Oct 22 2025 at 12:24)</a>:</h4>
<p>Isn't cranelift support kind of orthogonal ? I am using wasmtime with success on platforms not directly supported by cranelift, 32 bit ARM Cortex M (ARMv6-M and ARMv7-M),  through the pullley32 "target"</p>



<a name="546444795"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/546444795" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#546444795">(Oct 22 2025 at 12:27)</a>:</h4>
<p>Right. Doesn't look like it would be too hard to port wasmtime-fiber.</p>



<a name="546444880"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/546444880" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Antoine Lavandier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#546444880">(Oct 22 2025 at 12:27)</a>:</h4>
<p>And for the record, wasmtime does work on RISCV 32 bits, the stack switching from <code>wasmtime-fiber</code>doesn't (and hence the <code>async</code> feature from <code>wasmtime</code>)</p>



<a name="546475533"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime-fiber%20on%20RISCV32/near/546475533" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime-fiber.20on.20RISCV32.html#546475533">(Oct 22 2025 at 14:37)</a>:</h4>
<p>Current maintainers aren't experts/maintainers of riscv32, so we rely on contributions for support like this. It in theory wouldn't be too hard to add such support for someone knowledgable about riscv32 assembly, and PRs are always welcome!</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>