<html>
<head><meta charset="utf-8"><title>Linking multiple components in Rust · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Linking.20multiple.20components.20in.20Rust.html">Linking multiple components in Rust</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="503527486"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Linking%20multiple%20components%20in%20Rust/near/503527486" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jordi Thijsman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Linking.20multiple.20components.20in.20Rust.html#503527486">(Mar 05 2025 at 14:14)</a>:</h4>
<p>Hi, I'm relatively new to wasm and the component model and have some questions. </p>
<p>Basically, what I want to do is have two (or more) components composed and run them using the wasmtime Rust crate. The goal is to have give each component access to different WASI capabilities (E.g., provide component 1 access only to file A and provide component B access only to file B). </p>
<p>So I guess there are a few parts to my question:<br>
1- Does anyone have an example of composing and running multiple components using the wasmtime Rust crate?<br>
2- How can I define WASI capabilities for each component?<br>
3- Could this work with WAC? As in, compose components using the WAC language and then provide each component with separate WASI capabilities?</p>
<p>Thank you :)</p>



<a name="503545544"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Linking%20multiple%20components%20in%20Rust/near/503545544" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Linking.20multiple.20components.20in.20Rust.html#503545544">(Mar 05 2025 at 15:17)</a>:</h4>
<p>The end goal, while theoretically possible, is not easily achievable at this moment. You're not the only one asking for this though,  others have had use cases as well. Currently though it's only easy to give one set of WASI capabilities to a component. To give it two sets what you'd have to do is be able to compose the component such that two WASI imports are present rather than just one, and then for each set you'd give it access to different state.</p>
<p>Otherwise though for examples it's probably best to break your idea into individual steps and look for examples of those. For example with composition the <code>wac</code> CLI and/or crates will likely help. For running components there should then be examples throughout Wasmtime.</p>



<a name="503545633"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Linking%20multiple%20components%20in%20Rust/near/503545633" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Linking.20multiple.20components.20in.20Rust.html#503545633">(Mar 05 2025 at 15:17)</a>:</h4>
<p>Again though you won't find an example of composing two components and running with two different sets of WASI capabilities because that's not supported easily just yet</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>