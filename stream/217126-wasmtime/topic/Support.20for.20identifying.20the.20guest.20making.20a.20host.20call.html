<html>
<head><meta charset="utf-8"><title>Support for identifying the guest making a host call · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html">Support for identifying the guest making a host call</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="571099564"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571099564" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard Smet (Celarye) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571099564">(Jan 30 2026 at 18:38)</a>:</h4>
<p>Continuation of <a class="stream-topic" data-stream-id="217126" href="/#narrow/channel/217126-wasmtime/topic/Getting.20component.20information.20on.20host.20calls/with/571096072">#wasmtime &gt; Getting component information on host calls</a>.</p>
<p>I would personally like for Wasmtime to support identifying the guest which is making a host call.</p>
<hr>
<p>I have not been able to think of a different way to resolve this besides maybe providing some key (like a UUID) to the guest which they must provide when making host calls but I find that to be quite dirty as I don't want to put the burden on the guest.</p>
<hr>
<p>Some of my use cases are:</p>
<ol>
<li>I will run an unknown amount of plugins all with different permissions. I need to make sure a callee has the permission to do some action.</li>
</ol>
<p>Example: Some plugins may be allowed to shut down the whole applications while others don't, this is configurable at runtime by the user. To solve this I have made a <code>shutdown</code> host function but I need to be able to verify that the callee has the permission to actually initiate this.</p>
<ol start="2">
<li>Plugins may (un)register some (recurring) tasks at an arbitrary time, I want to solve this via host functions as well. Then again I need to be able to map the task to the right plugin so that I can send the result of the task to right plugin.</li>
</ol>
<p>To go a bit more in depth into this issue. I currently solve this by having an <code>initialization</code> guest function which I call at the start of my program and ask for all task registrations then. But I've noticed that this doesn't fully solve it and that I instead want support plugins (un)registering tasks at any time.</p>
<hr>
<p>I think that generally there are a lot of other use cases for plugin based systems besides the above.</p>
<p>Let me know what your thoughts are on these use cases.</p>
<p>cc <span class="user-mention" data-user-id="253994">@Alex Crichton</span></p>



<a name="571105303"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571105303" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571105303">(Jan 30 2026 at 19:09)</a>:</h4>
<p>Does each guest have its own <code>Store</code>?</p>



<a name="571105592"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571105592" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard Smet (Celarye) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571105592">(Jan 30 2026 at 19:11)</a>:</h4>
<p>Yes, but down the line a plugin will have multiple stores as a bunch of events will initiate a call to the same plugin. The store will then also be dropped at the end of the call.</p>



<a name="571109393"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571109393" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571109393">(Jan 30 2026 at 19:33)</a>:</h4>
<p>Recentish wasmtime lets you optionally <code>bindgen</code> host function signatures where the function will receive a reference to the <code>Store</code>. You can embed some identifier in the store's <code>data</code> (inner <code>T</code>).</p>



<a name="571109446"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571109446" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571109446">(Jan 30 2026 at 19:33)</a>:</h4>
<p>This is also possible in older wasmtime but slightly more complicated.</p>



<a name="571109856"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571109856" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard Smet (Celarye) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571109856">(Jan 30 2026 at 19:36)</a>:</h4>
<p>I guess that will indeed solve my issue in a cleaner way than adding a key as parameter. Could you perhaps point me to the relevant bindgen option?</p>
<p>And is this invisible to the guest?</p>



<a name="571110311"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571110311" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571110311">(Jan 30 2026 at 19:38)</a>:</h4>
<p><a href="https://docs.rs/wasmtime/latest/wasmtime/component/macro.bindgen.html">https://docs.rs/wasmtime/latest/wasmtime/component/macro.bindgen.html</a><br>
Search <code>`store` flag</code></p>



<a name="571110503"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571110503" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571110503">(Jan 30 2026 at 19:39)</a>:</h4>
<p>Yes, invisible to the guest</p>



<a name="571110694"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571110694" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard Smet (Celarye) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571110694">(Jan 30 2026 at 19:40)</a>:</h4>
<p>Then I guess that if I can get this to work that my issue can be considered resolved. Although maybe the topic itself is not resolved per se, depends if someone else has something to add to it.</p>



<a name="571111055"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571111055" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard Smet (Celarye) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571111055">(Jan 30 2026 at 19:42)</a>:</h4>
<p>You could also consider this as a solution to it I guess and it would probably be a good thing to explicitly document it somewhere (e.g. Component Model book) like that as well.</p>



<a name="571111239"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571111239" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571111239">(Jan 30 2026 at 19:43)</a>:</h4>
<p>Well, the solution is somewhat Wasmtime-specific, and we sometimes refer to this kind of approach as "host magic" which we try to avoid for general-purpose interfaces, but I think it is reasonable for a plugin system</p>



<a name="571111895"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571111895" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571111895">(Jan 30 2026 at 19:47)</a>:</h4>
<p>Another approach that might work here would be to return some <code>resource</code> type when you register a task. Resource access is enforced by the runtime; a component (instance) cannot do anything with a resource unless it has been explicitly passed a handle to it.</p>



<a name="571113023"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571113023" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard Smet (Celarye) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571113023">(Jan 30 2026 at 19:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="480579">Lann Martin</span> <a href="#narrow/channel/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call/near/571111239">said</a>:</p>
<blockquote>
<p>Well, the solution is somewhat Wasmtime-specific, and we sometimes refer to this kind of approach as "host magic" which we try to avoid for general-purpose interfaces, but I think it is reasonable for a plugin system</p>
</blockquote>
<p>I am not planning on switching away from Wasmtime or to support other runtimes so I think I should be in the clear for using this.</p>



<a name="571113080"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571113080" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard Smet (Celarye) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571113080">(Jan 30 2026 at 19:54)</a>:</h4>
<p>But maybe we wouldn’t want Wasmtime specific solutions in the Component Model book?</p>



<a name="571113300"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571113300" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard Smet (Celarye) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571113300">(Jan 30 2026 at 19:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="480579">Lann Martin</span> <a href="#narrow/channel/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call/near/571111895">said</a>:</p>
<blockquote>
<p>Another approach that might work here would be to return some <code>resource</code> type when you register a task. Resource access is enforced by the runtime; a component (instance) cannot do anything with a resource unless it has been explicitly passed a handle to it.</p>
</blockquote>
<p>Can you perhaps link an example, as my understanding on how to use resources is quite limited as well.</p>



<a name="571113556"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571113556" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard Smet (Celarye) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571113556">(Jan 30 2026 at 19:57)</a>:</h4>
<p>Although I can’t even imagine how use case one would look with this.</p>



<a name="571114081"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571114081" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard Smet (Celarye) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571114081">(Jan 30 2026 at 20:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="480579">Lann Martin</span> <a href="#narrow/channel/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call/near/571110311">said</a>:</p>
<blockquote>
<p><a href="https://docs.rs/wasmtime/latest/wasmtime/component/macro.bindgen.html">https://docs.rs/wasmtime/latest/wasmtime/component/macro.bindgen.html</a><br>
Search <code>`store` flag</code></p>
</blockquote>
<p>I found it in the docs and it reminded me how the async keyword in WIT files enables this as well, do you perhaps know the reason for that?</p>



<a name="571114841"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571114841" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571114841">(Jan 30 2026 at 20:06)</a>:</h4>
<p>It's hard to give specific design advice without details but based on your description I could imagine something like this:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">interface</span><span class="w"> </span><span class="n">plugin</span><span class="o">-</span><span class="n">registrar</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">register</span><span class="p">:</span><span class="w"> </span><span class="nc">func</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">registered</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">resource</span><span class="w"> </span><span class="n">registered</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">unregister</span><span class="p">:</span><span class="w"> </span><span class="nc">func</span><span class="p">();</span>
<span class="w">  </span><span class="n">shutdown</span><span class="p">:</span><span class="w"> </span><span class="nc">func</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>Where plugins would import <code>plugin-registrar</code> from the host.</p>



<a name="571115167"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571115167" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571115167">(Jan 30 2026 at 20:08)</a>:</h4>
<p>I guess you'd still need something in the <code>Store</code> with this specific design. Again, hard to say without more context.</p>



<a name="571117524"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571117524" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard Smet (Celarye) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571117524">(Jan 30 2026 at 20:24)</a>:</h4>
<p>I am going to give the Store solution a try first</p>



<a name="571126839"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571126839" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571126839">(Jan 30 2026 at 21:23)</a>:</h4>
<p>I can chime in to basically just second everything Lann said, putting data in the Store, with a plugin-per-store, is a key feature of how to model an embedding in wasmtime</p>



<a name="571127624"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571127624" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard Smet (Celarye) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571127624">(Jan 30 2026 at 21:29)</a>:</h4>
<p>Alright thanks a lot for the support again. Just so they don’t get lost I think these questions are still nice to see answered:</p>
<ul>
<li>Why does the async keyword in WIT files include the Store context to host functions by default?</li>
<li>Would a short section in the Component Model book on a design pattern like this be interesting? If so, I would love to contribute that once I’ve successfully implemented it. As I would say that it makes quite a significant positive change to how I will implement things.</li>
</ul>



<a name="571128434"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571128434" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571128434">(Jan 30 2026 at 21:35)</a>:</h4>
<p>For the async keyword, that's more or less a bug in wasmtime. There are subtle reasons why it's the case, but the short reason is that it's the only way wasmtime supports</p>



<a name="571128488"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571128488" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571128488">(Jan 30 2026 at 21:35)</a>:</h4>
<p>For expanding book documentation, I think that would be great!</p>



<a name="571128642"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571128642" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard Smet (Celarye) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571128642">(Jan 30 2026 at 21:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="253994">Alex Crichton</span> <a href="#narrow/channel/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call/near/571128434">said</a>:</p>
<blockquote>
<p>For the async keyword, that's more or less a bug in wasmtime. There are subtle reasons why it's the case, but the short reason is that it's the only way wasmtime supports</p>
</blockquote>
<p>"Feature bug" by now or something that'll get fixed (if possible)?</p>



<a name="571129043"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Support%20for%20identifying%20the%20guest%20making%20a%20host%20call/near/571129043" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Support.20for.20identifying.20the.20guest.20making.20a.20host.20call.html#571129043">(Jan 30 2026 at 21:39)</a>:</h4>
<p>Hard to say unfortunately. It's an artifact of trying to reconcile "old async" in wasmtime which is invisible to the guest and allows no concurrency with "new async" which is visible to the guest and allows concurrency. The component async keyword implies behavior in the guest which if the host wants to faithfully represent requires the signature with the store right now. An alternative is basically unknown at this point but something I want to tackle because I don't want wasmtime to indefinitely have two async systems in effect</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>