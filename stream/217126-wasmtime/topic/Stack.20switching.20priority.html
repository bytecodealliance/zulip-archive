<html>
<head><meta charset="utf-8"><title>Stack switching priority · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Stack.20switching.20priority.html">Stack switching priority</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="568932044"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Stack%20switching%20priority/near/568932044" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeff Parsons <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Stack.20switching.20priority.html#568932044">(Jan 20 2026 at 02:40)</a>:</h4>
<p>Hi there, </p>
<p>I'm working on a "WASI-native" programming language with pervasive suspension (and structured concurrency with cleanup guarantees to make that not a nightmare), targeting bleeding edge draft specs for various Wasm proposals. I based my concurrency story on the stack switching proposal, and then realised it's currently only implemented for <code>x86_64</code>.</p>
<p>Is an implementation for <code>aarch64</code> or Pulley on anyone's radar? I'm just trying to decide whether to write my own hacks or wait until I can try stack switching on my own machine.</p>
<p>Thanks! <span aria-label="sparkling heart" class="emoji emoji-1f496" role="img" title="sparkling heart">:sparkling_heart:</span></p>



<a name="568972416"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Stack%20switching%20priority/near/568972416" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Stack.20switching.20priority.html#568972416">(Jan 20 2026 at 09:09)</a>:</h4>
<p>radar, absolutely.</p>



<a name="568977047"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Stack%20switching%20priority/near/568977047" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeff Parsons <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Stack.20switching.20priority.html#568977047">(Jan 20 2026 at 09:33)</a>:</h4>
<p>Maybe I should ask "is anyone funded to work on it within the next few quarters, or expecting to be?"</p>



<a name="569076592"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Stack%20switching%20priority/near/569076592" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Stack.20switching.20priority.html#569076592">(Jan 20 2026 at 16:37)</a>:</h4>
<p>at least from my point of view, unfortunately no (too many other priorities). IIRC, stack switching on x86-64 still needs a bit more work (there's at least one missing opcode, <code>resume_throw</code>) too. If you or anyone else has the ability to put work into it, that'd be much appreciated!</p>



<a name="569152314"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Stack%20switching%20priority/near/569152314" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeff Parsons <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Stack.20switching.20priority.html#569152314">(Jan 21 2026 at 00:51)</a>:</h4>
<p>Thank you, that is very helpful information.</p>
<p>Re me getting involved, I'll take a look but I suspect it'll be a lot more than I can manage at the moment. (My discretionary "programming" currently looks like ideation on the train on days I'm working then handing off to Claude between getting the kids to sleep and passing out myself. I don't think you want that sort of code in Cranelift or Wasmtime... <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>)</p>



<a name="570672660"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Stack%20switching%20priority/near/570672660" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Osborne <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Stack.20switching.20priority.html#570672660">(Jan 28 2026 at 22:32)</a>:</h4>
<p>While I did a spike on stack switching last year, it isn't currently at the top of my priorities at the moment either.  I do hope to, in the relative near term, land some final bits that never to add additional test coverage that never landed with the original set of patches but otherwise don't think it will be a focus area for me in the next several months.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>