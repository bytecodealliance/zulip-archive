<html>
<head><meta charset="utf-8"><title>✔ ResourceLimiter: Send and async-ness changes · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20ResourceLimiter.3A.20Send.20and.20async-ness.20changes.html">✔ ResourceLimiter: Send and async-ness changes</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="541348880"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20ResourceLimiter%3A%20Send%20and%20async-ness%20changes/near/541348880" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Graydon Hoare <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20ResourceLimiter.3A.20Send.20and.20async-ness.20changes.html#541348880">(Sep 25 2025 at 00:27)</a>:</h4>
<p>this might be redundant with an existing thread (I'm not able to find anything that covers it directly) but .. PR <a href="https://github.com/bytecodealliance/wasmtime/pull/11442">https://github.com/bytecodealliance/wasmtime/pull/11442</a> (from <span class="user-mention" data-user-id="253994">@Alex Crichton</span>  back in august) changed <code>ResourceLimiter</code> to have a <code>Send</code> bound and this is somewhat problematic for my embedding. I don't entirely understand why it's necessary or even (I'm embarrassed to say) how Send and async fit together. or if they do at all. I guess it has to do with multi-threaded executors? I am only using and only wanting to use wasmtime (or at least the resources associated with a single Store) on a single thread at a time. is there any way I can eliminate the Send bound in that case, or conditionalize it? </p>
<p>(I suppose there is also the option of just declaring my ResourceLimiter type as Send, unsafely, knowing that it won't ever move between threads; but I feel a little bad doing that)</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/pull/11442" style="background-image: url(&quot;https://uploads.zulipusercontent.net/e36cfa3ad62234d907479fb02fd232db81c4cff7/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f666161633334383866356530383961306265373661393265323535373235323032333235313066363033326334373436386136646632343966613733376364372f62797465636f6465616c6c69616e63652f7761736d74696d652f70756c6c2f3131343432&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/pull/11442" title="Make table growth a true `async fn` by alexcrichton · Pull Request #11442 · bytecodealliance/wasmtime">Make table growth a true `async fn` by alexcrichton · Pull Request #11442 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Upon further refactoring and thinking about #11430 I&#39;ve realized that we might be able to sidestep T: Send on the store entirely which would be quite the boon if it can be pulled off. The reali...</div></div></div>



<a name="541352549"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20ResourceLimiter%3A%20Send%20and%20async-ness%20changes/near/541352549" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Graydon Hoare <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20ResourceLimiter.3A.20Send.20and.20async-ness.20changes.html#541352549">(Sep 25 2025 at 01:16)</a>:</h4>
<p>ah, I just realized there's a workaround I can manage -- forgot &amp;mut itself is Send.</p>



<a name="541352747"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20ResourceLimiter%3A%20Send%20and%20async-ness%20changes/near/541352747" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20ResourceLimiter.3A.20Send.20and.20async-ness.20changes.html#541352747">(Sep 25 2025 at 01:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="634398">Graydon Hoare</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>