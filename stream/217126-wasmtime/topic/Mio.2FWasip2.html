<html>
<head><meta charset="utf-8"><title>Mio/Wasip2 · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html">Mio/Wasip2</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="567590328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567590328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashanti Mutinta <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567590328">(Jan 12 2026 at 16:53)</a>:</h4>
<p>Hello, was wondering if this planned to be merged? <a href="https://github.com/tokio-rs/mio/pull/1836">https://github.com/tokio-rs/mio/pull/1836</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/tokio-rs/mio/pull/1836" style="background-image: url(&quot;https://uploads.zulipusercontent.net/d5e17ce09f51ea35c6ff1751f76461fa2cb8e462/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f633339633437306531623831626338323764303435613932363862633639646630353162333366303934623234316364356639663638646661626433383430372f746f6b696f2d72732f6d696f2f70756c6c2f31383336&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/tokio-rs/mio/pull/1836" title="add `wasm32-wasip2` support by dicej · Pull Request #1836 · tokio-rs/mio">add `wasm32-wasip2` support by dicej · Pull Request #1836 · tokio-rs/mio</a></div><div class="message_embed_description">This implementation currently uses a mix of POSIX-style APIs (provided by wasi-libc via the libc crate) and WASIp2-native APIs (provided by the wasi crate).
Alternatively, we could implement Select...</div></div></div>



<a name="567592806"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567592806" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567592806">(Jan 12 2026 at 17:03)</a>:</h4>
<p>That's up to the <code>mio</code> maintainers.  So far, the feedback has been that it won't be accepted as-is, but nobody has come up with an alternative approach that <em>would</em> be accepted.</p>
<p>My current thinking is that once <code>wasi-libc</code> has <code>wasm32-wasip3</code> + pthread support, <code>mio</code> can treat it as just another POSIX platform via <code>poll</code>.  That won't be particularly efficient, but has the advantage of minimal maintenance effort for the <code>mio</code> team.</p>



<a name="567596080"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567596080" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashanti Mutinta <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567596080">(Jan 12 2026 at 17:16)</a>:</h4>
<p>Okay I see. This and socket2 would really unlock a lot of crates but I understand their concerns. Thank you for the response</p>



<a name="567600382"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567600382" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567600382">(Jan 12 2026 at 17:33)</a>:</h4>
<p>while mio is a prerequisite, its worth noting that until shared-everything-threads or stack-switching wasm standard proposals stabilize, it won't be possible to make a fully functional port of tokio to webassembly, because tokio::task::spawn_blocking requires some sort of stack switching or thread creation primitive that webassembly does not have.</p>



<a name="567602036"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567602036" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567602036">(Jan 12 2026 at 17:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="253992">Pat Hickey</span> <a href="#narrow/channel/217126-wasmtime/topic/Mio.2FWasip2/near/567600382">said</a>:</p>
<blockquote>
<p>shared-everything-threads or stack-switching wasm standard proposals</p>
</blockquote>
<p><em>or</em> the cooperative multi-threading support coming in WASIp3, which is already implemented in Wasmtime.</p>



<a name="567602160"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567602160" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567602160">(Jan 12 2026 at 17:41)</a>:</h4>
<p>and which <span class="user-mention" data-user-id="928951">@Sy Brand</span> is adding support for in <code>wasi-libc</code>.</p>



<a name="567602258"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567602258" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567602258">(Jan 12 2026 at 17:41)</a>:</h4>
<p>oh! right, thank you. I forgot about that</p>



<a name="567603395"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567603395" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashanti Mutinta <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567603395">(Jan 12 2026 at 17:46)</a>:</h4>
<p>Awesome, will keep a lookout for it. For my usecase I figured I would be able to get away with current_thread but aligning with the current tokio socket api would be really cool as well.</p>
<p>Looking forward to preview 3</p>



<a name="567606375"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567606375" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567606375">(Jan 12 2026 at 17:59)</a>:</h4>
<p>some use cases may get away with spawn_blocking being <code>unimplemented!()</code> but its use is a pretty infectious assumption of many tokio-dependent crates (e.g. <code>reqwest</code>)</p>



<a name="567612766"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567612766" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashanti Mutinta <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567612766">(Jan 12 2026 at 18:26)</a>:</h4>
<p>Ah I see! Okay I will wait patiently. Thank you again</p>



<a name="567820619"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567820619" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashanti Mutinta <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567820619">(Jan 13 2026 at 17:19)</a>:</h4>
<p>Also don't know if its appropriate to share here but started working on an async runtime last year. Pretty barebones right now but makes me really excited about preview 3.  Uses a lot of poll mechanics right now</p>
<p><a href="https://tangled.org/staticanxiety.tngl.sh/tiny-wasm-async-runtime">https://tangled.org/staticanxiety.tngl.sh/tiny-wasm-async-runtime</a> for anyone even interested</p>
<div class="message_embed"><a class="message_embed_image" href="https://tangled.org/staticanxiety.tngl.sh/tiny-wasm-async-runtime" style="background-image: url(&quot;https://uploads.zulipusercontent.net/87614704971a5e9b013616fde6956e27b923cd5f/68747470733a2f2f74616e676c65642e6f72672f737461746963616e78696574792e746e676c2e73682f74696e792d7761736d2d6173796e632d72756e74696d652f6f70656e6772617068&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://tangled.org/staticanxiety.tngl.sh/tiny-wasm-async-runtime" title="staticanxiety.tngl.sh/tiny-wasm-async-runtime">staticanxiety.tngl.sh/tiny-wasm-async-runtime</a></div><div class="message_embed_description">Moved my tiny async preview 2 runtime here</div></div></div>



<a name="567823376"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567823376" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567823376">(Jan 13 2026 at 17:33)</a>:</h4>
<p>this is cool!!!!</p>



<a name="567824022"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567824022" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashanti Mutinta <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567824022">(Jan 13 2026 at 17:36)</a>:</h4>
<p>Thank you so much!</p>



<a name="567826512"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567826512" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567826512">(Jan 13 2026 at 17:49)</a>:</h4>
<p>what are you doing with it? having fun, or for some purpose?</p>



<a name="567826820"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567826820" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashanti Mutinta <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567826820">(Jan 13 2026 at 17:50)</a>:</h4>
<p>Mostly just having fun with it.  After Yoshua's post and reading a bit of smol I was really interested into seeing how they work. Once spawn is implemented, I would love to have multiple threads running, I think it would be really interesting</p>



<a name="567826937"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Mio/Wasip2/near/567826937" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Mio.2FWasip2.html#567826937">(Jan 13 2026 at 17:51)</a>:</h4>
<p>you're not wrong!</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>