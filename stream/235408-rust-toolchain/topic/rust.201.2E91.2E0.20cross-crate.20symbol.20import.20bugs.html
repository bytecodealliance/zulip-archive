<html>
<head><meta charset="utf-8"><title>rust 1.91.0 cross-crate symbol import bugs · rust-toolchain · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/235408-rust-toolchain/index.html">rust-toolchain</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/235408-rust-toolchain/topic/rust.201.2E91.2E0.20cross-crate.20symbol.20import.20bugs.html">rust 1.91.0 cross-crate symbol import bugs</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="553197107"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/235408-rust-toolchain/topic/rust%201.91.0%20cross-crate%20symbol%20import%20bugs/near/553197107" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/235408-rust-toolchain/topic/rust.201.2E91.2E0.20cross-crate.20symbol.20import.20bugs.html#553197107">(Nov 01 2025 at 23:02)</a>:</h4>
<p>Wanted to give a heads up if anyone sees unusual behavior for wasm binaries compiled with Rust 1.91. Paul opened <a href="https://github.com/rust-lang/rust/issues/148347">https://github.com/rust-lang/rust/issues/148347</a> which is a link-error which isn't so bad but yowl also saw issues in wit-bindgen at <a class="stream-topic" data-stream-id="327223" href="/#narrow/channel/327223-wit-bindgen/topic/PR.20help.20please/with/553196716">#wit-bindgen &gt; PR help please</a>  which looks like the same issue. The affected behavior can range from linker errors to unusual runtime behavior so mostly just wanted to give a heads up to try to head off any weird debugging sessions hopefully.</p>
<p>I think this should be fixed in <a href="https://github.com/rust-lang/rust/pull/148363">https://github.com/rust-lang/rust/pull/148363</a> and I'll ask for a beta-backport on that, but I suspect a stable backport may be unlikely so affected crates may want to pin to 1.90 for now</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/rust-lang/rust/issues/148347" style="background-image: url(&quot;https://uploads.zulipusercontent.net/54a89a2bcd8b7aed446e6f86043ee1be9275fe3a/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f393836623532306232393837626639316438636238616431633761653661306437656164636231373838353563643233366436383732306535383734353061312f727573742d6c616e672f727573742f6973737565732f313438333437&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/rust-lang/rust/issues/148347" title="Wasm Linker &quot;module mismatch for symbol&quot; Regression in 1.91.0 · Issue #148347 · rust-lang/rust">Wasm Linker "module mismatch for symbol" Regression in 1.91.0 · Issue #148347 · rust-lang/rust</a></div><div class="message_embed_description">Additional notes and repro cases: https://github.com/posborne/rustc-1.91.0-wasm-linkage-bug-repro With the Rust 1.91.0 stable update, it appears that a regression has been introduced which causes l...</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/rust-lang/rust/pull/148363" style="background-image: url(&quot;https://uploads.zulipusercontent.net/406ea2f76eaac352b5107c54eb6d38538c4bc558/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f396338633432373637633263363835393636306335666631396161373136663137386666623938313938646438646261613032313538373138663036346262652f727573742d6c616e672f727573742f70756c6c2f313438333633&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/rust-lang/rust/pull/148363" title="Fix `wasm_import_module` attribute cross-crate by alexcrichton · Pull Request #148363 · rust-lang/rust">Fix `wasm_import_module` attribute cross-crate by alexcrichton · Pull Request #148363 · rust-lang/rust</a></div><div class="message_embed_description">This commit fixes an accidental regression from #144678 where wasm targets would now accidentally use the wrong import module map for a symbol causing a symbol to skip mangling. This can result in ...</div></div></div>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>