<html>
<head><meta charset="utf-8"><title>Upgrading to cargo-component v0.21.0 breaks build env on MBP · cargo-component · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/index.html">cargo-component</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/Upgrading.20to.20cargo-component.20v0.2E21.2E0.20breaks.20build.20env.20on.20MBP.html">Upgrading to cargo-component v0.21.0 breaks build env on MBP</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="514486618"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/Upgrading%20to%20cargo-component%20v0.21.0%20breaks%20build%20env%20on%20MBP/near/514486618" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike M <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/Upgrading.20to.20cargo-component.20v0.2E21.2E0.20breaks.20build.20env.20on.20MBP.html#514486618">(Apr 26 2025 at 01:40)</a>:</h4>
<p>We had issues in the browser calling into a WASM component, and eventually tracked it down to cargo-component v0.21.0 on (as far as we can tell) Apple Silicon. The built WASM seems to have issues in the adapter/shims, leading to call issues.<br>
Issue logged here: <a href="https://github.com/bytecodealliance/cargo-component/issues/398">https://github.com/bytecodealliance/cargo-component/issues/398</a><br>
We've narrowed this down a lot, but if you need any more info or anything in the issue is unclear, we're happy to help further.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/cargo-component/issues/398" style="background-image: url(&quot;https://uploads.zulipusercontent.net/884f5b2fd16dd9f814eff98c1f9e95b1654bc61e/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f326165393434653937343763343365616665306532343235383232346438656631353566646364623238616433326433313133303933356264353435306262612f62797465636f6465616c6c69616e63652f636172676f2d636f6d706f6e656e742f6973737565732f333938&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/cargo-component/issues/398" title="Upgrading cargo-component fro v0.20.0 to v0.21.0 leads to adapter/unreachable errors in browser · Issue #398 · bytecodealliance/cargo-component">Upgrading cargo-component fro v0.20.0 to v0.21.0 leads to adapter/unreachable errors in browser · Issue #398 · bytecodealliance/cargo-component</a></div><div class="message_embed_description">Impact It seems this error means that anyone running Apple silicon (M1+ laptops) is currently unable to build/transpile a wasm component and run it in the browser. Brief v0.21.0 introduces issues b...</div></div></div>



<a name="514487001"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/Upgrading%20to%20cargo-component%20v0.21.0%20breaks%20build%20env%20on%20MBP/near/514487001" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/Upgrading.20to.20cargo-component.20v0.2E21.2E0.20breaks.20build.20env.20on.20MBP.html#514487001">(Apr 26 2025 at 01:46)</a>:</h4>
<p>This was originally submitted to jco (and discussed here in zulip), so some context (you can see some error messages in there, though you'll have to ignore the JS-related bits of the stack trace):</p>
<p><a href="https://github.com/bytecodealliance/jco/issues/634">https://github.com/bytecodealliance/jco/issues/634</a></p>
<p><a class="stream-topic" data-stream-id="409526" href="/#narrow/channel/409526-jco/topic/Sudden.20transpiled.20wasm.20component.20error.20in.20browser/with/513909337">#jco &gt; Sudden transpiled wasm component error in browser</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/jco/issues/634" style="background-image: url(&quot;https://uploads.zulipusercontent.net/cb9f67127f103a262ed1a0b7b1bc22b3686d756a/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f353738386633633636623434316263353838643066643231356638643333616131653838353766356435353163336231313032396635323861313236323864372f62797465636f6465616c6c69616e63652f6a636f2f6973737565732f363334&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/jco/issues/634" title="Sudden transpiled wasm component error in browser · Issue #634 · bytecodealliance/jco">Sudden transpiled wasm component error in browser · Issue #634 · bytecodealliance/jco</a></div><div class="message_embed_description">My team is seeing errors calling into transpiled wasm components in the browser (suddenly after months of no problems). Here's a minimal env that reproduces the problem (for some of us): https://gi...</div></div></div>



<a name="514487157"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/Upgrading%20to%20cargo-component%20v0.21.0%20breaks%20build%20env%20on%20MBP/near/514487157" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/Upgrading.20to.20cargo-component.20v0.2E21.2E0.20breaks.20build.20env.20on.20MBP.html#514487157">(Apr 26 2025 at 01:48)</a>:</h4>
<p>And for those who are going to look into the diff:</p>
<p><a href="https://github.com/bytecodealliance/cargo-component/compare/v0.20.0...v0.21.0">https://github.com/bytecodealliance/cargo-component/compare/v0.20.0...v0.21.0</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/cargo-component/compare/v0.20.0...v0.21.0" style="background-image: url(&quot;https://uploads.zulipusercontent.net/098be8a70ebaa2358289bcec2a583bdf3e9f2a36/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f356232666465633666626563663565333233316333336166616565313235306437363339326635346530333337613063306337623432366239353363666263342f62797465636f6465616c6c69616e63652f636172676f2d636f6d706f6e656e74&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/cargo-component/compare/v0.20.0...v0.21.0" title="Comparing v0.20.0...v0.21.0 · bytecodealliance/cargo-component">Comparing v0.20.0...v0.21.0 · bytecodealliance/cargo-component</a></div><div class="message_embed_description">A Cargo subcommand for creating WebAssembly components based on the component model proposal. - Comparing v0.20.0...v0.21.0 · bytecodealliance/cargo-component</div></div></div>



<a name="514490645"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/Upgrading%20to%20cargo-component%20v0.21.0%20breaks%20build%20env%20on%20MBP/near/514490645" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike M <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/Upgrading.20to.20cargo-component.20v0.2E21.2E0.20breaks.20build.20env.20on.20MBP.html#514490645">(Apr 26 2025 at 02:34)</a>:</h4>
<p>Tracing this further, adapters are updated from v24 -&gt; 29.0.1 here <a href="https://github.com/bytecodealliance/cargo-component/commit/241996c1d22c3c563048ec1b382cf72b1650860b">https://github.com/bytecodealliance/cargo-component/commit/241996c1d22c3c563048ec1b382cf72b1650860b</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/cargo-component/commit/241996c1d22c3c563048ec1b382cf72b1650860b" style="background-image: url(&quot;https://uploads.zulipusercontent.net/d6a25af7ec08768778f964f016bc0a8ff6eb98a5/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f376339303664363764346132363132353034373666376337386532666236393732653234626636366165303438363366656265303233326161363564383562652f62797465636f6465616c6c69616e63652f636172676f2d636f6d706f6e656e742f636f6d6d69742f32343139393663316432326333633536333034386563316233383263663732623136353038363062&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/cargo-component/commit/241996c1d22c3c563048ec1b382cf72b1650860b" title="Update the adapter binaries cargo-component uses (#370) · bytecodealliance/cargo-component@241996c">Update the adapter binaries cargo-component uses (#370) · bytecodealliance/cargo-component@241996c</a></div><div class="message_embed_description">* Update the adapter binaries cargo-component uses

This pulls in a fix for bytecodealliance/wasmtime#10058

* Update wasmtime used in CI</div></div></div>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>