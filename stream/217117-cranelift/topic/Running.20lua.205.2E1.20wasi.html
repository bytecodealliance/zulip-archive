<html>
<head><meta charset="utf-8"><title>Running lua 5.1 wasi · cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html">Running lua 5.1 wasi</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="535357721"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535357721" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian G. Merrell <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535357721">(Aug 20 2025 at 17:05)</a>:</h4>
<p>Hi all,</p>
<p>I'm quite new to WASM. My goal is to run Lua 5.1 using wasmtime so that I can support some legacy plugins. I've manage to get lua 5.1 to build to wasi by 1) using the new <code>-wasm-enable-sjlj</code> flag from wasi-sdk, and 2) stubbing out some lua things I don't need (like tmp files and system()).</p>
<p>When I attempt to run the built wasi binary with wasmtime it fails (expectedly?):</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="o">%</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">exceptions</span><span class="o">=</span><span class="n">yes</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">legacy</span><span class="o">-</span><span class="n">exceptions</span><span class="o">=</span><span class="n">yes</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">lua</span>
<span class="n">Error</span><span class="p">:</span><span class="w"> </span><span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compile</span><span class="p">:</span><span class="w"> </span><span class="nc">wasm</span><span class="p">[</span><span class="mi">0</span><span class="p">]::</span><span class="n">function</span><span class="p">[</span><span class="mi">123</span><span class="p">]::</span><span class="n">luaD_rawrunprotected</span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span><span class="p">:</span>
<span class="w">    </span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="nc">WebAssembly</span><span class="w"> </span><span class="n">translation</span><span class="w"> </span><span class="n">error</span>
<span class="w">    </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="nc">Unsupported</span><span class="w"> </span><span class="n">feature</span><span class="p">:</span><span class="w"> </span><span class="nc">proposed</span><span class="w"> </span><span class="n">exception</span><span class="w"> </span><span class="n">handling</span><span class="w"> </span><span class="n">operator</span><span class="w"> </span><span class="n">Try</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">blockty</span><span class="p">:</span><span class="w"> </span><span class="nc">Empty</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p>From what I can glean from googling this work is currently going on in cranelift, so I'm not sure if it should be working or not at this point. Any info appreciated and sorry if I'm posting in the wrong channel.</p>



<a name="535358928"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535358928" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535358928">(Aug 20 2025 at 17:13)</a>:</h4>
<p><span class="user-mention" data-user-id="949827">@Brian G. Merrell</span> exception handling is under review and should land soon -- I've just gotten all spec-tests to pass in my branch (<a href="https://github.com/bytecodealliance/wasmtime/pull/11326">https://github.com/bytecodealliance/wasmtime/pull/11326</a>). If you wait until the next Wasmtime release, it should be present there, assuming nothing goes wrong</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/pull/11326" style="background-image: url(&quot;https://uploads.zulipusercontent.net/26ed48f19fe92c46d27f30fa8f2570b71d3a818b/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f636334643038613036396330623564623066326162323531323330643030663732663131333863323663306439323763633638343763623133306238303564622f62797465636f6465616c6c69616e63652f7761736d74696d652f70756c6c2f3131333236&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/pull/11326" title="WebAssembly exception-handling support. by cfallin · Pull Request #11326 · bytecodealliance/wasmtime">WebAssembly exception-handling support. by cfallin · Pull Request #11326 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">This PR introduces support for the Wasm exception-handling proposal, which introduces a conventional try/catch mechanism to WebAssembly. The PR supports modules that use try_table to register handl...</div></div></div>



<a name="535358965"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535358965" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535358965">(Aug 20 2025 at 17:13)</a>:</h4>
<p>You're correct that current Wasmtime (latest release, and <code>main</code>) do not have Wasm exception-handling support</p>



<a name="535359058"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535359058" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian G. Merrell <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535359058">(Aug 20 2025 at 17:14)</a>:</h4>
<p>Awesome! thank you! (and yes, I built wasmtime from main since I knew that was all in the works)</p>



<a name="535360868"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535360868" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535360868">(Aug 20 2025 at 17:28)</a>:</h4>
<p>Note though <span class="user-mention" data-user-id="949827">@Brian G. Merrell</span> you'll need to build lua with the standard wasm exceptions proposal, the <code>try</code> instruction that this is failing on is the "legacy wasm exceptions" which Wasmtime has no plans to implement at this time. This is probably going to be figuring out the right flags to pass to the compile (I'm not sure what such flags are myself)</p>



<a name="535361688"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535361688" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535361688">(Aug 20 2025 at 17:34)</a>:</h4>
<p>I believe LLVM doesn't have support for it directly at the moment; the expected path is to use Binaryen (it has a pass to translate legacy exceptions to standard exceptions; I don't remember off top of head)</p>



<a name="535361795"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535361795" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535361795">(Aug 20 2025 at 17:35)</a>:</h4>
<p>I don't know whether the wasi-libc release binaries are already translated as such or not though?</p>



<a name="535362186"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535362186" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian G. Merrell <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535362186">(Aug 20 2025 at 17:38)</a>:</h4>
<p>Hmm.. would this be a problem for me since <code>-wasm-enable-sjlj</code> is an llvm flag? (sjlj is needed for Lua setjump/longjump support afaik.)</p>



<a name="535362240"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535362240" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535362240">(Aug 20 2025 at 17:39)</a>:</h4>
<p>shouldn't be a problem as long as you're able to run the Binaryen pass IIRC</p>



<a name="535362441"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535362441" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535362441">(Aug 20 2025 at 17:40)</a>:</h4>
<p>LLVM got exception support in Wasm early, before the proposal was overhauled, and then they patched up the difference with Binaryen; and I believe the maintainers of the LLVM backend haven't prioritized an update in LLVM proper because the patch is "good enough" (and they expect ~everyone to run Binaryen on production binaries anyway). It's a little annoying and hopefully one day the extra step won't be necessary; but at least the compatibility path is there</p>



<a name="535362614"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535362614" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535362614">(Aug 20 2025 at 17:42)</a>:</h4>
<p>(and for the record we are explicitly avoiding implementing legacy exceptions because it's not a standard (and by policy we don't ship nonstandard extensions), and also because the exceptions-proposal folks in the Wasm CG have discussed how to "unship" it eventually and we don't want to make that problem worse)</p>



<a name="535363881"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535363881" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian G. Merrell <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535363881">(Aug 20 2025 at 17:51)</a>:</h4>
<p>Ah, OK. I ran the original wasi binary through binaryen (which I'm hearing about for the first time <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>). I suspect this is more what I should be doing atm:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">exceptions</span><span class="o">=</span><span class="n">yes</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">lua</span><span class="p">.</span><span class="n">exnref</span><span class="p">.</span><span class="n">wasm</span>
<span class="n">Error</span><span class="p">:</span><span class="w"> </span><span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compile</span><span class="p">:</span><span class="w"> </span><span class="nc">wasm</span><span class="p">[</span><span class="mi">0</span><span class="p">]::</span><span class="n">function</span><span class="p">[</span><span class="mi">96</span><span class="p">]</span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span><span class="p">:</span>
<span class="w">    </span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="nc">WebAssembly</span><span class="w"> </span><span class="n">translation</span><span class="w"> </span><span class="n">error</span>
<span class="w">    </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="nc">Unsupported</span><span class="w"> </span><span class="n">feature</span><span class="p">:</span><span class="w"> </span><span class="nc">exception</span><span class="w"> </span><span class="n">operators</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">yet</span><span class="w"> </span><span class="n">implemented</span>
</code></pre></div>



<a name="535364102"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535364102" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535364102">(Aug 20 2025 at 17:53)</a>:</h4>
<p>If you're feeling adventurous, you could pull down my branch (<code>git clone -b wasm-exceptions https://github.com/cfallin/wasmtime</code>), build that and try it out with that command line; we pass spec tests now but a real-world validation would be really cool too</p>



<a name="535364206"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535364206" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian G. Merrell <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535364206">(Aug 20 2025 at 17:54)</a>:</h4>
<p>Great, I will</p>



<a name="535368031"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535368031" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian G. Merrell <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535368031">(Aug 20 2025 at 18:20)</a>:</h4>
<p>I'll be darned! It works:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="o">~/</span><span class="n">code</span><span class="o">/</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">cfallin</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">wasmtime</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">exceptions</span><span class="o">=</span><span class="n">yes</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">lua</span><span class="p">.</span><span class="n">exnref</span><span class="p">.</span><span class="n">wasm</span>
<span class="n">Lua</span><span class="w"> </span><span class="mf">5.1.5</span><span class="w">  </span><span class="n">Copyright</span><span class="w"> </span><span class="p">(</span><span class="n">C</span><span class="p">)</span><span class="w"> </span><span class="mi">1994</span><span class="o">-</span><span class="mi">2012</span><span class="w"> </span><span class="n">Lua</span><span class="p">.</span><span class="n">org</span><span class="p">,</span><span class="w"> </span><span class="n">PUC</span><span class="o">-</span><span class="n">Rio</span>
<span class="o">&gt;</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s">"About to test error handling..."</span><span class="p">)</span>

<span class="w">  </span><span class="n">local</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">boom</span><span class="p">()</span>
<span class="w">    </span><span class="n">error</span><span class="p">(</span><span class="s">"this is a test error"</span><span class="p">)</span>
<span class="w">  </span><span class="n">end</span>

<span class="w">  </span><span class="n">local</span><span class="w"> </span><span class="n">ok</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pcall</span><span class="p">(</span><span class="n">boom</span><span class="p">)</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s">"pcall returned:"</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="p">)</span>

<span class="w">  </span><span class="n">local</span><span class="w"> </span><span class="n">co</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">coroutine</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="n">function</span><span class="p">()</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s">"Inside coroutine"</span><span class="p">)</span>
<span class="w">    </span><span class="n">coroutine</span><span class="p">.</span><span class="kr">yield</span><span class="p">(</span><span class="s">"yielded once"</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">"done"</span>
<span class="w">  </span><span class="n">end</span><span class="p">)</span>

<span class="w">  </span><span class="n">local</span><span class="w"> </span><span class="n">ok1</span><span class="p">,</span><span class="w"> </span><span class="n">val1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">coroutine</span><span class="p">.</span><span class="n">resume</span><span class="p">(</span><span class="n">co</span><span class="p">)</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s">"resume 1:"</span><span class="p">,</span><span class="w"> </span><span class="n">ok1</span><span class="p">,</span><span class="w"> </span><span class="n">val1</span><span class="p">)</span>

<span class="w">  </span><span class="n">local</span><span class="w"> </span><span class="n">ok2</span><span class="p">,</span><span class="w"> </span><span class="n">val2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">coroutine</span><span class="p">.</span><span class="n">resume</span><span class="p">(</span><span class="n">co</span><span class="p">)</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s">"resume 2:"</span><span class="p">,</span><span class="w"> </span><span class="n">ok2</span><span class="p">,</span><span class="w"> </span><span class="n">val2</span><span class="p">)</span>
<span class="n">end</span>
<span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">&gt;&gt;</span>
<span class="n">About</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">handling</span><span class="o">..</span><span class="p">.</span>
<span class="n">pcall</span><span class="w"> </span><span class="n">returned</span><span class="p">:</span><span class="w"> </span><span class="nc">false</span><span class="w">   </span><span class="n">stdin</span><span class="p">:</span><span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="nc">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">error</span>
<span class="n">Inside</span><span class="w"> </span><span class="n">coroutine</span>
<span class="n">resume</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="w">   </span><span class="nc">true</span><span class="w">    </span><span class="n">yielded</span><span class="w"> </span><span class="n">once</span>
<span class="n">resume</span><span class="w"> </span><span class="mi">2</span><span class="p">:</span><span class="w">   </span><span class="nc">true</span><span class="w">    </span><span class="n">done</span>
</code></pre></div>



<a name="535368122"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535368122" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535368122">(Aug 20 2025 at 18:21)</a>:</h4>
<p>nice! thanks for testing this!</p>



<a name="535368263"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535368263" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian G. Merrell <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535368263">(Aug 20 2025 at 18:22)</a>:</h4>
<p>Thanks for doing the work.. being able to run lua in wasmtime is going to be big for us I think.</p>



<a name="535422309"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Running%20lua%205.1%20wasi/near/535422309" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Running.20lua.205.2E1.20wasi.html#535422309">(Aug 21 2025 at 03:28)</a>:</h4>
<p>and now this is merged, so you should be able to build from <code>main</code> (and assuming it doesn't have to be backed out, will be in Wasmtime 37 released in a month, but off by default still)</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>