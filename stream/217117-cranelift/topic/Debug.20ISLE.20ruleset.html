<html>
<head><meta charset="utf-8"><title>Debug ISLE ruleset · cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Debug.20ISLE.20ruleset.html">Debug ISLE ruleset</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="548286821"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Debug%20ISLE%20ruleset/near/548286821" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bongjun Jang <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Debug.20ISLE.20ruleset.html#548286821">(Nov 01 2025 at 08:19)</a>:</h4>
<p>Hi,</p>
<p>I'm wondering if there is any tool to check a specific rule is triggered during mid-end optimization with ISLE ruleset, or see what rules are triggered.</p>
<p>Otherwise, just short guidance which part to modify/update to see which rules are fired will be appreciated.</p>
<p>Thanks!</p>



<a name="548333307"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Debug%20ISLE%20ruleset/near/548333307" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Debug.20ISLE.20ruleset.html#548333307">(Nov 01 2025 at 19:38)</a>:</h4>
<p>That's a great question -- I've hacked this up locally before by adding a <code>println</code> to each rule right-hand side body generated by islec, but that's not very usable. It would be a useful feature for someone to add tracing or stats/counters per case!</p>



<a name="553431886"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Debug%20ISLE%20ruleset/near/553431886" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Debug.20ISLE.20ruleset.html#553431886">(Nov 03 2025 at 16:51)</a>:</h4>
<p>we should probably add a feature to the <code>isle</code> crate to emit <code>log::trace!(...)</code> incovations for each LHS predicate part and for <code>log::debug!(...)</code>s for each RHS that actually gets matched and then plumb that through into a cranelift/wasmtime feature</p>
<p>I can file an issue</p>



<a name="553435101"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Debug%20ISLE%20ruleset/near/553435101" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Debug.20ISLE.20ruleset.html#553435101">(Nov 03 2025 at 17:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="253990">fitzgen (he/him)</span> <a href="#narrow/channel/217117-cranelift/topic/Debug.20ISLE.20ruleset/near/553431886">said</a>:</p>
<blockquote>
<p>I can file an issue</p>
</blockquote>
<p><a href="https://github.com/bytecodealliance/wasmtime/issues/11971">https://github.com/bytecodealliance/wasmtime/issues/11971</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/issues/11971" style="background-image: url(&quot;https://uploads.zulipusercontent.net/70a4e1244603e8f9736a8c6c06a61d72484ff7d4/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f623765653935616533323836373434383538383637333635303465666363646131326134333133373738363035343761376464383636656533373366366533342f62797465636f6465616c6c69616e63652f7761736d74696d652f6973737565732f3131393731&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/issues/11971" title="ISLE: debugging feature to emit logging in the generated code · Issue #11971 · bytecodealliance/wasmtime">ISLE: debugging feature to emit logging in the generated code · Issue #11971 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">To assist with debugging ISLE (e.g. you expect a rule to match but it doesn't), the isle crate should have an option to emit log macro invocations in the generated code. I'm imagining we would emit...</div></div></div>



<a name="553435201"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Debug%20ISLE%20ruleset/near/553435201" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Debug.20ISLE.20ruleset.html#553435201">(Nov 03 2025 at 17:05)</a>:</h4>
<p>Thanks for writing that out!</p>



<a name="553742582"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Debug%20ISLE%20ruleset/near/553742582" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bongjun Jang <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Debug.20ISLE.20ruleset.html#553742582">(Nov 05 2025 at 00:46)</a>:</h4>
<p>Thanks for the follow-ups!</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>