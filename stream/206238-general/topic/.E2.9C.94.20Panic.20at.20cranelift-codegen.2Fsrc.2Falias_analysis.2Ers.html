<html>
<head><meta charset="utf-8"><title>✔ Panic at cranelift-codegen/src/alias_analysis.rs · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Panic.20at.20cranelift-codegen.2Fsrc.2Falias_analysis.2Ers.html">✔ Panic at cranelift-codegen/src/alias_analysis.rs</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="539556700"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Panic%20at%20cranelift-codegen/src/alias_analysis.rs/near/539556700" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manos Pitsidianakis <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Panic.20at.20cranelift-codegen.2Fsrc.2Falias_analysis.2Ers.html#539556700">(Sep 15 2025 at 13:21)</a>:</h4>
<p>I'm getting a different panic with <code>opt_level = "none"</code>:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">thread</span><span class="w"> </span><span class="o">'&lt;</span><span class="n">unnamed</span><span class="o">&gt;'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">epilys</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">1949</span><span class="n">cf8c6b5b557f</span><span class="o">/</span><span class="n">cranelift</span><span class="o">-</span><span class="n">codegen</span><span class="o">-</span><span class="mf">0.123.2</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">machinst</span><span class="o">/</span><span class="n">blockorder</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">263</span><span class="p">:</span><span class="mi">62</span><span class="p">:</span>
<span class="nc">called</span><span class="w"> </span><span class="err">`</span><span class="nb">Option</span><span class="p">::</span><span class="n">unwrap</span><span class="p">()</span><span class="err">`</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="err">`</span><span class="nb">None</span><span class="err">`</span><span class="w"> </span><span class="n">value</span>
<span class="n">stack</span><span class="w"> </span><span class="n">backtrace</span><span class="p">:</span>
<span class="w">   </span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="nc">__rustc</span><span class="p">::</span><span class="n">rust_begin_unwind</span>
<span class="w">   </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="nc">core</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">panic_fmt</span>
<span class="w">   </span><span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="nc">core</span><span class="p">::</span><span class="n">panicking</span><span class="p">::</span><span class="n">panic</span>
<span class="w">   </span><span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="nc">core</span><span class="p">::</span><span class="n">option</span><span class="p">::</span><span class="n">unwrap_failed</span>
<span class="w">   </span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">core</span><span class="p">::</span><span class="n">iter</span><span class="p">::</span><span class="n">adapters</span><span class="p">::</span><span class="n">map</span><span class="p">::</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">I</span><span class="p">,</span><span class="n">F</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">core</span><span class="p">::</span><span class="n">iter</span><span class="p">::</span><span class="n">traits</span><span class="p">::</span><span class="n">iterator</span><span class="p">::</span><span class="nb">Iterator</span><span class="o">&gt;</span><span class="p">::</span><span class="n">fold</span>
<span class="w">   </span><span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">alloc</span><span class="p">::</span><span class="n">vec</span><span class="p">::</span><span class="nb">Vec</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">alloc</span><span class="p">::</span><span class="n">vec</span><span class="p">::</span><span class="n">spec_from_iter_nested</span><span class="p">::</span><span class="n">SpecFromIterNested</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="n">I</span><span class="o">&gt;&gt;</span><span class="p">::</span><span class="n">from_iter</span>
<span class="w">   </span><span class="mi">6</span><span class="p">:</span><span class="w"> </span><span class="nc">cranelift_codegen</span><span class="p">::</span><span class="n">machinst</span><span class="p">::</span><span class="n">blockorder</span><span class="p">::</span><span class="n">BlockLoweringOrder</span><span class="p">::</span><span class="n">new</span>
<span class="w">   </span><span class="mi">7</span><span class="p">:</span><span class="w"> </span><span class="nc">cranelift_codegen</span><span class="p">::</span><span class="n">machinst</span><span class="p">::</span><span class="n">compile</span><span class="p">::</span><span class="n">compile</span>
<span class="w">   </span><span class="mi">8</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">cranelift_codegen</span><span class="p">::</span><span class="n">isa</span><span class="p">::</span><span class="n">x64</span><span class="p">::</span><span class="n">X64Backend</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cranelift_codegen</span><span class="p">::</span><span class="n">isa</span><span class="p">::</span><span class="n">TargetIsa</span><span class="o">&gt;</span><span class="p">::</span><span class="n">compile_function</span>
<span class="w">   </span><span class="mi">9</span><span class="p">:</span><span class="w"> </span><span class="nc">cranelift_codegen</span><span class="p">::</span><span class="n">context</span><span class="p">::</span><span class="n">Context</span><span class="p">::</span><span class="n">compile_stencil</span>
<span class="w">  </span><span class="mi">10</span><span class="p">:</span><span class="w"> </span><span class="nc">cranelift_codegen</span><span class="p">::</span><span class="n">context</span><span class="p">::</span><span class="n">Context</span><span class="p">::</span><span class="n">compile</span>
<span class="w">  </span><span class="mi">11</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">cranelift_jit</span><span class="p">::</span><span class="n">backend</span><span class="p">::</span><span class="n">JITModule</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cranelift_module</span><span class="p">::</span><span class="n">module</span><span class="p">::</span><span class="n">Module</span><span class="o">&gt;</span><span class="p">::</span><span class="n">define_function_with_control_plane</span>
</code></pre></div>



<a name="539565483"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Panic%20at%20cranelift-codegen/src/alias_analysis.rs/near/539565483" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Panic.20at.20cranelift-codegen.2Fsrc.2Falias_analysis.2Ers.html#539565483">(Sep 15 2025 at 13:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="962634">Manos Pitsidianakis</span> has marked this topic as resolved.</p>



<a name="539565873"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Panic%20at%20cranelift-codegen/src/alias_analysis.rs/near/539565873" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manos Pitsidianakis <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Panic.20at.20cranelift-codegen.2Fsrc.2Falias_analysis.2Ers.html#539565873">(Sep 15 2025 at 13:56)</a>:</h4>
<p>It looks like this was triggered only when adding blocks without instructions, which the verifier would have caught as an error. But the same logic that turned off the verifier in my program enabled adding blocks without instructions. Sorry for the noise! Feel free to delete this topic.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>