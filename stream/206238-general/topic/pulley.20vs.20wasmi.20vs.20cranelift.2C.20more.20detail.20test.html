<html>
<head><meta charset="utf-8"><title>pulley vs wasmi vs cranelift, more detail test · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html">pulley vs wasmi vs cranelift, more detail test</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="511623105"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/511623105" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hoping White <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#511623105">(Apr 11 2025 at 11:09)</a>:</h4>
<p>I did a more complex test with pulley, wasmi, and cranelift.</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">use</span><span class="w"> </span><span class="n">bevy_app</span><span class="p">::{</span><span class="n">App</span><span class="p">,</span><span class="w"> </span><span class="n">Startup</span><span class="p">,</span><span class="w"> </span><span class="n">Update</span><span class="p">};</span>
<span class="k">use</span><span class="w"> </span><span class="n">bevy_ecs</span><span class="p">::</span><span class="n">prelude</span><span class="p">::{</span><span class="n">Commands</span><span class="p">,</span><span class="w"> </span><span class="n">Component</span><span class="p">,</span><span class="w"> </span><span class="n">Query</span><span class="p">,</span><span class="w"> </span><span class="n">Res</span><span class="p">,</span><span class="w"> </span><span class="n">Resource</span><span class="p">};</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">cell</span><span class="p">::</span><span class="n">UnsafeCell</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">mem</span><span class="p">::</span><span class="n">MaybeUninit</span><span class="p">;</span>

<span class="cp">#[derive(Component)]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">Test</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">N</span><span class="p">:</span><span class="w"> </span><span class="kt">usize</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kt">f32</span><span class="p">;</span><span class="w"> </span><span class="n">N</span><span class="p">],</span>
<span class="p">}</span>

<span class="k">impl</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">N</span><span class="p">:</span><span class="w"> </span><span class="kt">usize</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Test</span><span class="o">&lt;</span><span class="n">N</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">new</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">Self</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="bp">Self</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.0</span><span class="p">;</span><span class="w"> </span><span class="n">N</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="nf">setup</span><span class="p">(</span><span class="k">mut</span><span class="w"> </span><span class="n">commands</span><span class="p">:</span><span class="w"> </span><span class="nc">Commands</span><span class="p">,</span><span class="w"> </span><span class="n">count</span><span class="p">:</span><span class="w"> </span><span class="nc">Res</span><span class="o">&lt;</span><span class="n">EntityCount</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">0</span><span class="o">..</span><span class="n">count</span><span class="p">.</span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">commands</span><span class="p">.</span><span class="n">spawn</span><span class="p">((</span>
<span class="w">            </span><span class="n">Test</span><span class="p">::</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">::</span><span class="n">new</span><span class="p">(),</span>
<span class="w">            </span><span class="n">Test</span><span class="p">::</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">::</span><span class="n">new</span><span class="p">(),</span>
<span class="w">            </span><span class="n">Test</span><span class="p">::</span><span class="o">&lt;</span><span class="mi">3</span><span class="o">&gt;</span><span class="p">::</span><span class="n">new</span><span class="p">(),</span>
<span class="w">            </span><span class="n">Test</span><span class="p">::</span><span class="o">&lt;</span><span class="mi">4</span><span class="o">&gt;</span><span class="p">::</span><span class="n">new</span><span class="p">(),</span>
<span class="w">            </span><span class="n">Test</span><span class="p">::</span><span class="o">&lt;</span><span class="mi">5</span><span class="o">&gt;</span><span class="p">::</span><span class="n">new</span><span class="p">(),</span>
<span class="w">            </span><span class="n">Test</span><span class="p">::</span><span class="o">&lt;</span><span class="mi">6</span><span class="o">&gt;</span><span class="p">::</span><span class="n">new</span><span class="p">(),</span>
<span class="w">            </span><span class="n">Test</span><span class="p">::</span><span class="o">&lt;</span><span class="mi">7</span><span class="o">&gt;</span><span class="p">::</span><span class="n">new</span><span class="p">(),</span>
<span class="w">            </span><span class="n">Test</span><span class="p">::</span><span class="o">&lt;</span><span class="mi">8</span><span class="o">&gt;</span><span class="p">::</span><span class="n">new</span><span class="p">(),</span>
<span class="w">            </span><span class="n">Test</span><span class="p">::</span><span class="o">&lt;</span><span class="mi">9</span><span class="o">&gt;</span><span class="p">::</span><span class="n">new</span><span class="p">(),</span>
<span class="w">            </span><span class="n">Test</span><span class="p">::</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">&gt;</span><span class="p">::</span><span class="n">new</span><span class="p">(),</span>
<span class="w">        </span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">pub</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">Engine</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">app</span><span class="p">:</span><span class="w"> </span><span class="nc">UnsafeCell</span><span class="o">&lt;</span><span class="n">MaybeUninit</span><span class="o">&lt;</span><span class="n">App</span><span class="o">&gt;&gt;</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">unsafe</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="nb">Sync</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Engine</span><span class="w"> </span><span class="p">{}</span>

<span class="k">impl</span><span class="w"> </span><span class="n">Engine</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">new</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">Self</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="bp">Self</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">app</span><span class="p">:</span><span class="w"> </span><span class="nc">UnsafeCell</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">MaybeUninit</span><span class="p">::</span><span class="n">uninit</span><span class="p">()),</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">app</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">App</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">unsafe</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">&amp;*</span><span class="bp">self</span><span class="p">.</span><span class="n">app</span><span class="p">.</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="p">}.</span><span class="n">assume_init_ref</span><span class="p">()</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">app_mut</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">App</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">unsafe</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="o">*</span><span class="bp">self</span><span class="p">.</span><span class="n">app</span><span class="p">.</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="p">}.</span><span class="n">assume_init_mut</span><span class="p">()</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">unsafe</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="o">*</span><span class="bp">self</span><span class="p">.</span><span class="n">app</span><span class="p">.</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="p">}.</span><span class="n">write</span><span class="p">(</span><span class="n">App</span><span class="p">::</span><span class="n">new</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="nf">tick</span><span class="p">(</span><span class="k">mut</span><span class="w"> </span><span class="n">query</span><span class="p">:</span><span class="w"> </span><span class="nc">Query</span><span class="o">&lt;</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Test</span><span class="o">&lt;</span><span class="mi">3</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">Test</span><span class="o">&lt;</span><span class="mi">5</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">Test</span><span class="o">&lt;</span><span class="mi">8</span><span class="o">&gt;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">query</span><span class="p">.</span><span class="n">iter_mut</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">0</span><span class="o">..</span><span class="mi">3</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">c</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">0</span><span class="o">..</span><span class="mi">5</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">c</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cp">#[derive(Resource)]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">EntityCount</span><span class="p">(</span><span class="k">pub</span><span class="w"> </span><span class="kt">usize</span><span class="p">);</span>

<span class="k">static</span><span class="w"> </span><span class="n">ENGINE</span><span class="p">:</span><span class="w"> </span><span class="nc">Engine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Engine</span><span class="p">::</span><span class="n">new</span><span class="p">();</span>

<span class="cp">#[unsafe(no_mangle)]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">extern</span><span class="w"> </span><span class="s">"system"</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="n">count</span><span class="p">:</span><span class="w"> </span><span class="kt">u32</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ENGINE</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">bevy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ENGINE</span><span class="p">.</span><span class="n">app_mut</span><span class="p">();</span>
<span class="w">    </span><span class="n">bevy</span><span class="p">.</span><span class="n">insert_resource</span><span class="p">(</span><span class="n">EntityCount</span><span class="p">(</span><span class="n">count</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">_</span><span class="p">));</span>
<span class="w">    </span><span class="n">bevy</span><span class="p">.</span><span class="n">add_systems</span><span class="p">(</span><span class="n">Startup</span><span class="p">,</span><span class="w"> </span><span class="n">setup</span><span class="p">);</span>
<span class="w">    </span><span class="n">bevy</span><span class="p">.</span><span class="n">add_systems</span><span class="p">(</span><span class="n">Update</span><span class="p">,</span><span class="w"> </span><span class="n">tick</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#[unsafe(no_mangle)]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">extern</span><span class="w"> </span><span class="s">"system"</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">update</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">bevy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ENGINE</span><span class="p">.</span><span class="n">app_mut</span><span class="p">();</span>
<span class="w">    </span><span class="n">bevy</span><span class="p">.</span><span class="n">update</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>When count =10000, the result is as follows</p>
<table>
<thead>
<tr>
<th>type</th>
<th>memory</th>
<th>fps</th>
<th>wasm memory</th>
</tr>
</thead>
<tbody>
<tr>
<td>native</td>
<td>9600</td>
<td>23400</td>
<td>-</td>
</tr>
<tr>
<td>cranelift</td>
<td>94372</td>
<td>23100</td>
<td>11392</td>
</tr>
<tr>
<td>pulley</td>
<td>47116</td>
<td>1010</td>
<td>-</td>
</tr>
<tr>
<td>wasmi</td>
<td>19896</td>
<td>1110</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>The FPS is great, actually. I wonder why cranelift and pulley cost so much memory.</p>



<a name="511627097"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/511627097" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#511627097">(Apr 11 2025 at 11:29)</a>:</h4>
<p>What is the unit of the memory column? bytes? kilobytes?</p>



<a name="511627917"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/511627917" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hoping White <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#511627917">(Apr 11 2025 at 11:33)</a>:</h4>
<p>kilobytes. And count=1-10000, does not effect the cranelift memory too much, it is 80000 basically and up</p>



<a name="511646672"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/511646672" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Freyler <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#511646672">(Apr 11 2025 at 13:03)</a>:</h4>
<p>Some questions:</p>
<ol>
<li>Did you use proper Cargo optimization settings required by Wasmi? This can affect Wasmi performance by up to 50%:</li>
</ol>
<div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="k">[profile.release]</span>
<span class="n">lto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"fat"</span>
<span class="n">codegen-units</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</code></pre></div>
<ol start="2">
<li>What platform are you running this on (CPU + OS)?</li>
<li>What Wasmi and Pulley/Wasmtime versions have you used?</li>
</ol>



<a name="511648491"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/511648491" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hoping <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#511648491">(Apr 11 2025 at 13:11)</a>:</h4>
<p>1 no<br>
2 wsl+ubuntu20.04+i9<br>
3 wasmtime 31.0 wasmi 0.44</p>



<a name="511651679"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/511651679" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#511651679">(Apr 11 2025 at 13:27)</a>:</h4>
<p>wsl environments have wildly varying constraints; if you ran the same thing somewhere else (bare metal ubuntu) I'd be interested......</p>



<a name="511651788"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/511651788" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#511651788">(Apr 11 2025 at 13:27)</a>:</h4>
<p>wsl works fine! but you need to be very skeptical of telemetry that comes out of it as it's really a dev platform optimized for client interruptions and so on.</p>



<a name="511651902"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/511651902" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#511651902">(Apr 11 2025 at 13:28)</a>:</h4>
<p>that said, if you find it is related to wsl, I'd be very interested anyway</p>



<a name="511652066"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/511652066" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#511652066">(Apr 11 2025 at 13:28)</a>:</h4>
<p>I don't THINK that it should have any effect here, but <em>I am frequently surprised by subtle differences</em></p>



<a name="511656939"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/511656939" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Freyler <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#511656939">(Apr 11 2025 at 13:48)</a>:</h4>
<p><span class="user-mention" data-user-id="739233">@hoping</span> please benchmark again with the proper optimization settings by copying the above <code>toml</code> code into your <code>Cargo.toml</code> file of the benchmarking source code. Otherwise, Wasmi is not used at its full potential. This may also benefit Pulley execution.</p>



<a name="511762570"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/511762570" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hoping <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#511762570">(Apr 12 2025 at 01:41)</a>:</h4>
<p>I will do the benchmark on the bare metal, but my main concern is the memory</p>



<a name="511979823"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/511979823" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hoping <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#511979823">(Apr 14 2025 at 04:39)</a>:</h4>
<p><span class="user-mention" data-user-id="374806">@Robin Freyler</span>  <span class="user-mention" data-user-id="268586">@Ralph</span> <br>
I tested it again, adding the cargo.toml parameters on the bare metal (They were older machines though)<br>
centos7.1 Intel(R) Xeon(R) CPU E5-2420 0 @ 1.90GHz</p>
<table>
<thead>
<tr>
<th>type</th>
<th>total memory(kb)</th>
<th>wasm memory(kb)</th>
<th>fps</th>
</tr>
</thead>
<tbody>
<tr>
<td>native</td>
<td>8168</td>
<td>-</td>
<td>8433</td>
</tr>
<tr>
<td>cranelift</td>
<td>92040</td>
<td>11392</td>
<td>7791</td>
</tr>
<tr>
<td>pulley</td>
<td>41676</td>
<td>11392</td>
<td>211</td>
</tr>
<tr>
<td>wasmi</td>
<td>16344</td>
<td>11392</td>
<td>382</td>
</tr>
</tbody>
</table>
<p>centos7.9 Intel(R) Xeon(R) Silver 4216 CPU @ 2.10GHz</p>
<table>
<thead>
<tr>
<th>type</th>
<th>total memory(kb)</th>
<th>wasm memory(kb)</th>
<th>fps</th>
</tr>
</thead>
<tbody>
<tr>
<td>native</td>
<td>8148</td>
<td>-</td>
<td>13374</td>
</tr>
<tr>
<td>cranelift</td>
<td>104468</td>
<td>11392</td>
<td>12360</td>
</tr>
<tr>
<td>pulley</td>
<td>40768</td>
<td>11392</td>
<td>424</td>
</tr>
<tr>
<td>wasmi</td>
<td>16296</td>
<td>11392</td>
<td>1045</td>
</tr>
</tbody>
</table>
<p>The conclusions are</p>
<ul>
<li>wasmi/cranelift 1:10 </li>
<li>pulley/wasmi: 1:2.5</li>
<li>cranelift/native 0.9:1</li>
</ul>
<p>The memory did not change too much on all the machines.<br>
I am trying to use wasm as a hot fix method for mobile phones, so memory is my primary concern. I wonder why cranelift cost so much memory, and is there any way to reduce it?  Is it going to increase as the complexity of the code goes up?</p>



<a name="511990071"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/511990071" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hoping <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#511990071">(Apr 14 2025 at 05:57)</a>:</h4>
<p>Deepseek tells me to set parallel_compilation to false, reducing the memory from 98 to 48. Are there any other configurations like this to use?</p>



<a name="512009219"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512009219" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512009219">(Apr 14 2025 at 07:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="739233">hoping</span> <a href="#narrow/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test/near/511990071">said</a>:</p>
<blockquote>
<p>Deepseek tells me to set parallel_compilation to false, reducing the memory from 98 to 48. Are there any other configurations like this to use?</p>
</blockquote>
<p>I suspect you are either measuring peak memory usage or you are measuring memory usage from the OS side rather than the actually allocated memory amount. Setting parallel_compilation to false will only reduce memory usage when compiling the wasm module. Once compilation is done, all this memory is freed either way. It is possible however that the memory allocator choses to retain part or all of this memory to more quickly serve future allocation requests. If you are trying to measure memory usage you should use a heap profiler like valgrind's dhat or massif  or for example <a href="https://github.com/koute/bytehound">bytehound</a>. The <a href="https://docs.rs/dhat/latest/dhat/">dhat</a> crate is also an option.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/koute/bytehound" style="background-image: url(&quot;https://uploads.zulipusercontent.net/864554e93c3f7134ecff365d89d768166b3d26a0/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f373736356266343130666533306236636237666638366531636664316163623733306165633363633664356134643737383830353932313634623361626664332f6b6f7574652f62797465686f756e64&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/koute/bytehound" title="GitHub - koute/bytehound: A memory profiler for Linux.">GitHub - koute/bytehound: A memory profiler for Linux.</a></div><div class="message_embed_description">A memory profiler for Linux. Contribute to koute/bytehound development by creating an account on GitHub.</div></div></div>



<a name="512020618"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512020618" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hoping <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512020618">(Apr 14 2025 at 08:48)</a>:</h4>
<p><span class="user-mention" data-user-id="264278">@bjorn3</span>   The memory is <code>RES</code> field from <code>top</code> command, so it's not the peak memory. </p>
<p>I tried valgrind and bytehound, all crashed on my system. I don't know why.</p>
<p>So I think if the memory is reserved by the allocator, when I increase the count, the wasm may consume more memory, so the reserved memory should be used, and the memory gap should decrease.</p>
<table>
<thead>
<tr>
<th>count</th>
<th>parallel_compilation</th>
<th>total memory</th>
<th>wasm memory</th>
<th>memory gap</th>
</tr>
</thead>
<tbody>
<tr>
<td>10000</td>
<td>No</td>
<td>48516</td>
<td>11392</td>
<td>37124</td>
</tr>
<tr>
<td>100000</td>
<td>No</td>
<td>115044</td>
<td>86592</td>
<td>28452</td>
</tr>
<tr>
<td>10000</td>
<td>Yes</td>
<td>102056</td>
<td>11392</td>
<td>90664</td>
</tr>
<tr>
<td>100000</td>
<td>Yes</td>
<td>163712</td>
<td>86592</td>
<td>77120</td>
</tr>
<tr>
<td>1000000</td>
<td>Yes</td>
<td>759792</td>
<td>685120</td>
<td>74672</td>
</tr>
</tbody>
</table>
<p>I don't think the result supports the allocator reservation assumption.</p>



<a name="512072386"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512072386" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512072386">(Apr 14 2025 at 12:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="739233">hoping</span> has marked this topic as unresolved.</p>



<a name="512083311"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512083311" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512083311">(Apr 14 2025 at 13:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="739233">hoping</span> <a href="#narrow/channel/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test/near/512035254">said</a>:</p>
<blockquote>
<p>I think I got it. Code compilation did not release the memory. If I use Moudle::deserialize instead of Moudle::from_file, the memory is just fine as lower as wasmi.</p>
</blockquote>
<p>someone ensure that puppy is documented!!!</p>



<a name="512083403"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512083403" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512083403">(Apr 14 2025 at 13:42)</a>:</h4>
<p>do you have the results run after this change?</p>



<a name="512083417"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512083417" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512083417">(Apr 14 2025 at 13:42)</a>:</h4>
<p>love to see the table again.....</p>



<a name="512163035"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512163035" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512163035">(Apr 14 2025 at 20:00)</a>:</h4>
<p>This is more an issue of methodology I think: measuring resident memory as viewed by the OS is not an accurate way to get the exact size of the heap. If Cranelift leaks memory, that would be an issue we'd need to resolve, but it's written in fully safe Rust and frees all of its data structures after compilation, so that shouldn't be the case. <span class="user-mention" data-user-id="739233">@hoping</span> I don't think the memory reservation works the way you think it does: there are likely per-thread free pools and other things going on in a modern high-performance parallel allocator that make this hard to reason about.</p>
<p>If you run under Valgrind you can get per-byte leak tracking; if you actually see a memory leak while running that way we'd be interested to hear about it.</p>



<a name="512163227"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512163227" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512163227">(Apr 14 2025 at 20:01)</a>:</h4>
<blockquote>
<p>Deepseek tells me to set parallel_compilation to false, reducing the memory from 98 to 48. Are there any other configurations like this to use?</p>
</blockquote>
<p>Also, please don't rely on AI tools to give you advice about our project -- we're happy to answer questions ourselves, and our experience is that AI tools (which are at their heart statistical randomness machines) sometimes hallucinate or give bad advice.</p>



<a name="512163458"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512163458" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512163458">(Apr 14 2025 at 20:02)</a>:</h4>
<p>(For example, turning off parallel compilation is probably a bad idea in a user-facing app because it will also significantly increase startup latency when you have a new uncached module)</p>



<a name="512204051"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512204051" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hoping <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512204051">(Apr 15 2025 at 01:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="268586">Ralph</span> <a href="#narrow/channel/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test/near/512083403">said</a>:</p>
<blockquote>
<p>do you have the results run after this change?</p>
</blockquote>
<table>
<thead>
<tr>
<th>count</th>
<th>total memory</th>
<th>wasm memory</th>
</tr>
</thead>
<tbody>
<tr>
<td>10000</td>
<td>17072</td>
<td>11392</td>
</tr>
<tr>
<td>100000</td>
<td>83580</td>
<td>86592</td>
</tr>
<tr>
<td>1000000</td>
<td>678504</td>
<td>685120</td>
</tr>
</tbody>
</table>
<p>I think the total memory taken from RES is not accurate, so the last two rows show total memory &lt; wasm memory.</p>



<a name="512204743"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512204743" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hoping <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512204743">(Apr 15 2025 at 01:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="254389">Chris Fallin</span> <a href="#narrow/channel/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test/near/512163035">said</a>:</p>
<blockquote>
<p>This is more an issue of methodology I think: measuring resident memory as viewed by the OS is not an accurate way to get the exact size of the heap. If Cranelift leaks memory, that would be an issue we'd need to resolve, but it's written in fully safe Rust and frees all of its data structures after compilation, so that shouldn't be the case. <span class="user-mention silent" data-user-id="739233">hoping</span> I don't think the memory reservation works the way you think it does: there are likely per-thread free pools and other things going on in a modern high-performance parallel allocator that make this hard to reason about.</p>
<p>If you run under Valgrind you can get per-byte leak tracking; if you actually see a memory leak while running that way we'd be interested to hear about it.</p>
</blockquote>
<p>I agree. I don't think it's fair to call it a memory leak actually. The parallel compilation uses rayon, and the global thread pool won't be cleaned when the compilation is done. (I don't think they provide an API to do this).  So the correct way to use wasmtime when memory is the priority is to load from a cached module.</p>



<a name="512369763"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512369763" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512369763">(Apr 15 2025 at 16:49)</a>:</h4>
<p>an even better approach for keeping memory (and latency) overheads low would be to pre-compile the <code>.wasm</code>s into <code>.cwasm</code>s and avoid compiling on-device or in the data plane at all.</p>
<p>this is relevant for both pulley and cranelift-native (and winch too, but you don't seem interested in winch, afaict)</p>
<p>resources:</p>
<ul>
<li><a href="https://docs.rs/wasmtime/latest/wasmtime/struct.Engine.html#method.precompile_module">https://docs.rs/wasmtime/latest/wasmtime/struct.Engine.html#method.precompile_module</a></li>
<li><a href="https://docs.rs/wasmtime/latest/wasmtime/struct.Module.html#method.deserialize_file">https://docs.rs/wasmtime/latest/wasmtime/struct.Module.html#method.deserialize_file</a></li>
</ul>



<a name="512370546"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512370546" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512370546">(Apr 15 2025 at 16:53)</a>:</h4>
<p>with ^ you can also disable the compiler from your embedding's wasmtime build, meaning that code size shrinks a ton and you don't have memory overhead associated with the compiler's executable code either</p>



<a name="512370764"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512370764" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512370764">(Apr 15 2025 at 16:54)</a>:</h4>
<p>see <a href="https://docs.wasmtime.dev/examples-minimal.html">https://docs.wasmtime.dev/examples-minimal.html</a> for more details about building a minimal, runtime-only wasmtime build that doesn't include the compiler</p>



<a name="512720376"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/pulley%20vs%20wasmi%20vs%20cranelift%2C%20more%20detail%20test/near/512720376" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hoping <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/pulley.20vs.20wasmi.20vs.20cranelift.2C.20more.20detail.20test.html#512720376">(Apr 17 2025 at 02:09)</a>:</h4>
<p><span class="user-mention" data-user-id="253990">@fitzgen (he/him)</span>   Thanks for the advice. This is what I need.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>