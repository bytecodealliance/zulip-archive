<html>
<head><meta charset="utf-8"><title>wasmtime on Android through the JNI · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html">wasmtime on Android through the JNI</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="538576573"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/538576573" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#538576573">(Sep 10 2025 at 06:36)</a>:</h4>
<p>Hi! I'm trying to use the wasmtime c/c++ api on Android through the JNI. I downloaded the source files and imported them in my project. I adapted <a href="https://docs.wasmtime.dev/examples-cpp-hello-world.html">this example</a> to read a file from the "Download" folder. But when I run the app, I get the following error :</p>
<blockquote>
<p>: &amp;&amp; /Users/.../Library/Android/sdk/ndk/27.0.12077973/toolchains/llvm/prebuilt/darwin-x86_64/bin/clang++ --target=aarch64-none-linux-android26 --sysroot=/Users/.../Library/Android/sdk/ndk/27.0.12077973/toolchains/llvm/prebuilt/darwin-x86_64/sysroot -fPIC -g -DANDROID -fdata-sections -ffunction-sections -funwind-tables -fstack-protector-strong -no-canonical-prefixes -D_FORTIFY_SOURCE=2 -Wformat -Werror=format-security   -fno-limit-debug-info  -static-libstdc++ -Wl,--build-id=sha1 -Wl,--no-rosegment -Wl,--no-undefined-version -Wl,--fatal-warnings -Wl,--no-undefined -Qunused-arguments -shared -Wl,-soname,<a href="http://libembeddedwasmtest.so">libembeddedwasmtest.so</a> -o /Users/.../Repos/EmbeddedWasmTest/app/build/intermediates/cxx/Debug/w6f68232/obj/arm64-v8a/libembeddedwasmtest.so CMakeFiles/embeddedwasmtest.dir/native-lib.cpp.o  -landroid  -llog  /Users/.../Library/Android/sdk/ndk/27.0.12077973/toolchains/llvm/prebuilt/darwin-x86_64/sysroot/usr/lib/aarch64-linux-android/26/libandroid.so  /Users/.../Library/Android/sdk/ndk/27.0.12077973/toolchains/llvm/prebuilt/darwin-x86_64/sysroot/usr/lib/aarch64-linux-android/26/liblog.so  -latomic -lm &amp;&amp; :</p>
<p>ld.lld: error: undefined symbol: wasm_engine_new</p>
<blockquote>
<blockquote>
<blockquote>
<p>referenced by engine.hh:34 (/Users/.../Repos/EmbeddedWasmTest/app/src/main/cpp/wasmtime/include/wasmtime/engine.hh:34)<br>
              CMakeFiles/embeddedwasmtest.dir/native-lib.cpp.o:(wasmtime::Engine::Engine())</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>Any ideas how I can fix that?</p>



<a name="538587584"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/538587584" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#538587584">(Sep 10 2025 at 07:52)</a>:</h4>
<p>Well turned out I needed to link the .a and .o library files with CMakeLists.txt. Now I get an error saying those files are not compatible : "[...].o is incompatible with armelf_linux_eabi". I guess I need to compile wasmtime with the correct target myself then?</p>



<a name="538670669"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/538670669" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#538670669">(Sep 10 2025 at 14:43)</a>:</h4>
<p>Which downloadable artifact are you using from Wasmtime? To confirm are you using <a href="https://github.com/bytecodealliance/wasmtime/releases/download/v36.0.2/wasmtime-v36.0.2-aarch64-android-c-api.tar.xz">https://github.com/bytecodealliance/wasmtime/releases/download/v36.0.2/wasmtime-v36.0.2-aarch64-android-c-api.tar.xz</a>?</p>
<p>Otherwise it's worth noting that Android for Wasmtime is a Tier 3 platform as no current maintainer has expertise on the platform and we don't have any other maintainer who has stepped up to maintain the target. That means that support is best-effort right now and while we're happy to help debug what we can and merge PRs/fixes it's worth setting expectations that it's unlikely everything works out of the box (or is thoroughly documented as other platforms are)</p>



<a name="538714126"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/538714126" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#538714126">(Sep 10 2025 at 18:19)</a>:</h4>
<p>Yes, I'm using the aarch64-android c api. I do have experience with regular Android development but not so much with the native side. I'll see what I can do, maybe a PR some day!</p>



<a name="538714989"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/538714989" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#538714989">(Sep 10 2025 at 18:25)</a>:</h4>
<p>ok yeah in that case I don't recognize that linker error message myself, but that does sound like the compilation flags in Rust are wrong and/or missing something? As to what though I'm not sure :(</p>



<a name="538715023"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/538715023" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#538715023">(Sep 10 2025 at 18:25)</a>:</h4>
<p>and yeah we're more than happy to have PRs and/or suggestions here of how to improve things</p>



<a name="538726885"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/538726885" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#538726885">(Sep 10 2025 at 19:40)</a>:</h4>
<p>But I noticed that the header files look duplicated inside the downloadable : wasmtime/include and wasmtime/min. I didn't find explanations on what's the difference between the two, do you know where I can learn more?</p>



<a name="538727625"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/538727625" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#538727625">(Sep 10 2025 at 19:45)</a>:</h4>
<p>They're sort of like different sysroots, the "min" folder is built with almost all features disabled in the C API. The headers are exactly the same except for <code>conf.h</code> will will be different between the two. You probably want to just ignore the <code>min</code> folder</p>



<a name="538741765"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/538741765" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#538741765">(Sep 10 2025 at 21:35)</a>:</h4>
<p>Some follow up on the topic : I get the app to compile but it still fails at runtime. I asked for help on SO <a href="https://stackoverflow.com/questions/79761309/link-third-party-c-library-through-the-jni">https://stackoverflow.com/questions/79761309/link-third-party-c-library-through-the-jni</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://stackoverflow.com/questions/79761309/link-third-party-c-library-through-the-jni" style="background-image: url(&quot;https://uploads.zulipusercontent.net/925df65c212e80f19e81fcac1fb25e660797c3ce/68747470733a2f2f63646e2e737374617469632e6e65742f53697465732f737461636b6f766572666c6f772f496d672f6170706c652d746f7563682d69636f6e40322e706e673f763d373364373961383962646564&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://stackoverflow.com/questions/79761309/link-third-party-c-library-through-the-jni" title="Link third party C library through the JNI">Link third party C library through the JNI</a></div><div class="message_embed_description">I'm trying to add the wasmtime c-api library to my app. But I'm getting the following error at runtime:

java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;/Users/tufekoi/Repos/EmbeddedWa...</div></div></div>



<a name="539003533"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/539003533" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#539003533">(Sep 12 2025 at 07:55)</a>:</h4>
<p>I think I figured it out! It was mainly due to a wrong configuration of my CMakeLists.txt file. But I had to modify the header files from wasmtime though. Android Studio complained it couldn't resolve the <code>include</code> statements to relative files using <code>&lt;path/to/header.h&gt;</code>. I had to replace them with <code>"path/to/header.h"</code>. Several path were wrong too. Do you know how I can fix that in the wasmtime project? Then I can create a PR and maybe a documentation for android use.</p>



<a name="539082295"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/539082295" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#539082295">(Sep 12 2025 at 14:42)</a>:</h4>
<p>In my experience this typically means a missing <code>-I</code> or compiler flag,  but I'm also no C/C++ expert. I'm not sure why things work in the Wasmtime repo, for example, but don't work in your example. If you'd like feel free to send a PR and we can discuss further</p>



<a name="539276003"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/539276003" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#539276003">(Sep 13 2025 at 14:36)</a>:</h4>
<p>I managed to complete the POC I wanted. I ended up creating an intermediary Rust library that compiles down to a C static library that I can include in my app. The Rust lib set up has only one function that takes a byte array from a wasm file, instanciate it based on a required wit, runs it and return a result.</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#[unsafe(no_mangle)]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">extern</span><span class="w"> </span><span class="s">"C"</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">execute_wasm</span><span class="p">(</span><span class="n">bytes</span><span class="p">:</span><span class="w"> </span><span class="o">*</span><span class="k">const</span><span class="w"> </span><span class="kt">u8</span><span class="p">,</span><span class="w"> </span><span class="n">wasm_len</span><span class="p">:</span><span class="w"> </span><span class="kt">usize</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="kt">u32</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">unsafe</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">slice</span><span class="p">::</span><span class="n">from_raw_parts</span><span class="p">(</span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">wasm_len</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">engine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Engine</span><span class="p">::</span><span class="n">default</span><span class="p">();</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Component</span><span class="p">::</span><span class="n">from_binary</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">,</span><span class="w"> </span><span class="n">wasm</span><span class="p">).</span><span class="n">expect</span><span class="p">(</span><span class="s">"failed to compile component"</span><span class="p">);</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">linker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Linker</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">);</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Store</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">engine</span><span class="p">,</span><span class="w"> </span><span class="n">ComponentState</span><span class="w"> </span><span class="p">{});</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">bindings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Root</span><span class="p">::</span><span class="n">instantiate</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">component</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">linker</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="s">"failed to instantiate component"</span><span class="p">);</span>

<span class="w">    </span><span class="n">bindings</span>
<span class="w">        </span><span class="p">.</span><span class="n">custom_wasi_component_one_add</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="n">call_add</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="s">"failed to call `add` function"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>On the android side, I only need to call that function from the JNI</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">extern</span><span class="w"> </span><span class="s">"C"</span><span class="w"> </span><span class="n">JNIEXPORT</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="n">JNICALL</span>
<span class="n">Java_no_jean_embeddedwasmtest_MainActivity_executeWasm</span><span class="p">(</span>
<span class="w">        </span><span class="n">JNIEnv</span><span class="w"> </span><span class="o">*</span><span class="n">env</span><span class="p">,</span>
<span class="w">        </span><span class="n">jobject</span><span class="w"> </span><span class="cm">/* this */</span><span class="p">,</span>
<span class="w">        </span><span class="n">jbyteArray</span><span class="w"> </span><span class="n">wasmBytesArray</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">jsize</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">env</span><span class="p">-&gt;</span><span class="nc">GetArrayLength</span><span class="p">(</span><span class="n">wasmBytesArray</span><span class="p">);</span>
<span class="w">    </span><span class="n">jbyte</span><span class="o">*</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">env</span><span class="p">-&gt;</span><span class="nc">GetByteArrayElements</span><span class="p">(</span><span class="n">wasmBytesArray</span><span class="p">,</span><span class="w"> </span><span class="n">nullptr</span><span class="p">);</span>
<span class="w">    </span><span class="n">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">execute_wasm</span><span class="p">(</span><span class="n">reinterpret_cast</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">uint8_t</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">bytes</span><span class="p">),</span><span class="w"> </span><span class="n">length</span><span class="p">);</span>
<span class="w">    </span><span class="n">env</span><span class="p">-&gt;</span><span class="nc">ReleaseByteArrayElements</span><span class="p">(</span><span class="n">wasmBytesArray</span><span class="p">,</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">JNI_ABORT</span><span class="p">);</span>

<span class="w">    </span><span class="n">LOGD</span><span class="p">(</span><span class="s">"All done!"</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>And it works!</p>
<p>I would I've like to be able to use something similar to <code>bindgen</code> directly in c++, so I wouldn't need the rust library. I also assumed it was ok for the host to require components to implement a certain wit (does one say "implement a wit"?) Other thread regarding  I started regarding that topic <a class="stream-topic" data-stream-id="206238" href="/#narrow/channel/206238-general/topic/Consuming.20wasi.20components.20with.20the.20wasmtime.20c.20api/with/539260342">#general &gt; Consuming wasi components with the wasmtime c api</a></p>



<a name="540540715"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/540540715" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#540540715">(Sep 19 2025 at 22:32)</a>:</h4>
<p>I kept experimenting a bit : I compiled my custom rust library with ios (simulator) as a target and made a quick test app that open a wasi component file and run it from swift. The interop with C is actually even easier than on android. <br>
I guess that mid-layer library is actually a good thing, now I can quite easily run wasi components from different platforms with a single codebase using the wasmtime library.</p>



<a name="541122626"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/541122626" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#541122626">(Sep 24 2025 at 00:26)</a>:</h4>
<p>Quick question -- given the <a href="https://stackoverflow.com/questions/5054732/is-it-prohibited-using-of-jitjust-in-time-compiled-code-in-ios-app-for-appstor">"no JITs on iOS"</a> thing, are you planning on using <a href="https://github.com/bytecodealliance/wasmtime/blob/main/pulley/README.md">pulley</a> to run the component?</p>
<p>Happy to be wrong but I wonder if it's a thing that might pass in simulator but not on-device?</p>
<div class="message_embed"><a class="message_embed_image" href="https://stackoverflow.com/questions/5054732/is-it-prohibited-using-of-jitjust-in-time-compiled-code-in-ios-app-for-appstor" style="background-image: url(&quot;https://uploads.zulipusercontent.net/925df65c212e80f19e81fcac1fb25e660797c3ce/68747470733a2f2f63646e2e737374617469632e6e65742f53697465732f737461636b6f766572666c6f772f496d672f6170706c652d746f7563682d69636f6e40322e706e673f763d373364373961383962646564&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://stackoverflow.com/questions/5054732/is-it-prohibited-using-of-jitjust-in-time-compiled-code-in-ios-app-for-appstor" title="is it prohibited using of JIT(just-in-time) compiled code in iOS app for AppStore?">is it prohibited using of JIT(just-in-time) compiled code in iOS app for AppStore?</a></div><div class="message_embed_description">I heard that JIT compiled code is not allowed in iOS AppStore because placing executable code in heap is prohibited. It that right? Or just a rumor?</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/main/pulley/README.md" style="background-image: url(&quot;https://uploads.zulipusercontent.net/166ddc3b8b844a4c6fd715eda31e3729c8ef204d/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f636532623139646235313766373336366164646337313466396335653338373437636537643865396162376166383062643131326664656465303337353033332f62797465636f6465616c6c69616e63652f7761736d74696d65&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/main/pulley/README.md" title="wasmtime/pulley/README.md at main · bytecodealliance/wasmtime">wasmtime/pulley/README.md at main · bytecodealliance/wasmtime</a></div><div class="message_embed_description">A lightweight WebAssembly runtime that is fast, secure, and standards-compliant - bytecodealliance/wasmtime</div></div></div>



<a name="541319746"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/541319746" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#541319746">(Sep 24 2025 at 19:51)</a>:</h4>
<p>Well I didn't even know about that issue,, that SO thread refers to publication rules I think. Meaning it should run on-device the same way it runs on the simulator. But Apple seems to reject apps executing code that is not statically linked at the review time. That thread is from 2011 so maybe the rules are different now? I wouldn't be surprised if it's not, but it could be possible Apple agrees to let third-party wasm file be executed. One can hope!</p>



<a name="541324688"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/541324688" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#541324688">(Sep 24 2025 at 20:19)</a>:</h4>
<p>The rules are still the same AFAIK.</p>



<a name="542000705"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime%20on%20Android%20through%20the%20JNI/near/542000705" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime.20on.20Android.20through.20the.20JNI.html#542000705">(Sep 29 2025 at 10:39)</a>:</h4>
<p>This topic was moved to <a class="stream-topic" data-stream-id="217126" href="/#narrow/channel/217126-wasmtime/topic/wasmtime.20on.20Android.20through.20the.20JNI/with/542000703">#wasmtime &gt; wasmtime on Android through the JNI</a> by <span class="user-mention silent" data-user-id="234973">Till Schneidereit</span>.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>