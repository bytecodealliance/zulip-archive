<html>
<head><meta charset="utf-8"><title>WIT formatter out now! 路 general 路 Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/WIT.20formatter.20out.20now.21.html">WIT formatter out now!</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="510278508"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/WIT%20formatter%20out%20now%21/near/510278508" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikhail Katychev <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/WIT.20formatter.20out.20now.21.html#510278508">(Apr 04 2025 at 19:48)</a>:</h4>
<p>Hi all, my WIT formatter just got merged into <a href="https://topiary.tweag.io/">topiary</a> main!</p>
<p>This formatter can handle newer stuff like async and feature gates! <br>
<a href="https://github.com/tweag/topiary/blob/main/topiary-cli/tests/samples/input/wit.wit#L162-L184">https://github.com/tweag/topiary/blob/main/topiary-cli/tests/samples/input/wit.wit#L162-L184</a></p>
<h2>Install:</h2>
<p><code>cargo install --git https://github.com/tweag/topiary --no-default-features topiary-cli --features=wit</code></p>
<h2>Usage</h2>
<p><code>topiary fmt path/to/my_file.wit</code>!<br>
for stdin:<br>
<code>cat input.wit | topiary fmt --language wit</code></p>
<p>P.S.</p>
<p>A lot of these changes were based off of work on my fork of <code>tree-sitter-wit</code> <a href="https://github.com/mkatychev/tree-sitter-wit/tree/rc-1">https://github.com/mkatychev/tree-sitter-wit/tree/rc-1</a>.<br>
If your code editor supports tree-sitter, you can get the new syntax highlighting as well!<br>
<a href="/user_uploads/15107/rRoXW96wfZsJXE-gFaiNtH9p/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/15107/rRoXW96wfZsJXE-gFaiNtH9p/image.png" title="image.png"><img data-original-content-type="image/png" data-original-dimensions="884x956" src="/user_uploads/thumbnail/15107/rRoXW96wfZsJXE-gFaiNtH9p/image.png/840x560.webp"></a></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/tweag/topiary/blob/main/topiary-cli/tests/samples/input/wit.wit#L162-L184" style='background-image: url("https://uploads.zulipusercontent.net/d44acc5423168854200ca0b0d0b9e30ed45094f4/68747470733a2f2f7265706f7369746f72792d696d616765732e67697468756275736572636f6e74656e742e636f6d2f3439393430383733362f30356239303939362d656137622d343333662d613365662d343435393963633732643030")'></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/tweag/topiary/blob/main/topiary-cli/tests/samples/input/wit.wit#L162-L184" title="topiary/topiary-cli/tests/samples/input/wit.wit at main 路 tweag/topiary">topiary/topiary-cli/tests/samples/input/wit.wit at main 路 tweag/topiary</a></div><div class="message_embed_description">Contribute to tweag/topiary development by creating an account on GitHub.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/mkatychev/tree-sitter-wit/tree/rc-1" style='background-image: url("https://uploads.zulipusercontent.net/624fa6d3709e1b123dadb94fbe38ae2e4acf3cd4/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f396630623631666365613232353936616636303436363366306231633639633530333037303561313361316366626535346338343864353532323534303833342f6d6b617479636865762f747265652d7369747465722d776974")'></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/mkatychev/tree-sitter-wit/tree/rc-1" title="GitHub - mkatychev/tree-sitter-wit at rc-1">GitHub - mkatychev/tree-sitter-wit at rc-1</a></div><div class="message_embed_description">Tree Sitter grammar for Web Assembly Interface Types - GitHub - mkatychev/tree-sitter-wit at rc-1</div></div></div>



<a name="510444520"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/WIT%20formatter%20out%20now%21/near/510444520" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/WIT.20formatter.20out.20now.21.html#510444520">(Apr 06 2025 at 04:43)</a>:</h4>
<p>Hey this is awesome! :) </p>
<p>How would someone use this/get started using topiary? Is there an easy Emacs onboarding path? Neovim? VSCode, etc? Seems like it should be run as a binary alongside other tooling?</p>



<a name="510502634"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/WIT%20formatter%20out%20now%21/near/510502634" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikhail Katychev <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/WIT.20formatter.20out.20now.21.html#510502634">(Apr 06 2025 at 17:22)</a>:</h4>
<p>Hey Victor, I'm not sure about VSCode as I don't use it but for neovim I set an Autocmd (I'm sure emacs has an equivalent) to do a file format on save</p>



<a name="510963708"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/WIT%20formatter%20out%20now%21/near/510963708" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikhail Katychev <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/WIT.20formatter.20out.20now.21.html#510963708">(Apr 08 2025 at 15:23)</a>:</h4>
<p>Here's my use of topiary for WIT in neovim:</p>
<div class="codehilite" data-code-language="Lua"><pre><span></span><code><span class="kd">local</span><span class="w"> </span><span class="nv">autocmd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vim</span><span class="p">.</span><span class="py">api</span><span class="p">.</span><span class="py">nvim_create_autocmd</span>
<span class="nf">autocmd</span><span class="p">(</span><span class="s2">"BufWritePre"</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"*.wit"</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nv">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
<span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">fmt_cmd_table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">[</span><span class="s2">"wit"</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"topiary format --language wit"</span><span class="p">,</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="nf">format_buf</span><span class="p">(</span><span class="nv">fmt_cmd_table</span><span class="p">[</span><span class="nv">vim</span><span class="p">.</span><span class="py">bo</span><span class="p">.</span><span class="py">filetype</span><span class="p">])</span>
<span class="w">    </span><span class="kr">end</span><span class="p">,</span>
<span class="p">})</span>
</code></pre></div>
<p>I've omitted other languages but the pattern should be the same for vimscript or emacs</p>



<a name="511365107"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/WIT%20formatter%20out%20now%21/near/511365107" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/WIT.20formatter.20out.20now.21.html#511365107">(Apr 10 2025 at 10:00)</a>:</h4>
<p>there is <a href="https://marketplace.visualstudio.com/items?itemName=GordonSmith.wit-lang">https://marketplace.visualstudio.com/items?itemName=GordonSmith.wit-lang</a> and also <a href="https://github.com/bytecodealliance/vscode-wit">https://github.com/bytecodealliance/vscode-wit</a> (which may be an earlier version?).....</p>
<div class="message_embed"><a class="message_embed_image" href="https://marketplace.visualstudio.com/items?itemName=GordonSmith.wit-lang" style="background-image: url(&quot;https://uploads.zulipusercontent.net/02425150c3868fdb9c1e45150d8e8d19d2abd286/68747470733a2f2f476f72646f6e536d6974682e67616c6c65727963646e2e76736173736574732e696f2f657874656e73696f6e732f676f72646f6e736d6974682f7769742d6c616e672f312e302e332f313733363236333039353738312f4d6963726f736f66742e56697375616c53747564696f2e53657276696365732e49636f6e732e44656661756c74&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://marketplace.visualstudio.com/items?itemName=GordonSmith.wit-lang" title="WIT (WebAssembly Interface Type) Language - Visual Studio Marketplace">WIT (WebAssembly Interface Type) Language - Visual Studio Marketplace</a></div><div class="message_embed_description">Extension for Visual Studio Code - WIT (WebAssembly Interface Type) Language Extension for VSCode</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/vscode-wit" style="background-image: url(&quot;https://uploads.zulipusercontent.net/b443abf3205cb527aabbe8f00ae819eee06fa961/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f626333626261396334316166656163656436353366323264653464336238626130326164633464663933363262616265663731386163303261313337346139332f62797465636f6465616c6c69616e63652f7673636f64652d776974&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/vscode-wit" title="GitHub - bytecodealliance/vscode-wit: Visual Studio Code extension to recognize and highlight the WebAssembly Interface Type (WIT) IDL.">GitHub - bytecodealliance/vscode-wit: Visual Studio Code extension to recognize and highlight the WebAssembly Interface Type (WIT) IDL.</a></div><div class="message_embed_description">Visual Studio Code extension to recognize and highlight the WebAssembly Interface Type (WIT) IDL. - bytecodealliance/vscode-wit</div></div></div>



<a name="511447825"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/WIT%20formatter%20out%20now%21/near/511447825" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/WIT.20formatter.20out.20now.21.html#511447825">(Apr 10 2025 at 15:51)</a>:</h4>
<p><span class="user-mention" data-user-id="893316">@Mikhail Katychev</span> Thanks for this! It doesnt look like topiary has a way to check for formatting like <code>rustfmt --check</code>, that would be nice to have in CI jobs. do you have any context with that project to know why its absent or if they'd be open to adding it?</p>



<a name="512371819"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/WIT%20formatter%20out%20now%21/near/512371819" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikhail Katychev <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/WIT.20formatter.20out.20now.21.html#512371819">(Apr 15 2025 at 16:59)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="253992">@Pat Hickey</span> good callout! The test cases in the <code>topiary-cli</code> crate definitely have that logic in place. I think it's absent because the work just hasn't been done for it.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>