<html>
<head><meta charset="utf-8"><title>`Resource` and `ExternRef` · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.60Resource.60.20and.20.60ExternRef.60.html">`Resource` and `ExternRef`</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="526347669"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%60Resource%60%20and%20%60ExternRef%60/near/526347669" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wu Yu Wei <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.60Resource.60.20and.20.60ExternRef.60.html#526347669">(Jun 30 2025 at 08:37)</a>:</h4>
<p>Hello, I noticed wasmtime has implemented GC types since last November and I'm interested to see if it can be a DOM script engine. For my use case, I need to store most of the data as GC traced object.</p>
<p>I wonder is it acceptable to create another <code>Store</code> and use it to create and push <code>ExternRef</code> to <code>ResourceTable</code>?</p>



<a name="526366545"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%60Resource%60%20and%20%60ExternRef%60/near/526366545" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.60Resource.60.20and.20.60ExternRef.60.html#526366545">(Jun 30 2025 at 10:16)</a>:</h4>
<p><code>ResourceTable</code> is for wasm components. For a web browser (or javascript engine) you wouldn't use wasm components. They aren't supported by any existing js engines anyway.</p>



<a name="526366774"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%60Resource%60%20and%20%60ExternRef%60/near/526366774" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.60Resource.60.20and.20.60ExternRef.60.html#526366774">(Jun 30 2025 at 10:17)</a>:</h4>
<p>All js code that would be able to directly interact with each other needs to use a single wasm store according to the wasm js interface spec:</p>
<blockquote>
<p>Each <a href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#agent">agent</a> has an associated store. When a new agent is created, its associated store is set to the result of <a href="https://webassembly.github.io/spec/core/appendix/embedding.html#embed-store-init">store_init</a>().</p>
</blockquote>



<a name="526370617"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%60Resource%60%20and%20%60ExternRef%60/near/526370617" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wu Yu Wei <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.60Resource.60.20and.20.60ExternRef.60.html#526370617">(Jun 30 2025 at 10:40)</a>:</h4>
<p>Oh what I mean is using wasmtime directly as a script backend for projects like servo perhaps. A few years ago, servo community had a topic about replacing spidermonkey and I was interested in exploring wasm only backend. But the nature of DOM forces its objects need to be GC traced.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>