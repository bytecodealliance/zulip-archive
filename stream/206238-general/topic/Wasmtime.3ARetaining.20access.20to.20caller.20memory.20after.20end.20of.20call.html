<html>
<head><meta charset="utf-8"><title>Wasmtime:Retaining access to caller memory after end of call · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Wasmtime.3ARetaining.20access.20to.20caller.20memory.20after.20end.20of.20call.html">Wasmtime:Retaining access to caller memory after end of call</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="509428120"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Wasmtime%3ARetaining%20access%20to%20caller%20memory%20after%20end%20of%20call/near/509428120" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dylan <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Wasmtime.3ARetaining.20access.20to.20caller.20memory.20after.20end.20of.20call.html#509428120">(Apr 01 2025 at 11:40)</a>:</h4>
<p>Hi there. I'm currently writing a WASM interface using Wasmtime wherein the host has a function that will:</p>
<ol>
<li>read message bytes from the WASM module's memory</li>
<li>
<p>spawn a future that will:<br>
    a. action the message represented by those bytes<br>
    b. write some bytes to the WASM module's memory in response<br>
    c. call a WASM export to notify the module of completion</p>
</li>
<li>
<p>return (before the future has completed)</p>
</li>
</ol>
<p>However the problem is that writing to memory requires a context, and we can't use the caller's context as that is only valid for the lifetime of the original host function call. What should I use instead? Thanks.</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>