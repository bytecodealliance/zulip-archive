<html>
<head><meta charset="utf-8"><title>Invalid memory reference · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Invalid.20memory.20reference.html">Invalid memory reference</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="506103241"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Invalid%20memory%20reference/near/506103241" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ludea <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Invalid.20memory.20reference.html#506103241">(Mar 17 2025 at 10:14)</a>:</h4>
<p>Re <span class="user-mention" data-user-id="264278">@bjorn3</span><br>
I am back to you from my issue with cranelift.<br>
I run <code>RUST_BACKTRACE=1 cargo build</code> but get same error message</p>



<a name="506105909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Invalid%20memory%20reference/near/506105909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Invalid.20memory.20reference.html#506105909">(Mar 17 2025 at 10:24)</a>:</h4>
<p>You need to use a debugger like gdb to get backtraces when a segfault happens. RUST_BACKTRACE only works with panics.</p>



<a name="506106998"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Invalid%20memory%20reference/near/506106998" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ludea <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Invalid.20memory.20reference.html#506106998">(Mar 17 2025 at 10:28)</a>:</h4>
<p>How to use gdb while I don't have a binary to debug?</p>



<a name="506107134"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Invalid%20memory%20reference/near/506107134" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Invalid.20memory.20reference.html#506107134">(Mar 17 2025 at 10:29)</a>:</h4>
<p><code>gdb --args rustc ...</code> where <code>rustc ...</code> is the command that was reported as crashing.</p>



<a name="506108287"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Invalid%20memory%20reference/near/506108287" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ludea <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Invalid.20memory.20reference.html#506108287">(Mar 17 2025 at 10:33)</a>:</h4>
<p><code>Reading symbols from rustc...             (No debugging symbols found in rustc) </code></p>



<a name="506110814"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Invalid%20memory%20reference/near/506110814" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Invalid.20memory.20reference.html#506110814">(Mar 17 2025 at 10:43)</a>:</h4>
<p>Maybe termux has a separate package for rustc debug symbols?</p>



<a name="506120161"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Invalid%20memory%20reference/near/506120161" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ludea <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Invalid.20memory.20reference.html#506120161">(Mar 17 2025 at 11:20)</a>:</h4>
<p>Seems they don't provide it :s</p>



<a name="506144933"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Invalid%20memory%20reference/near/506144933" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ludea <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Invalid.20memory.20reference.html#506144933">(Mar 17 2025 at 13:01)</a>:</h4>
<p>Maybe there is another way to debug?</p>



<a name="507474114"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Invalid%20memory%20reference/near/507474114" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ludea <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Invalid.20memory.20reference.html#507474114">(Mar 22 2025 at 17:57)</a>:</h4>
<p>Now cranelift codegen is available on Android host.<br>
But we get <a href="/user_uploads/15107/WcYbm0dM8_1yVtAhlax7O_3a/rustc-logs.txt">rustc-logs.txt</a></p>



<a name="507477185"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Invalid%20memory%20reference/near/507477185" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Invalid.20memory.20reference.html#507477185">(Mar 22 2025 at 18:27)</a>:</h4>
<p>Could be that stacker is incompatible with Android or the hacks that termux uses to keep running on modern Android versions.</p>



<a name="507477268"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Invalid%20memory%20reference/near/507477268" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Invalid.20memory.20reference.html#507477268">(Mar 22 2025 at 18:28)</a>:</h4>
<p>(Stacker is a crate used by rustc to extend the stack when it almost gets a stackoverflow)</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>