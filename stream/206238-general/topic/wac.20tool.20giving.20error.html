<html>
<head><meta charset="utf-8"><title>wac tool giving error · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html">wac tool giving error</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="502903300"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/502903300" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> celine santosh <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#502903300">(Mar 02 2025 at 21:44)</a>:</h4>
<p>wac compose script.wac -o composed.wasm</p>
<p>when I run this command I get error <br>
<strong>error</strong>: failed to resolve document</p>
<p>× failed to create registry client: no home registry registry server URL is configured</p>
<p>Can anyone help me with this please?</p>



<a name="503018124"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503018124" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503018124">(Mar 03 2025 at 12:50)</a>:</h4>
<p>It looks like the internally used version of <a href="https://github.com/bytecodealliance/wasm-pkg-tools/tree/main/crates/wkg"><code>wkg</code></a> might be having an issue -- could you run <code>wkg config</code> and see what it outputs?</p>
<p>Also, if you have a <code>wit</code> folder that you are using, running <code>wkg wit fetch</code> might help here -- it will download the required deps (that it can resolve -- <code>wasi:*</code> will usually work automatically, with some others that have the <code>.well-known</code> discovery set up)</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-pkg-tools/tree/main/crates/wkg" style="background-image: url(&quot;https://uploads.zulipusercontent.net/76a60130b08669c4a4c896ffadbc53cbb1350980/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f636162323237643733636138646335663537653336626536393438626337656634386434356262633139393662386636656236643764386435393631343531392f62797465636f6465616c6c69616e63652f7761736d2d706b672d746f6f6c73&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-pkg-tools/tree/main/crates/wkg" title="wasm-pkg-tools/crates/wkg at main · bytecodealliance/wasm-pkg-tools">wasm-pkg-tools/crates/wkg at main · bytecodealliance/wasm-pkg-tools</a></div><div class="message_embed_description">Contribute to bytecodealliance/wasm-pkg-tools development by creating an account on GitHub.</div></div></div>



<a name="503108182"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503108182" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> celine santosh <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503108182">(Mar 03 2025 at 19:35)</a>:</h4>
<p>wkg config gives me <br>
Default registry is not set</p>



<a name="503109052"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503109052" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> celine santosh <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503109052">(Mar 03 2025 at 19:40)</a>:</h4>
<p><a href="/user_uploads/15107/bAPfcR7PGWZlrfNCMBKVUvXj/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/15107/bAPfcR7PGWZlrfNCMBKVUvXj/image.png" title="image.png"><img data-original-content-type="image/png" data-original-dimensions="559x1484" src="/user_uploads/thumbnail/15107/bAPfcR7PGWZlrfNCMBKVUvXj/image.png/840x560.webp"></a></div><p>I have script.wac in composition directory, In deps folder I have both my wasm modules, Then I have go_app and wrappers with wit files and deps which I retrieved using wkg</p>



<a name="503109294"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503109294" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> celine santosh <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503109294">(Mar 03 2025 at 19:41)</a>:</h4>
<p>as per the doc only both wasm files need to be in deps folder in root directory right?</p>



<a name="503266184"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503266184" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503266184">(Mar 04 2025 at 13:23)</a>:</h4>
<p>It's a little confusing -- what folder were you running from? If you wouldn't mind putting up a reproduction repo that would be very helpful!</p>
<p>Could you post the <code>wac</code> command you're running? Are you using a wac script?</p>
<p>It seems that wkg is thinking that you don't have a package present, I think you may want to use the <a href="https://github.com/bytecodealliance/wasm-pkg-tools/blob/7cdd8d7bcf521b445eeeb526c3fc28bb2c87aa2e/README.md#configuration">wkg config instructions here</a>, to set a default registry, so we can find out which component it's trying to call out to find. </p>
<p>I'd assume that it shouldn't have to call out <em>at all</em>, but <code>wac</code> maybe isn't finding the right deps. </p>
<p>You <em>may</em> need to copy some wit folders over to the <code>deps</code> folder that wac is using</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-pkg-tools/blob/7cdd8d7bcf521b445eeeb526c3fc28bb2c87aa2e/README.md#configuration" style="background-image: url(&quot;https://uploads.zulipusercontent.net/76a60130b08669c4a4c896ffadbc53cbb1350980/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f636162323237643733636138646335663537653336626536393438626337656634386434356262633139393662386636656236643764386435393631343531392f62797465636f6465616c6c69616e63652f7761736d2d706b672d746f6f6c73&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-pkg-tools/blob/7cdd8d7bcf521b445eeeb526c3fc28bb2c87aa2e/README.md#configuration" title="wasm-pkg-tools/README.md at 7cdd8d7bcf521b445eeeb526c3fc28bb2c87aa2e · bytecodealliance/wasm-pkg-tools">wasm-pkg-tools/README.md at 7cdd8d7bcf521b445eeeb526c3fc28bb2c87aa2e · bytecodealliance/wasm-pkg-tools</a></div><div class="message_embed_description">Contribute to bytecodealliance/wasm-pkg-tools development by creating an account on GitHub.</div></div></div>



<a name="503321965"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503321965" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> celine santosh <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503321965">(Mar 04 2025 at 17:15)</a>:</h4>
<p>I have script.wac. <br>
I tried copy pasting both wit folders into deps 1)go_app/wit and 2)wrappers/wit<br>
and ran wac compose --deps-dir ./deps -o composed.wasm script.wac in the directory where script.wac is there</p>



<a name="503321992"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503321992" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> celine santosh <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503321992">(Mar 04 2025 at 17:15)</a>:</h4>
<p>but still I get same error</p>



<a name="503322231"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503322231" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> celine santosh <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503322231">(Mar 04 2025 at 17:17)</a>:</h4>
<p>wkg config --default-registry <a href="http://acme.registry.com">acme.registry.com</a></p>
<p>Updated config file: /Users/celinesantosh/.config/wasm-pkg/config.toml</p>
<p>Default registry: <a href="http://acme.registry.com">acme.registry.com</a></p>



<a name="503322288"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503322288" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> celine santosh <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503322288">(Mar 04 2025 at 17:17)</a>:</h4>
<p>I set a default registry too but not working</p>



<a name="503323261"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503323261" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503323261">(Mar 04 2025 at 17:22)</a>:</h4>
<p>Ah I see your updated results -- with the default registry set, what error do you get?</p>



<a name="503323265"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503323265" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503323265">(Mar 04 2025 at 17:22)</a>:</h4>
<p>The exact same error?</p>



<a name="503323367"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503323367" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503323367">(Mar 04 2025 at 17:22)</a>:</h4>
<blockquote>
<p>× failed to create registry client: no home registry registry server URL is configured</p>
</blockquote>
<p>You at least shouldn't be getting the error above now that you have a default registry set</p>



<a name="503323492"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503323492" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503323492">(Mar 04 2025 at 17:23)</a>:</h4>
<p>also, would you mind trying to use <code>wac plug</code> ?</p>



<a name="503323630"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503323630" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503323630">(Mar 04 2025 at 17:24)</a>:</h4>
<p><a href="https://github.com/bytecodealliance/wac?tab=readme-ov-file#quick--easy-compositions">https://github.com/bytecodealliance/wac?tab=readme-ov-file#quick--easy-compositions</a></p>
<p>I think the kind of composition you're doing actually doesn't require a full blown wac script</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wac?tab=readme-ov-file#quick--easy-compositions" style="background-image: url(&quot;https://uploads.zulipusercontent.net/f5a62857abcc1348655f9b67ed15c2cb04024d5b/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f346362636232656537623836643966313061363465656631306434613263373437343639396263663036623030356137313561626463646137383931653831372f62797465636f6465616c6c69616e63652f776163&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wac?tab=readme-ov-file#quick--easy-compositions" title="GitHub - bytecodealliance/wac: WebAssembly Composition (WAC) tooling">GitHub - bytecodealliance/wac: WebAssembly Composition (WAC) tooling</a></div><div class="message_embed_description">WebAssembly Composition (WAC) tooling. Contribute to bytecodealliance/wac development by creating an account on GitHub.</div></div></div>



<a name="503326220"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wac%20tool%20giving%20error/near/503326220" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> celine santosh <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wac.20tool.20giving.20error.html#503326220">(Mar 04 2025 at 17:37)</a>:</h4>
<p>sure I will try it now</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>