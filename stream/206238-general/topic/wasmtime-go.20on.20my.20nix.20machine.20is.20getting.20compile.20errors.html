<html>
<head><meta charset="utf-8"><title>wasmtime-go on my nix machine is getting compile errors ¬∑ general ¬∑ Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html">wasmtime-go on my nix machine is getting compile errors</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="534348501"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534348501" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ymo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534348501">(Aug 14 2025 at 06:18)</a>:</h4>
<p>Hi folks</p>
<p><a href="/user_uploads/15107/2B3t5eX73M4dYPyF0337EduQ/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/15107/2B3t5eX73M4dYPyF0337EduQ/image.png" title="image.png"><img data-original-content-type="image/png" data-original-dimensions="844x583" src="/user_uploads/thumbnail/15107/2B3t5eX73M4dYPyF0337EduQ/image.png/840x560.webp"></a></div><p>I am geting the above error in my vscode build. i am not sure what could be going on. also from the command line <code>go mod tidy</code> reports no errors. </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w"> </span><span class="n">go</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="n">go</span>
<span class="p">#</span><span class="w"> </span><span class="n">command</span><span class="o">-</span><span class="n">line</span><span class="o">-</span><span class="n">arguments</span>
<span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="w"> </span><span class="nc">undefined</span><span class="p">:</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">.</span><span class="n">NewStore</span>
<span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="w"> </span><span class="nc">undefined</span><span class="p">:</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">.</span><span class="n">NewEngine</span>
<span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="w"> </span><span class="nc">undefined</span><span class="p">:</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">.</span><span class="n">Wat2Wasm</span>
<span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="w"> </span><span class="nc">undefined</span><span class="p">:</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">.</span><span class="n">NewModule</span>
<span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="w"> </span><span class="nc">undefined</span><span class="p">:</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">.</span><span class="n">WrapFunc</span>
<span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mi">28</span><span class="p">:</span><span class="w"> </span><span class="nc">undefined</span><span class="p">:</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">.</span><span class="n">NewInstance</span>
<span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mi">66</span><span class="p">:</span><span class="w"> </span><span class="nc">undefined</span><span class="p">:</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">.</span><span class="n">AsExtern</span>
</code></pre></div>



<a name="534499261"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534499261" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534499261">(Aug 14 2025 at 14:50)</a>:</h4>
<p>if you switch to version 34, does it work?</p>



<a name="534501336"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534501336" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ymo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534501336">(Aug 14 2025 at 14:59)</a>:</h4>
<p>No. i am getting the same error. Also i confirmed that the same exact code works fine in an ubuntu vm. i am prutty this has something to do with the fact that i am on nixos. its very finicky about dynamically loaded libraries. the weird thing is that is not so obvious</p>



<a name="534503634"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534503634" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534503634">(Aug 14 2025 at 15:10)</a>:</h4>
<p>ok. sorry, cant help you with that, I don't use or know nix, nor wasmtime-go or go. maybe someone else will have an idea</p>



<a name="534506965"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534506965" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ymo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534506965">(Aug 14 2025 at 15:27)</a>:</h4>
<p>thank you for jumping on this !</p>
<p>do you know what is happening behind the scene ? like where/when does it need to load dynamicl libraries ? i was naive enough to assume shared libraries would not be needed at compile time. any hints on what is happening behind the scene would be much appreciated. </p>
<p>Regards</p>



<a name="534507196"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534507196" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ymo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534507196">(Aug 14 2025 at 15:28)</a>:</h4>
<p>like i know its failing because of shared libraries and i need to tell it where to find them via an environement variable maybe</p>



<a name="534509203"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534509203" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534509203">(Aug 14 2025 at 15:40)</a>:</h4>
<p>Are you using x86_64?</p>



<a name="534509749"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534509749" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ymo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534509749">(Aug 14 2025 at 15:43)</a>:</h4>
<p>Yes i am on an x86 machine</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="err">‚ùØ</span><span class="w"> </span><span class="n">neofetch</span>
<span class="w">          </span><span class="err">‚ñó‚ñÑ‚ñÑ‚ñÑ</span><span class="w">       </span><span class="err">‚ñó‚ñÑ‚ñÑ‚ñÑ‚ñÑ</span><span class="w">    </span><span class="err">‚ñÑ‚ñÑ‚ñÑ‚ññ</span><span class="w">            </span><span class="n">ymo</span><span class="o">@</span><span class="n">memx</span>
<span class="w">          </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñô</span><span class="w">       </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñô</span><span class="w">  </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñõ</span><span class="w">            </span><span class="o">--------</span>
<span class="w">           </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñô</span><span class="w">       </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñô‚ñü‚ñà‚ñà‚ñà‚ñõ</span><span class="w">             </span><span class="n">OS</span><span class="p">:</span><span class="w"> </span><span class="nc">NixOS</span><span class="w"> </span><span class="mf">25.05.20250801.59e6964</span><span class="w"> </span><span class="p">(</span><span class="n">Warbler</span><span class="p">)</span><span class="w"> </span><span class="n">x86_64</span>
<span class="w">            </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñô</span><span class="w">       </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñõ</span><span class="w">              </span><span class="n">Host</span><span class="p">:</span><span class="w"> </span><span class="nc">ASUSTeK</span><span class="w"> </span><span class="n">COMPUTER</span><span class="w"> </span><span class="n">INC</span><span class="p">.</span><span class="w"> </span><span class="n">ROG</span><span class="w"> </span><span class="n">CROSSHAIR</span><span class="w"> </span><span class="n">VIII</span><span class="w"> </span><span class="n">DARK</span><span class="w"> </span><span class="n">HERO</span>
<span class="w">     </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñô</span><span class="w"> </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñà‚ñõ</span><span class="w">     </span><span class="err">‚ñü‚ñô</span><span class="w">        </span><span class="n">Kernel</span><span class="p">:</span><span class="w"> </span><span class="mf">6.12.40</span>
<span class="w">    </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñô</span><span class="w"> </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñô</span><span class="w">    </span><span class="err">‚ñü‚ñà‚ñà‚ñô</span><span class="w">       </span><span class="n">Uptime</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">days</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="n">hours</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">mins</span>
<span class="w">           </span><span class="err">‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ññ</span><span class="w">           </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñô</span><span class="w">  </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñõ</span><span class="w">       </span><span class="n">Packages</span><span class="p">:</span><span class="w"> </span><span class="mi">1074</span><span class="w"> </span><span class="p">(</span><span class="n">nix</span><span class="o">-</span><span class="n">system</span><span class="p">),</span><span class="w"> </span><span class="mi">1099</span><span class="w"> </span><span class="p">(</span><span class="n">nix</span><span class="o">-</span><span class="n">user</span><span class="p">)</span>
<span class="w">          </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñõ</span><span class="w">             </span><span class="err">‚ñú‚ñà‚ñà‚ñõ</span><span class="w"> </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñõ</span><span class="w">        </span><span class="n">Shell</span><span class="p">:</span><span class="w"> </span><span class="nc">bash</span><span class="w"> </span><span class="mf">5.3.0</span>
<span class="w">         </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñõ</span><span class="w">               </span><span class="err">‚ñú‚ñõ</span><span class="w"> </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñõ</span><span class="w">         </span><span class="n">Resolution</span><span class="p">:</span><span class="w"> </span><span class="mi">1920</span><span class="n">x1080</span><span class="p">,</span><span class="w"> </span><span class="mi">2560</span><span class="n">x1440</span>
<span class="err">‚ñü‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñõ</span><span class="w">                  </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñô</span><span class="w">   </span><span class="n">DE</span><span class="p">:</span><span class="w"> </span><span class="nc">shi3</span>
<span class="err">‚ñú‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñõ</span><span class="w">                  </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñõ</span><span class="w">   </span><span class="n">WM</span><span class="p">:</span><span class="w"> </span><span class="nc">i3</span>
<span class="w">      </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñõ</span><span class="w"> </span><span class="err">‚ñü‚ñô</span><span class="w">               </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñõ</span><span class="w">            </span><span class="n">Theme</span><span class="p">:</span><span class="w"> </span><span class="nc">Adwaita</span><span class="w"> </span><span class="p">[</span><span class="n">GTK3</span><span class="p">]</span>
<span class="w">     </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñõ</span><span class="w"> </span><span class="err">‚ñü‚ñà‚ñà‚ñô</span><span class="w">             </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñõ</span><span class="w">             </span><span class="n">Icons</span><span class="p">:</span><span class="w"> </span><span class="nc">Adwaita</span><span class="w"> </span><span class="p">[</span><span class="n">GTK3</span><span class="p">]</span>
<span class="w">    </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñõ</span><span class="w">  </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñô</span><span class="w">           </span><span class="err">‚ñù‚ñÄ‚ñÄ‚ñÄ‚ñÄ</span><span class="w">              </span><span class="n">Terminal</span><span class="p">:</span><span class="w"> </span><span class="nc">kitty</span>
<span class="w">    </span><span class="err">‚ñú‚ñà‚ñà‚ñõ</span><span class="w">    </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñô</span><span class="w"> </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñõ</span><span class="w">        </span><span class="n">Terminal</span><span class="w"> </span><span class="n">Font</span><span class="p">:</span><span class="w"> </span><span class="nc">JetBrainsMono</span><span class="w"> </span><span class="n">Nerd</span><span class="w"> </span><span class="n">Font</span><span class="w"> </span><span class="mf">10.0</span>
<span class="w">     </span><span class="err">‚ñú‚ñõ</span><span class="w">     </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñà‚ñô</span><span class="w"> </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñõ</span><span class="w">         </span><span class="n">CPU</span><span class="p">:</span><span class="w"> </span><span class="nc">AMD</span><span class="w"> </span><span class="n">Ryzen</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="mi">5950</span><span class="n">X</span><span class="w"> </span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="mf">5.084</span><span class="n">GHz</span>
<span class="w">           </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñô</span><span class="w">       </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñô</span><span class="w">               </span><span class="n">GPU</span><span class="p">:</span><span class="w"> </span><span class="nc">NVIDIA</span><span class="w"> </span><span class="n">GeForce</span><span class="w"> </span><span class="n">RTX</span><span class="w"> </span><span class="mi">3060</span><span class="w"> </span><span class="n">Ti</span><span class="w"> </span><span class="n">Lite</span><span class="w"> </span><span class="n">Hash</span><span class="w"> </span><span class="n">Rate</span>
<span class="w">          </span><span class="err">‚ñü‚ñà‚ñà‚ñà‚ñõ‚ñú‚ñà‚ñà‚ñà‚ñô</span><span class="w">       </span><span class="err">‚ñú‚ñà‚ñà‚ñà‚ñô</span><span class="w">              </span><span class="n">Memory</span><span class="p">:</span><span class="w"> </span><span class="mi">20675</span><span class="n">MiB</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">64203</span><span class="n">MiB</span>
</code></pre></div>



<a name="534510162"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534510162" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534510162">(Aug 14 2025 at 15:46)</a>:</h4>
<p>Does <code>ls $(go env GOPATH)/pkg/mod/github.com/bytecodealliance/wasmtime-go/v35@v35.0.0/build/linux-x86_64</code> show a <code>libwasmtime.a</code>?</p>



<a name="534510166"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534510166" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ymo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534510166">(Aug 14 2025 at 15:46)</a>:</h4>
<p><a href="https://github.com/microsoft/wassette/blob/main/flake.nix">https://github.com/microsoft/wassette/blob/main/flake.nix</a></p>
<p>i am looking at how these folks are supporting wasmtime under the hood in nix for inspiration. trying to see what they are doing</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/microsoft/wassette/blob/main/flake.nix" style="background-image: url(&quot;https://uploads.zulipusercontent.net/47fa5b58d48e4473bf7aac0a47adcc7e5ae3d9f8/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f663236633832653463383538616334373964346337393330336531333638346631636637396165336662343834623561616437326537666165373035336237312f6d6963726f736f66742f7761737365747465&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/microsoft/wassette/blob/main/flake.nix" title="wassette/flake.nix at main ¬∑ microsoft/wassette">wassette/flake.nix at main ¬∑ microsoft/wassette</a></div><div class="message_embed_description">Wassette: A security-oriented runtime that runs WebAssembly Components via MCP - microsoft/wassette</div></div></div>



<a name="534510689"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534510689" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ymo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534510689">(Aug 14 2025 at 15:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="480579">Lann Martin</span> <a href="#narrow/channel/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors/near/534510162">said</a>:</p>
<blockquote>
<p>Does <code>ls $(go env GOPATH)/pkg/mod/github.com/bytecodealliance/wasmtime-go/v35@v35.0.0/build/linux-x86_64</code> show a <code>libwasmtime.a</code>?</p>
</blockquote>
<p>its not at all here is what i did</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="err">‚ùØ</span><span class="w"> </span><span class="n">nix</span><span class="o">-</span><span class="n">shell</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="n">go_1_24</span>

<span class="o">~</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="err">‚ùÑÔ∏è</span><span class="w">  </span><span class="n">impure</span><span class="w"> </span><span class="p">(</span><span class="n">shell</span><span class="p">)</span>
<span class="err">‚ùØ</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="cp">$(</span><span class="n">go</span><span class="w"> </span><span class="n">env</span><span class="w"> </span><span class="n">GOPATH</span><span class="p">)</span><span class="o">/</span><span class="n">pkg</span><span class="o">/</span><span class="k">mod</span><span class="o">/</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">bytecodealliance</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">go</span><span class="o">/</span><span class="n">v35</span><span class="o">@</span><span class="n">v35</span><span class="p">.</span><span class="mf">0.0</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">x86_64</span>
<span class="s">"/home/ymo/go/pkg/mod/github.com/bytecodealliance/wasmtime-go/v35@v35.0.0/build/linux-x86_64"</span><span class="p">:</span><span class="w"> </span><span class="nc">No</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="p">(</span><span class="n">os</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>



<a name="534510857"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534510857" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534510857">(Aug 14 2025 at 15:49)</a>:</h4>
<p>And after you build inside the same nix-shell?</p>



<a name="534510962"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534510962" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534510962">(Aug 14 2025 at 15:50)</a>:</h4>
<p>I'm not a Nix user, but I can imagine nix-shell uses a separate cache dir for every nix-shell invocation.</p>



<a name="534511117"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534511117" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534511117">(Aug 14 2025 at 15:51)</a>:</h4>
<p>Does <code>nix-shell</code> bind mount over $HOME or something? <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="534511256"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534511256" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534511256">(Aug 14 2025 at 15:52)</a>:</h4>
<p>You might actually need to find generic resources on using cgo with nix. You're definitely off the beaten path here.</p>



<a name="534511646"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534511646" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534511646">(Aug 14 2025 at 15:53)</a>:</h4>
<p>On my system after a <code>go get github.com/bytecodealliance/wasmtime-go/v35</code> the prebuilt object file appears as above</p>



<a name="534511821"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534511821" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534511821">(Aug 14 2025 at 15:54)</a>:</h4>
<p>Oh nix could also override GOMODCACHE I guess, in which case it might be <code>$(go env GOMODCACHE)/github.com/bytecodealliance/wasmtime-go/v35@v35.0.0/build/linux-x86_64</code></p>



<a name="534512045"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534512045" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ymo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534512045">(Aug 14 2025 at 15:56)</a>:</h4>
<p>ok with your help i think i have at least found where its expecting those libs <br>
‚ùØ ls  /home/ymo/3rdp/dev/golang/golang-rel/golatest-packages/pkg/mod/github.com/bytecodealliance/wasmtime-go/v35@v35.0.0/build/linux-x86_64/<br>
empty.go  libwasmtime.a</p>



<a name="534512296"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534512296" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534512296">(Aug 14 2025 at 15:57)</a>:</h4>
<p>The prebuilt lib is referenced in a cgo directive: <code>// #cgo linux,amd64 LDFLAGS:-L${SRCDIR}/build/linux-x86_64</code></p>



<a name="534512341"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534512341" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534512341">(Aug 14 2025 at 15:57)</a>:</h4>
<p>I would guess that <code>SRCDIR</code> there isn't resolving as the author expects<br>
<em>edit: but <code>SRCDIR</code> does seem to be the recommended way to do that</em></p>



<a name="534512345"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534512345" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ymo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534512345">(Aug 14 2025 at 15:57)</a>:</h4>
<p>so at least i know the static library is there. now why is it not linking ? why is the go compiler reporting those methods as missing</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="err">‚ùØ</span><span class="w"> </span><span class="n">find</span><span class="w">   </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="mi">3</span><span class="n">rdp</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">golang</span><span class="o">/</span><span class="n">golang</span><span class="o">-</span><span class="n">rel</span><span class="o">/</span><span class="n">golatest</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pkg</span><span class="o">/</span><span class="k">mod</span><span class="o">/</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">bytecodealliance</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">go</span><span class="o">/</span><span class="n">v35</span><span class="o">@</span><span class="n">v35</span><span class="p">.</span><span class="mf">0.0</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">x86_64</span><span class="o">/</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="mi">3</span><span class="n">rdp</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">golang</span><span class="o">/</span><span class="n">golang</span><span class="o">-</span><span class="n">rel</span><span class="o">/</span><span class="n">golatest</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pkg</span><span class="o">/</span><span class="k">mod</span><span class="o">/</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">bytecodealliance</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">go</span><span class="o">/</span><span class="n">v35</span><span class="o">@</span><span class="n">v35</span><span class="p">.</span><span class="mf">0.0</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">x86_64</span><span class="o">/</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="mi">3</span><span class="n">rdp</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">golang</span><span class="o">/</span><span class="n">golang</span><span class="o">-</span><span class="n">rel</span><span class="o">/</span><span class="n">golatest</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pkg</span><span class="o">/</span><span class="k">mod</span><span class="o">/</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">bytecodealliance</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">go</span><span class="o">/</span><span class="n">v35</span><span class="o">@</span><span class="n">v35</span><span class="p">.</span><span class="mf">0.0</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">x86_64</span><span class="o">/</span><span class="n">libwasmtime</span><span class="p">.</span><span class="n">a</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="mi">3</span><span class="n">rdp</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">golang</span><span class="o">/</span><span class="n">golang</span><span class="o">-</span><span class="n">rel</span><span class="o">/</span><span class="n">golatest</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pkg</span><span class="o">/</span><span class="k">mod</span><span class="o">/</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">bytecodealliance</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">go</span><span class="o">/</span><span class="n">v35</span><span class="o">@</span><span class="n">v35</span><span class="p">.</span><span class="mf">0.0</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">x86_64</span><span class="o">/</span><span class="n">empty</span><span class="p">.</span><span class="n">go</span>
</code></pre></div>



<a name="534513226"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534513226" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534513226">(Aug 14 2025 at 16:02)</a>:</h4>
<p>FWIW, I used Nix for a year or so for my dev env and got very frustrated and gave up: I found it would do things like modify compiler path-search logic to be "pure" / use only paths specified as dependencies, so libraries installed the usual way (in global paths) wouldn't be visible. I'd suggest asking around in a Nix-specific forum -- we're unlikely to be able to help here if it works normally on a non-Nix distro</p>



<a name="534513589"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534513589" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ymo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534513589">(Aug 14 2025 at 16:04)</a>:</h4>
<p>i got it. i am just nerdsniped at this point and cant let go. i dont want to burden the team on unbeaten path. if someone wants to throw anything at me i appreciate. i dont expect people to support this at all.</p>



<a name="534513689"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534513689" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ymo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534513689">(Aug 14 2025 at 16:04)</a>:</h4>
<p>i will report my findings here if that is ok</p>



<a name="534520133"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/wasmtime-go%20on%20my%20nix%20machine%20is%20getting%20compile%20errors/near/534520133" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ymo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/wasmtime-go.20on.20my.20nix.20machine.20is.20getting.20compile.20errors.html#534520133">(Aug 14 2025 at 16:34)</a>:</h4>
<p>ok so solved my problem .. yaaay. i know now that i was missing gcc in my shell. duh !<br>
now the weird thing is i cant see why the go build tool is not reporting that gcc is missing in the system. nor vscode for that matter ... </p>
<p>i tried passing -vx to the build command but even with this i dont see the error</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="err">‚ùØ</span><span class="w"> </span><span class="n">go</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">vx</span><span class="w">   </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="p">.</span>
<span class="n">flag</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">defined</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="n">vx</span>
<span class="n">usage</span><span class="p">:</span><span class="w"> </span><span class="nc">go</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">output</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">build</span><span class="w"> </span><span class="n">flags</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">packages</span><span class="p">]</span>
<span class="n">Run</span><span class="w"> </span><span class="o">'</span><span class="na">go</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="n">build</span><span class="o">'</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">details</span><span class="p">.</span>

<span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="p">.</span><span class="n">devbr</span><span class="o">/</span><span class="n">wasmtime</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="err">ÓÇ†</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="p">[</span><span class="o">!?</span><span class="p">]</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="err">üêπ</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="mf">24.5</span>
<span class="err">‚ùØ</span><span class="w"> </span><span class="n">go</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">x</span><span class="w">   </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="p">.</span>
<span class="n">WORK</span><span class="o">=/</span><span class="n">tmp</span><span class="o">/</span><span class="n">go</span><span class="o">-</span><span class="n">build3474305375</span>
<span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wspace</span><span class="o">-</span><span class="n">yassinm</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="p">.</span><span class="n">devbr</span>
<span class="n">git</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">--</span><span class="n">porcelain</span>
<span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wspace</span><span class="o">-</span><span class="n">yassinm</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="p">.</span><span class="n">devbr</span>
<span class="n">git</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">log</span><span class="p">.</span><span class="n">showsignature</span><span class="o">=</span><span class="kc">false</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="o">--</span><span class="n">format</span><span class="o">=%</span><span class="n">H</span><span class="p">:</span><span class="o">%</span><span class="n">ct</span>
<span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wspace</span><span class="o">-</span><span class="n">yassinm</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="p">.</span><span class="n">devbr</span><span class="p">;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">log</span><span class="p">.</span><span class="n">showsignature</span><span class="o">=</span><span class="kc">false</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">decorate</span><span class="w"> </span><span class="o">-</span><span class="n">n1</span><span class="w"> </span><span class="o">'--</span><span class="n">format</span><span class="o">=</span><span class="n">format</span><span class="p">:</span><span class="o">%</span><span class="n">H</span><span class="w"> </span><span class="o">%</span><span class="n">ct</span><span class="w"> </span><span class="o">%</span><span class="n">D</span><span class="o">'</span><span class="w"> </span><span class="mi">4</span><span class="n">a2008a00285d9095bd5b0753520bd085b195f62</span><span class="w"> </span><span class="o">--</span>
<span class="mf">0.002</span><span class="n">s</span><span class="w"> </span><span class="p">#</span><span class="w"> </span><span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wspace</span><span class="o">-</span><span class="n">yassinm</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="p">.</span><span class="n">devbr</span><span class="p">;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">log</span><span class="p">.</span><span class="n">showsignature</span><span class="o">=</span><span class="kc">false</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">decorate</span><span class="w"> </span><span class="o">-</span><span class="n">n1</span><span class="w"> </span><span class="o">'--</span><span class="n">format</span><span class="o">=</span><span class="n">format</span><span class="p">:</span><span class="o">%</span><span class="n">H</span><span class="w"> </span><span class="o">%</span><span class="n">ct</span><span class="w"> </span><span class="o">%</span><span class="n">D</span><span class="o">'</span><span class="w"> </span><span class="mi">4</span><span class="n">a2008a00285d9095bd5b0753520bd085b195f62</span><span class="w"> </span><span class="o">--</span>
<span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wspace</span><span class="o">-</span><span class="n">yassinm</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="p">.</span><span class="n">devbr</span><span class="p">;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="k">for</span><span class="o">-</span><span class="n">each</span><span class="o">-</span><span class="k">ref</span><span class="w"> </span><span class="o">--</span><span class="n">format</span><span class="w"> </span><span class="o">%</span><span class="p">(</span><span class="n">refname</span><span class="p">)</span><span class="w"> </span><span class="n">refs</span><span class="o">/</span><span class="n">tags</span><span class="w"> </span><span class="o">--</span><span class="n">merged</span><span class="w"> </span><span class="mi">4</span><span class="n">a2008a00285d9095bd5b0753520bd085b195f62</span>
<span class="mf">0.001</span><span class="n">s</span><span class="w"> </span><span class="p">#</span><span class="w"> </span><span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wspace</span><span class="o">-</span><span class="n">yassinm</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="p">.</span><span class="n">devbr</span><span class="p">;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="k">for</span><span class="o">-</span><span class="n">each</span><span class="o">-</span><span class="k">ref</span><span class="w"> </span><span class="o">--</span><span class="n">format</span><span class="w"> </span><span class="o">%</span><span class="p">(</span><span class="n">refname</span><span class="p">)</span><span class="w"> </span><span class="n">refs</span><span class="o">/</span><span class="n">tags</span><span class="w"> </span><span class="o">--</span><span class="n">merged</span><span class="w"> </span><span class="mi">4</span><span class="n">a2008a00285d9095bd5b0753520bd085b195f62</span>
<span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wspace</span><span class="o">-</span><span class="n">yassinm</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="p">.</span><span class="n">devbr</span><span class="p">;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">log</span><span class="p">.</span><span class="n">showsignature</span><span class="o">=</span><span class="kc">false</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">decorate</span><span class="w"> </span><span class="o">-</span><span class="n">n1</span><span class="w"> </span><span class="o">'--</span><span class="n">format</span><span class="o">=</span><span class="n">format</span><span class="p">:</span><span class="o">%</span><span class="n">H</span><span class="w"> </span><span class="o">%</span><span class="n">ct</span><span class="w"> </span><span class="o">%</span><span class="n">D</span><span class="o">'</span><span class="w"> </span><span class="mi">4</span><span class="n">a2008a00285</span><span class="w"> </span><span class="o">--</span>
<span class="mf">0.002</span><span class="n">s</span><span class="w"> </span><span class="p">#</span><span class="w"> </span><span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wspace</span><span class="o">-</span><span class="n">yassinm</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="p">.</span><span class="n">devbr</span><span class="p">;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">log</span><span class="p">.</span><span class="n">showsignature</span><span class="o">=</span><span class="kc">false</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">decorate</span><span class="w"> </span><span class="o">-</span><span class="n">n1</span><span class="w"> </span><span class="o">'--</span><span class="n">format</span><span class="o">=</span><span class="n">format</span><span class="p">:</span><span class="o">%</span><span class="n">H</span><span class="w"> </span><span class="o">%</span><span class="n">ct</span><span class="w"> </span><span class="o">%</span><span class="n">D</span><span class="o">'</span><span class="w"> </span><span class="mi">4</span><span class="n">a2008a00285</span><span class="w"> </span><span class="o">--</span>
<span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wspace</span><span class="o">-</span><span class="n">yassinm</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="p">.</span><span class="n">devbr</span><span class="p">;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">cat</span><span class="o">-</span><span class="n">file</span><span class="w"> </span><span class="n">blob</span><span class="w"> </span><span class="mi">4</span><span class="n">a2008a00285d9095bd5b0753520bd085b195f62</span><span class="p">:</span><span class="nc">go</span><span class="p">.</span><span class="k">mod</span>
<span class="mf">0.002</span><span class="n">s</span><span class="w"> </span><span class="p">#</span><span class="w"> </span><span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wspace</span><span class="o">-</span><span class="n">yassinm</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="p">.</span><span class="n">devbr</span><span class="p">;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">cat</span><span class="o">-</span><span class="n">file</span><span class="w"> </span><span class="n">blob</span><span class="w"> </span><span class="mi">4</span><span class="n">a2008a00285d9095bd5b0753520bd085b195f62</span><span class="p">:</span><span class="nc">go</span><span class="p">.</span><span class="k">mod</span>
<span class="nn">mkdir</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="cp">$WORK</span><span class="o">/</span><span class="n">b001</span><span class="o">/</span>
<span class="n">cat</span><span class="w"> </span><span class="o">&gt;/</span><span class="n">tmp</span><span class="o">/</span><span class="n">go</span><span class="o">-</span><span class="n">build3474305375</span><span class="o">/</span><span class="n">b001</span><span class="o">/</span><span class="n">importcfg</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">'</span><span class="na">EOF</span><span class="o">'</span><span class="w"> </span><span class="p">#</span><span class="w"> </span><span class="n">internal</span>
<span class="p">#</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">config</span>
<span class="n">packagefile</span><span class="w"> </span><span class="n">fmt</span><span class="o">=/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="p">.</span><span class="n">cache</span><span class="o">/</span><span class="n">go</span><span class="o">-</span><span class="n">build</span><span class="o">/</span><span class="mi">54</span><span class="o">/</span><span class="mi">54</span><span class="n">b5a9818058da35904c3c28580e80dfe500fdeefa2875e74f9b51bc3c475758</span><span class="o">-</span><span class="n">d</span>
<span class="n">packagefile</span><span class="w"> </span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">bytecodealliance</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">go</span><span class="o">/</span><span class="n">v34</span><span class="o">=/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="p">.</span><span class="n">cache</span><span class="o">/</span><span class="n">go</span><span class="o">-</span><span class="n">build</span><span class="o">/</span><span class="n">e7</span><span class="o">/</span><span class="n">e700c3361120863ad44ffa87f2a7b8077b1d32b8b4dc1f0b3f286fdd70838fbd</span><span class="o">-</span><span class="n">d</span>
<span class="n">packagefile</span><span class="w"> </span><span class="n">runtime</span><span class="o">=/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="p">.</span><span class="n">cache</span><span class="o">/</span><span class="n">go</span><span class="o">-</span><span class="n">build</span><span class="o">/</span><span class="mi">78</span><span class="o">/</span><span class="mi">78949</span><span class="n">c7e395974e1877d087e2432519b35169408d7338fe5aa6da19acd4f38e7</span><span class="o">-</span><span class="n">d</span>
<span class="n">EOF</span>
<span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ymo</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wspace</span><span class="o">-</span><span class="n">yassinm</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="n">wasm</span><span class="p">.</span><span class="n">devbr</span><span class="o">/</span><span class="n">wasmtime</span>
<span class="o">/</span><span class="n">nix</span><span class="o">/</span><span class="n">store</span><span class="o">/</span><span class="n">y4awwzp30ka130wmjrpaqjmjdf9p010w</span><span class="o">-</span><span class="n">go</span><span class="o">-</span><span class="mf">1.24.5</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">go</span><span class="o">/</span><span class="n">pkg</span><span class="o">/</span><span class="n">tool</span><span class="o">/</span><span class="n">linux_amd64</span><span class="o">/</span><span class="n">compile</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="cp">$WORK</span><span class="o">/</span><span class="n">b001</span><span class="o">/</span><span class="n">_pkg_</span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="n">trimpath</span><span class="w"> </span><span class="s">"$WORK/b001=&gt;"</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="o">-</span><span class="n">lang</span><span class="o">=</span><span class="n">go1</span><span class="p">.</span><span class="mi">24</span><span class="w"> </span><span class="o">-</span><span class="n">complete</span><span class="w"> </span><span class="o">-</span><span class="n">buildid</span><span class="w"> </span><span class="n">F9FZcqu2B1F6j8n8VIps</span><span class="o">/</span><span class="n">F9FZcqu2B1F6j8n8VIps</span><span class="w"> </span><span class="o">-</span><span class="n">goversion</span><span class="w"> </span><span class="n">go1</span><span class="p">.</span><span class="mf">24.5</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="o">=</span><span class="mi">4</span><span class="w"> </span><span class="o">-</span><span class="n">nolocalimports</span><span class="w"> </span><span class="o">-</span><span class="n">importcfg</span><span class="w"> </span><span class="cp">$WORK</span><span class="o">/</span><span class="n">b001</span><span class="o">/</span><span class="n">importcfg</span><span class="w"> </span><span class="o">-</span><span class="n">pack</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span>
<span class="p">#</span><span class="w"> </span><span class="n">gowasm</span>
<span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="w"> </span><span class="nc">undefined</span><span class="p">:</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">.</span><span class="n">NewStore</span>
<span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="w"> </span><span class="nc">undefined</span><span class="p">:</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">.</span><span class="n">NewEngine</span>
<span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="w"> </span><span class="nc">undefined</span><span class="p">:</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">.</span><span class="n">Wat2Wasm</span>
<span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="w"> </span><span class="nc">undefined</span><span class="p">:</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">.</span><span class="n">NewModule</span>
<span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="w"> </span><span class="nc">undefined</span><span class="p">:</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">.</span><span class="n">WrapFunc</span>
<span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mi">28</span><span class="p">:</span><span class="w"> </span><span class="nc">undefined</span><span class="p">:</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">.</span><span class="n">NewInstance</span>
<span class="p">.</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">go</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mi">66</span><span class="p">:</span><span class="w"> </span><span class="nc">undefined</span><span class="p">:</span><span class="w"> </span><span class="nc">wasmtime</span><span class="p">.</span><span class="n">AsExtern</span>
</code></pre></div>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>