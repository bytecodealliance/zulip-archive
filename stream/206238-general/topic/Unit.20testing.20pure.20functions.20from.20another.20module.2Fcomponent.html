<html>
<head><meta charset="utf-8"><title>Unit testing pure functions from another module/component · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Unit.20testing.20pure.20functions.20from.20another.20module.2Fcomponent.html">Unit testing pure functions from another module/component</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="543659065"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Unit%20testing%20pure%20functions%20from%20another%20module/component/near/543659065" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Petrangelo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Unit.20testing.20pure.20functions.20from.20another.20module.2Fcomponent.html#543659065">(Oct 08 2025 at 04:46)</a>:</h4>
<p>I was musing about what wasm can do for functional programming, and I realized that if you have a pure function in a different module or component, you can still unit test it despite not necessarily having its source code. Has anyone taken advantage of this?</p>
<p>This also led me to think about how WASI could facilitate this. Perhaps you want to access some functions for unit testing purposes in development, but you don't want them exposed in production. Could WASI help with that?</p>



<a name="543663747"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Unit%20testing%20pure%20functions%20from%20another%20module/component/near/543663747" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Petrangelo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Unit.20testing.20pure.20functions.20from.20another.20module.2Fcomponent.html#543663747">(Oct 08 2025 at 05:42)</a>:</h4>
<p>Let me add to this the use case I imagine: Importing in a component that someone else wrote in a programming language you might not know, with behaviors you want to ensure stay consistent as the component is updated over time.</p>



<a name="543663950"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Unit%20testing%20pure%20functions%20from%20another%20module/component/near/543663950" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Petrangelo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Unit.20testing.20pure.20functions.20from.20another.20module.2Fcomponent.html#543663950">(Oct 08 2025 at 05:45)</a>:</h4>
<p>Perhaps WASI would benefit from something similar to dev dependencies?</p>



<a name="543664469"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Unit%20testing%20pure%20functions%20from%20another%20module/component/near/543664469" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Petrangelo <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Unit.20testing.20pure.20functions.20from.20another.20module.2Fcomponent.html#543664469">(Oct 08 2025 at 05:51)</a>:</h4>
<p>The guest might have to expose those functions even in production since it is built separately from the host, but the host could ignore them in production builds so you know production will not call them.</p>



<a name="543718356"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Unit%20testing%20pure%20functions%20from%20another%20module/component/near/543718356" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Unit.20testing.20pure.20functions.20from.20another.20module.2Fcomponent.html#543718356">(Oct 08 2025 at 11:06)</a>:</h4>
<p>I don't think anything special is needed to enable this: components can already export whatever interfaces they choose to, which can then be used by other components however they see fit.</p>
<p>This can be used by having components export additional interfaces in test builds, which are then used by other components that implement the test logic in terms of those interfaces. In production builds, the component under test would not export the testing interfaces, and the test component would not be used at all.</p>
<p>The host doesn't have to know anything about any of this</p>



<a name="543734763"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Unit%20testing%20pure%20functions%20from%20another%20module/component/near/543734763" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Unit.20testing.20pure.20functions.20from.20another.20module.2Fcomponent.html#543734763">(Oct 08 2025 at 12:27)</a>:</h4>
<p>A related idea I've come back to multiple times is for WIT packages to be able to embed their own conformance tests.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>