<html>
<head><meta charset="utf-8"><title>Can someone help me with using wrpc-wasmtime? · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Can.20someone.20help.20me.20with.20using.20wrpc-wasmtime.3F.html">Can someone help me with using wrpc-wasmtime?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="498200914"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Can%20someone%20help%20me%20with%20using%20wrpc-wasmtime%3F/near/498200914" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Filip B. Gotten <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Can.20someone.20help.20me.20with.20using.20wrpc-wasmtime.3F.html#498200914">(Feb 06 2025 at 20:02)</a>:</h4>
<p>Following the guide on the readme, with the first steps being to build the rust based hello component server and client wasm components, does work for me. I copied the files directly from the examples and changed nothing. I have the folders hello-component-serveri, hello-component-client and wit, with all files inside.</p>
<p>Then when trying to use wrpc-wasmtime to run it with: "wrpc-wasmtime tcp serve ./target/wasm32-wasip2/release/hello_component_server.wasm"</p>
<p>I get this output:</p>
<p>'INFO wrpc_wasmtime_cli: serving instance function name="hello"'</p>
<p>However, when trying to run the client with: wrpc-wasmtime tcp run ./target/wasm32-wasip2/release/hello-component-client.wasm</p>
<p>I get this output:</p>
<p>Error: failed to run component</p>
<p>Caused by:<br>
0: error while executing at wasm backtrace:<br>
0: 0x13bf9 - wit-component:adapter:wasi_snapshot_preview1!wasi_snapshot_preview1::descriptors::Descriptors:<span aria-label="new" class="emoji emoji-1f195" role="img" title="new">:new:</span>:h23d25887e02c514f<br>
1: 0x13110 - wit-component:adapter:wasi_snapshot_preview1!wasi_snapshot_preview1::State::descriptors::hfc2c9cda66bef96d<br>
2: 0x136af - wit-component:adapter:wasi_snapshot_preview1!fd_write<br>
3: 0x15379 - wit-component:shim!adapt-wasi_snapshot_preview1-fd_write<br>
4: 0x62c7 - hello_component_client-603742b98b7403cb.wasm!wasi::lib_generated::fd_write::h8df31592ef2e843e<br>
5: 0x16b8 - hello_component_client-603742b98b7403cb.wasm!&lt;std::io::stdio::StdoutLock as std::io::Write&gt;::write_all::hca818e235ef94a2b<br>
6: 0x4a17 - hello_component_client-603742b98b7403cb.wasm!&lt;std::io::Write::write_fmt::Adapter as core::fmt::Write&gt;::write_str::h14ef88f914a08876<br>
7: 0xaed4 - hello_component_client-603742b98b7403cb.wasm!core::fmt::write::h18af0510448cac73<br>
8: 0x3e59 - hello_component_client-603742b98b7403cb.wasm!&lt;&amp;std::io::stdio::Stdout as std::io::Write&gt;::write_fmt::h2a1573965672f010<br>
9: 0x440e - hello_component_client-603742b98b7403cb.wasm!std::io::stdio::_print::h4babcc457f93ab74<br>
10: 0xcf2 - hello_component_client-603742b98b7403cb.wasm!hello_component_client::main::h3308f92b4b4b600e<br>
11: 0xc30 - hello_component_client-603742b98b7403cb.wasm!std::sys::backtrace::__rust_begin_short_backtrace::ha334adbbdca9bb9e<br>
12: 0xc23 - hello_component_client-603742b98b7403cb.wasm!std::rt::lang_start::{{closure}}::he3426677d12a8a24<br>
13: 0x2ab3 - hello_component_client-603742b98b7403cb.wasm!std::rt::lang_start_internal::hd70631645e5839e9<br>
14: 0xd62 - hello_component_client-603742b98b7403cb.wasm!__main_void<br>
15: 0xbfc - hello_component_client-603742b98b7403cb.wasm!_start<br>
16: 0x128d2 - wit-component:adapter:wasi_snapshot_preview1!wasi:cli/run@0.2.3#run<br>
1: failed to decode return value 0<br>
2: unexpected end of file</p>
<p>Afterwards this is printed to the server window:</p>
<p>ERROR wrpc_wasmtime_cli::tcp: failed to accept TCP connection err=<code>wasi:cli/stdin@0.2.3#get-stdin</code> does not have a handler registered</p>
<p>Could anyone help me figure out what is wrong here?</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>