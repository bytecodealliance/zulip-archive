<html>
<head><meta charset="utf-8"><title>thinking about a kotlin target for `jco transpile` · jco · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/index.html">jco</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/thinking.20about.20a.20kotlin.20target.20for.20.60jco.20transpile.60.html">thinking about a kotlin target for `jco transpile`</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="572445796"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/thinking%20about%20a%20kotlin%20target%20for%20%60jco%20transpile%60/near/572445796" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adolfo Ochagavía <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/thinking.20about.20a.20kotlin.20target.20for.20.60jco.20transpile.60.html#572445796">(Feb 06 2026 at 18:56)</a>:</h4>
<p>I'm blown away by wasm components and want to use them in the JVM, but the wasm runtimes available there don't support components. This situation is similar to Node.js and browsers, where I've successfully used <code>jco transpile</code> to work around the issue. That set me thinking: it should be possible to enhance <code>jco transpile</code> and have it generate Kotlin code instead of Javascript. Has anyone ever looked into more targets than only JS? Are there any caveats to be aware of? I have an early prototype that looks promising, but I wanted to check here if there are any unknown unknowns lurking around the corner.</p>



<a name="572446549"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/thinking%20about%20a%20kotlin%20target%20for%20%60jco%20transpile%60/near/572446549" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adolfo Ochagavía <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/thinking.20about.20a.20kotlin.20target.20for.20.60jco.20transpile.60.html#572446549">(Feb 06 2026 at 19:01)</a>:</h4>
<p>For additional context, I'm not interested in running components that rely on WASI interfaces, just "wasm core". I'm hoping that would reduce the implementation surface considerably.</p>



<a name="572448299"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/thinking%20about%20a%20kotlin%20target%20for%20%60jco%20transpile%60/near/572448299" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/thinking.20about.20a.20kotlin.20target.20for.20.60jco.20transpile.60.html#572448299">(Feb 06 2026 at 19:12)</a>:</h4>
<p>In general the approach that jco uses, which is to take a wasm component and decompose it into 1. a set of wasm modules, and 2. glue code that implements a component runtime specific to that component by instantiating those modules, is a great architecture which we encourage folks to pursue if they arent able to use a native component runtime on their platform yet</p>



<a name="572448382"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/thinking%20about%20a%20kotlin%20target%20for%20%60jco%20transpile%60/near/572448382" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/thinking.20about.20a.20kotlin.20target.20for.20.60jco.20transpile.60.html#572448382">(Feb 06 2026 at 19:13)</a>:</h4>
<p>jco is architected this way, and i recall someone did something similar for python but i dont have a link to it handy. in general its easiest in languages that have eval, since then it can be "ordinary" library code, but theres no reason to not use it as a "macro" pass in languages without eval.</p>



<a name="572448800"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/thinking%20about%20a%20kotlin%20target%20for%20%60jco%20transpile%60/near/572448800" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/thinking.20about.20a.20kotlin.20target.20for.20.60jco.20transpile.60.html#572448800">(Feb 06 2026 at 19:15)</a>:</h4>
<p>I'm enthusiastic about you taking that approach to a kotlin component runtime, using whatever core wasm runtime you like. Its quite possible that buildign such a thing would crib a whole lot of code from jco, which is probably the best implementation of the rough architecture described. But I don't think it would actually be an advantage to either your project or to jco to have both languages supported inside the same tool. My advice is to fork jco and hack it into exactly what you need</p>



<a name="572467018"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/thinking%20about%20a%20kotlin%20target%20for%20%60jco%20transpile%60/near/572467018" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adolfo Ochagavía <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/thinking.20about.20a.20kotlin.20target.20for.20.60jco.20transpile.60.html#572467018">(Feb 06 2026 at 21:39)</a>:</h4>
<p>That's great to hear, thanks a lot! I was indeed thinking of a fork, or even a reimplementation (I'm keen on using Rust, because of the language and because they have good libraries for wasm-related stuff). We'll see how it goes...</p>



<a name="572487082"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/thinking%20about%20a%20kotlin%20target%20for%20%60jco%20transpile%60/near/572487082" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/thinking.20about.20a.20kotlin.20target.20for.20.60jco.20transpile.60.html#572487082">(Feb 07 2026 at 01:19)</a>:</h4>
<p>AFAIK, the core of jco that knows how to parse/decompose a component is written in Rust - its wasm-tools + wasmtime-environ</p>



<a name="572487153"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/thinking%20about%20a%20kotlin%20target%20for%20%60jco%20transpile%60/near/572487153" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/thinking.20about.20a.20kotlin.20target.20for.20.60jco.20transpile.60.html#572487153">(Feb 07 2026 at 01:20)</a>:</h4>
<p>(its been many years since ive been in that code so its possible something has changed, but i doubt it - the algorithm in wasmtime-environ has, afaik, never been replicated elsewhere)</p>



<a name="572504109"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/thinking%20about%20a%20kotlin%20target%20for%20%60jco%20transpile%60/near/572504109" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/thinking.20about.20a.20kotlin.20target.20for.20.60jco.20transpile.60.html#572504109">(Feb 07 2026 at 06:21)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="1024632">@Adolfo Ochagavía</span> a bit late but I think that what I can add is that you should take a look at the following repos/codebases:</p>
<ul>
<li><a href="https://github.com/bytecodealliance/wasm-tools/blob/b3666ed1d3b4758639fd7d8d66f1067702d614be/README.md?plain=1#L152"><code>wasm-tools component unbundle</code></a> (i.e. the first step of decomposing a component into modules that are easier to run for runtimes that don't yet support the ComponentModel)</li>
<li><a href="https://github.com/bytecodealliance/wasm-tools/tree/main/crates/wasmparser"><code>wasmparser</code></a> <em>technically</em> unnecesary, but obviously you'll want to be able to create scaffolding around the WIT and sections included in the component. A lot of the work Jco does is essentially iterating the structure of the Wasm and dealing with various sections and generating code, as I'm sure you've seen.</li>
<li><a href="https://github.com/bytecodealliance/wit-bindgen/tree/main/crates/core"><code>wit-bindgen-core</code></a> is actually not a requirement but it's a big part of <code>jco transpile</code> -- by providing essentially a visitor to <a href="https://github.com/bytecodealliance/wit-bindgen/blob/76e9f08917cacce2515445dc69ce923410449e5f/crates/core/src/abi.rs#L769"><code>abi::call</code></a>, you can do generation for various distinct instructions (some pseudo instructions/more representing areas of execution).</li>
</ul>
<p>Glad you're keen on using Rust, because much of the tooling is written in Rust :)</p>
<p>A rewrite of Jco is great place to start, sorry for any weird code you see! We're always happy to take pull requests or contributions and would be delighted if you took some notes on hard to understand bits/ways the codebase could be simpler.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-tools/blob/b3666ed1d3b4758639fd7d8d66f1067702d614be/README.md?plain=1#L152" style="background-image: url(&quot;https://uploads.zulipusercontent.net/de6a06960b88727ecee9d5842a177987f56d97ae/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f353831356332626138326366306236313031333734333836313233373261623434323531643735383431336236633066353437393333366164386337626137332f62797465636f6465616c6c69616e63652f7761736d2d746f6f6c73&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-tools/blob/b3666ed1d3b4758639fd7d8d66f1067702d614be/README.md?plain=1#L152" title="wasm-tools/README.md at b3666ed1d3b4758639fd7d8d66f1067702d614be · bytecodealliance/wasm-tools">wasm-tools/README.md at b3666ed1d3b4758639fd7d8d66f1067702d614be · bytecodealliance/wasm-tools</a></div><div class="message_embed_description"> CLI and Rust libraries for low-level manipulation of WebAssembly modules  - bytecodealliance/wasm-tools</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-tools/tree/main/crates/wasmparser" style="background-image: url(&quot;https://uploads.zulipusercontent.net/de6a06960b88727ecee9d5842a177987f56d97ae/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f353831356332626138326366306236313031333734333836313233373261623434323531643735383431336236633066353437393333366164386337626137332f62797465636f6465616c6c69616e63652f7761736d2d746f6f6c73&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-tools/tree/main/crates/wasmparser" title="wasm-tools/crates/wasmparser at main · bytecodealliance/wasm-tools">wasm-tools/crates/wasmparser at main · bytecodealliance/wasm-tools</a></div><div class="message_embed_description"> CLI and Rust libraries for low-level manipulation of WebAssembly modules  - bytecodealliance/wasm-tools</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wit-bindgen/tree/main/crates/core" style="background-image: url(&quot;https://uploads.zulipusercontent.net/00667b18d08d4bf1aaa3a9d763f475dfc456295a/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f323966393236396466313832653263656236656133636331633863396637646239373664646262393330366566303039636639666461316365616631303937642f62797465636f6465616c6c69616e63652f7769742d62696e6467656e&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wit-bindgen/tree/main/crates/core" title="wit-bindgen/crates/core at main · bytecodealliance/wit-bindgen">wit-bindgen/crates/core at main · bytecodealliance/wit-bindgen</a></div><div class="message_embed_description">A language binding generator for WebAssembly interface types - bytecodealliance/wit-bindgen</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wit-bindgen/blob/76e9f08917cacce2515445dc69ce923410449e5f/crates/core/src/abi.rs#L769" style="background-image: url(&quot;https://uploads.zulipusercontent.net/00667b18d08d4bf1aaa3a9d763f475dfc456295a/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f323966393236396466313832653263656236656133636331633863396637646239373664646262393330366566303039636639666461316365616631303937642f62797465636f6465616c6c69616e63652f7769742d62696e6467656e&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wit-bindgen/blob/76e9f08917cacce2515445dc69ce923410449e5f/crates/core/src/abi.rs#L769" title="wit-bindgen/crates/core/src/abi.rs at 76e9f08917cacce2515445dc69ce923410449e5f · bytecodealliance/wit-bindgen">wit-bindgen/crates/core/src/abi.rs at 76e9f08917cacce2515445dc69ce923410449e5f · bytecodealliance/wit-bindgen</a></div><div class="message_embed_description">A language binding generator for WebAssembly interface types - bytecodealliance/wit-bindgen</div></div></div>



<a name="572507630"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/thinking%20about%20a%20kotlin%20target%20for%20%60jco%20transpile%60/near/572507630" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Petig <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/thinking.20about.20a.20kotlin.20target.20for.20.60jco.20transpile.60.html#572507630">(Feb 07 2026 at 07:37)</a>:</h4>
<p>There is some chance that <a href="https://github.com/pulseengine/meld">https://github.com/pulseengine/meld</a> might work (create multi memory modules from components)</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/pulseengine/meld" style="background-image: url(&quot;https://uploads.zulipusercontent.net/b6b6c527834ea8b230ba915f54ea2d230fc66c83/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f303436383963306265623439633330396461353865393734626364396466663330663162343863663663666439303439666663616238316238346433323430652f70756c7365656e67696e652f6d656c64&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/pulseengine/meld" title="GitHub - pulseengine/meld: Static WebAssembly component fusion">GitHub - pulseengine/meld: Static WebAssembly component fusion</a></div><div class="message_embed_description">Static WebAssembly component fusion. Contribute to pulseengine/meld development by creating an account on GitHub.</div></div></div>



<a name="572832548"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/thinking%20about%20a%20kotlin%20target%20for%20%60jco%20transpile%60/near/572832548" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/thinking.20about.20a.20kotlin.20target.20for.20.60jco.20transpile.60.html#572832548">(Feb 09 2026 at 16:41)</a>:</h4>
<p>you might also want to chat with <span class="user-mention" data-user-id="548708">@Zalim Bashorov (Kotlin_, JetBrains)</span> about your JVM/Kotlin thing....</p>



<a name="573064898"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/thinking%20about%20a%20kotlin%20target%20for%20%60jco%20transpile%60/near/573064898" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adolfo Ochagavía <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/thinking.20about.20a.20kotlin.20target.20for.20.60jco.20transpile.60.html#573064898">(Feb 10 2026 at 14:56)</a>:</h4>
<p>Thanks a lot for the great ideas! I'll keep you posted ;)</p>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>