<html>
<head><meta charset="utf-8"><title>jco-transpile as a jco subproject · jco · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/index.html">jco</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/jco-transpile.20as.20a.20jco.20subproject.html">jco-transpile as a jco subproject</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="518195248"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/jco-transpile%20as%20a%20jco%20subproject/near/518195248" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/jco-transpile.20as.20a.20jco.20subproject.html#518195248">(May 15 2025 at 02:45)</a>:</h4>
<p>Given the <a href="https://github.com/bytecodealliance/jco/issues/500">user demand for jco-transpile as a minimal, separate project</a>, I'd like to split out the transpilation functionality of <code>jco</code> into a subproject called <code>jco-transpile</code>). After a bit of discussion in the JS subgroup meeting yesterday since there were no large objections, I'd like to discuss it here as well.</p>
<p>The idea is to take the bits of Jco that currently perform transpilation and simply move them to another project that will be reused from <code>jco</code> itself (similarly to how <code>componentize-js</code> is), but expose both a library and CLI that is usable for end-users.</p>
<p>Currently, we use a <a href="https://github.com/bytecodealliance/jco/blob/e525fe58e1d0de84d149c2255e0c13cc1b4013d9/src/cmd/componentize.js#L7">dynamic import of <code>componentize-js</code></a> in order to avoid depending directly on <code>componentize-js</code>, but this complicates installation and can cause subtle bugs.</p>
<p>Building <code>jco</code>into a multi-tool with exceptional DX is a priority, and would boost adoption of JS WASM tools. There are many improvements to be made to reach that future, but at the very least, splitting out <code>jco-transpile</code>is a start (and is the remedy of choice for the earlier linked issue from the folks at <a href="https://github.com/arcjet/gravity">Arcjet</a>).</p>
<p><strong>Any feedback on this before I make the proposal would be welcome.</strong></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/jco/issues/500" style="background-image: url(&quot;https://uploads.zulipusercontent.net/2768bebd87b43a57050f1e428d1be3263285e610/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f313735346232363639613035343833643966303363333735643634383662333865373863326364666534313765666539313466323936656237303837343962652f62797465636f6465616c6c69616e63652f6a636f2f6973737565732f353030&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/jco/issues/500" title="Split componentize and transpile · Issue #500 · bytecodealliance/jco">Split componentize and transpile · Issue #500 · bytecodealliance/jco</a></div><div class="message_embed_description">A lot of work is currently going into the "componentize" logic of jco; however, this means it is taking on a ton of dependencies. If users, such as arcjet, only want to transpile, they should not h...</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/jco/blob/e525fe58e1d0de84d149c2255e0c13cc1b4013d9/src/cmd/componentize.js#L7" style="background-image: url(&quot;https://uploads.zulipusercontent.net/46d404b3b3ea4bb032167968a9e2be6be2d3a99c/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f383465346666313338353139393739653039346664623938306238636630613831333139663763393835393534616137633166663835353665623531366337342f62797465636f6465616c6c69616e63652f6a636f&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/jco/blob/e525fe58e1d0de84d149c2255e0c13cc1b4013d9/src/cmd/componentize.js#L7" title="jco/src/cmd/componentize.js at e525fe58e1d0de84d149c2255e0c13cc1b4013d9 · bytecodealliance/jco">jco/src/cmd/componentize.js at e525fe58e1d0de84d149c2255e0c13cc1b4013d9 · bytecodealliance/jco</a></div><div class="message_embed_description">JavaScript toolchain for working with WebAssembly Components - bytecodealliance/jco</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/arcjet/gravity" style="background-image: url(&quot;https://uploads.zulipusercontent.net/b72df17e6a29d9965494c1fb18e78baee4365a1b/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f303634613137646662313131313266306137646139333733643265623165666465343535393366313862653466663562616637303832323564376338343962392f6172636a65742f67726176697479&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/arcjet/gravity" title="GitHub - arcjet/gravity: Gravity is a host generator for WebAssembly Components. It currently targets Wazero, a zero dependency WebAssembly runtime for Go.">GitHub - arcjet/gravity: Gravity is a host generator for WebAssembly Components. It currently targets Wazero, a zero dependency WebAssembly runtime for Go.</a></div><div class="message_embed_description">Gravity is a host generator for WebAssembly Components. It currently targets Wazero, a zero dependency WebAssembly runtime for Go. - arcjet/gravity</div></div></div>



<a name="518195323"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/jco-transpile%20as%20a%20jco%20subproject/near/518195323" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/jco-transpile.20as.20a.20jco.20subproject.html#518195323">(May 15 2025 at 02:46)</a>:</h4>
<p>Tagging some people who might be interested to make sure this doesn't get lost in the ether:<br>
<span class="user-mention" data-user-id="234973">@Till Schneidereit</span> <span class="user-mention" data-user-id="763150">@Tomasz Andrzejak</span> <span class="user-mention" data-user-id="479055">@Calvin Prewitt</span> <span class="user-mention" data-user-id="553681">@Guy Bedford</span></p>



<a name="518196518"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/jco-transpile%20as%20a%20jco%20subproject/near/518196518" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Milan (rajsite) <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/jco-transpile.20as.20a.20jco.20subproject.html#518196518">(May 15 2025 at 03:01)</a>:</h4>
<p>All for more narrowly defined tools, two things I think would help in maintenance:</p>
<ul>
<li>Remove the circular dependency between jco and componentizejs in the npm dependencies. It always ends up in weirdly nested dependencies and I have to add npm overrides to force the resolution.</li>
<li>Keep the packages in a monorepo so that bubble ups / releases can be managed. We've had a lot of success with <a href="https://microsoft.github.io/beachball/">beachball</a> and managing <a href="https://github.com/ni/nimble/blob/main/.github/workflows/main.yml#L142">monorepos</a> with dozens of mixed packages: npm libraries, angular npm libraries (yes sadly different), nuget packages.<br>
Would love to discuss either or both of those if interesting.</li>
</ul>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/ni/nimble/blob/main/.github/workflows/main.yml#L142" style="background-image: url(&quot;https://uploads.zulipusercontent.net/9dda751f381cabeea994a33fd4c91ea6a4c04eec/68747470733a2f2f7265706f7369746f72792d696d616765732e67697468756275736572636f6e74656e742e636f6d2f3338303237373738372f32633366633033612d333133322d343433622d396230622d393439323735633936393761&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/ni/nimble/blob/main/.github/workflows/main.yml#L142" title="nimble/.github/workflows/main.yml at main · ni/nimble">nimble/.github/workflows/main.yml at main · ni/nimble</a></div><div class="message_embed_description">The NI Nimble Design System. Contribute to ni/nimble development by creating an account on GitHub.</div></div></div>



<a name="518197096"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/jco-transpile%20as%20a%20jco%20subproject/near/518197096" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/jco-transpile.20as.20a.20jco.20subproject.html#518197096">(May 15 2025 at 03:08)</a>:</h4>
<blockquote>
<p>Remove the circular dependency between jco and componentizejs in the npm dependencies. It always ends up in weirdly nested dependencies and I have to add npm overrides to force the resolution.</p>
</blockquote>
<p>Yup, this would definitely be a positive outcome of the idea!</p>
<blockquote>
<p>Keep the packages in a monorepo so that bubble ups / releases can be managed. We've had a lot of success with <a href="https://microsoft.github.io/beachball/">beachball</a> and managing <a href="https://github.com/ni/nimble/blob/main/.github/workflows/main.yml#L142">monorepos</a> with dozens of mixed packages: npm libraries, angular npm libraries (yes sadly different), nuget packages.</p>
</blockquote>
<p>You're gonna like this:</p>
<p><a href="https://github.com/bytecodealliance/jco/pull/698/files">https://github.com/bytecodealliance/jco/pull/698/files</a><br>
<a href="https://github.com/vados-cosmonic/jco/tree/refactor%3Dproject-layout">https://github.com/vados-cosmonic/jco/tree/refactor%3Dproject-layout</a> (file browser view)</p>
<p>(as soon as I get CI reworked to the new paths, I'd like to merge the above)</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/jco/pull/698/files" style="background-image: url(&quot;https://uploads.zulipusercontent.net/bd0632c933ac849587b2546693ee76559eb5217c/68747470733a2f2f617661746172732e67697468756275736572636f6e74656e742e636f6d2f752f3132333936383132373f733d34303026763d34&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/jco/pull/698/files" title="refactor: project layout by vados-cosmonic · Pull Request #698 · bytecodealliance/jco">refactor: project layout by vados-cosmonic · Pull Request #698 · bytecodealliance/jco</a></div><div class="message_embed_description">This PR rearranges the jco project so that it's a bit easier to do more work in either language (Rust/JS) and expain the structure of the jco repository itself.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/vados-cosmonic/jco/tree/refactor%3Dproject-layout" style="background-image: url(&quot;https://uploads.zulipusercontent.net/1e8e72e8676150e091d62b1edcf8b5a8b5452db2/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f623938303735386363383161323739386130343033646236666535643239646339326235376435333865333133333566363262643965616339643935396139642f7661646f732d636f736d6f6e69632f6a636f&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/vados-cosmonic/jco/tree/refactor%3Dproject-layout" title="GitHub - vados-cosmonic/jco at refactor=project-layout">GitHub - vados-cosmonic/jco at refactor=project-layout</a></div><div class="message_embed_description">JavaScript tooling for working with WebAssembly Components - GitHub - vados-cosmonic/jco at refactor=project-layout</div></div></div>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>