<html>
<head><meta charset="utf-8"><title>`wasi:http` result future discussion conclusion · wasi · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/index.html">wasi</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.60wasi.3Ahttp.60.20result.20future.20discussion.20conclusion.html">`wasi:http` result future discussion conclusion</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="535180004"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/%60wasi%3Ahttp%60%20result%20future%20discussion%20conclusion/near/535180004" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Roman Volosatovs <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.60wasi.3Ahttp.60.20result.20future.20discussion.20conclusion.html#535180004">(Aug 19 2025 at 18:05)</a>:</h4>
<p>Sorry I had to drop earlier today, but what was the final conclusion on the discussion regarding the result/IO future associated with the requests and responses? Will <code>consume-body</code> take <code>future&lt;result&lt;_, error-code&gt;&gt;</code> as a non-optional parameter?</p>



<a name="535180149"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/%60wasi%3Ahttp%60%20result%20future%20discussion%20conclusion/near/535180149" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.60wasi.3Ahttp.60.20result.20future.20discussion.20conclusion.html#535180149">(Aug 19 2025 at 18:06)</a>:</h4>
<p>no worries, and while I think we all lean towards non-optional I'd say it should be guided by perf/reality concerns of today</p>



<a name="535180224"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/%60wasi%3Ahttp%60%20result%20future%20discussion%20conclusion/near/535180224" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.60wasi.3Ahttp.60.20result.20future.20discussion.20conclusion.html#535180224">(Aug 19 2025 at 18:07)</a>:</h4>
<p>e.g. with <code>future.{splice,forward}</code> intrinsics it should probably be non-optional, but without those it's unclear whether it's a pessimization to make it non-optional</p>



<a name="535180257"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/%60wasi%3Ahttp%60%20result%20future%20discussion%20conclusion/near/535180257" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.60wasi.3Ahttp.60.20result.20future.20discussion.20conclusion.html#535180257">(Aug 19 2025 at 18:07)</a>:</h4>
<p>(I was also planning on writing up some issues to capture the results of our discussion to make sure they don't get lost)</p>



<a name="535180437"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/%60wasi%3Ahttp%60%20result%20future%20discussion%20conclusion/near/535180437" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Roman Volosatovs <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.60wasi.3Ahttp.60.20result.20future.20discussion.20conclusion.html#535180437">(Aug 19 2025 at 18:08)</a>:</h4>
<p>Awesome, thanks, Alex!<br>
I will then just assume the result future will be passed into <code>consume-body</code> <em>somehow</em> in the implementation for now</p>



<a name="535181090"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/%60wasi%3Ahttp%60%20result%20future%20discussion%20conclusion/near/535181090" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.60wasi.3Ahttp.60.20result.20future.20discussion.20conclusion.html#535181090">(Aug 19 2025 at 18:13)</a>:</h4>
<p><a href="https://github.com/WebAssembly/wasi-http/issues/176">https://github.com/WebAssembly/wasi-http/issues/176</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/wasi-http/issues/176" style="background-image: url(&quot;https://uploads.zulipusercontent.net/6def74d8a93c1d6895886dbdeaf5c551cb02312c/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f366138323732666463663531393131373733643138386362333832643561326133313466306366343830396265613764396462346661316561303837343461632f576562417373656d626c792f776173692d68747470&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/wasi-http/issues/176" title="WebAssembly/wasi-http">WebAssembly/wasi-http</a></div><div class="message_embed_description">Contribute to WebAssembly/wasi-http development by creating an account on GitHub.</div></div></div>



<hr><p>Last updated: Feb 22 2026 at 11:05 UTC</p>
</html>