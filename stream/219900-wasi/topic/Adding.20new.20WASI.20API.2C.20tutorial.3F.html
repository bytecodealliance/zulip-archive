<html>
<head><meta charset="utf-8"><title>Adding new WASI API, tutorial? · wasi · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/index.html">wasi</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Adding.20new.20WASI.20API.2C.20tutorial.3F.html">Adding new WASI API, tutorial?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="517553136"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Adding%20new%20WASI%20API%2C%20tutorial%3F/near/517553136" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mats Brorsson <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Adding.20new.20WASI.20API.2C.20tutorial.3F.html#517553136">(May 12 2025 at 13:52)</a>:</h4>
<p>I am trying to find information on how to add a new API to WASI. I understand I should start with a wit-file, just like creating a component, but what are the steps to integrate it intoe a runtime, e.g. Wasmtime. <a href="https://radu-matei.com/blog/adding-wasi-syscall/">This blog post</a> by Radu was the old way of doing it, and I guess it would still work, but I am not intimately familiar with the steps needed.</p>
<p>Basically, I am looking for something like the <a href="">component tutorial</a>,  but where the called component is a WASI API.</p>



<a name="517909688"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Adding%20new%20WASI%20API%2C%20tutorial%3F/near/517909688" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bailey Hayes <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Adding.20new.20WASI.20API.2C.20tutorial.3F.html#517909688">(May 13 2025 at 19:42)</a>:</h4>
<p>Some steps here: <a href="https://docs.wasmtime.dev/contributing-implementing-wasm-proposals.html?highlight=adding%20wasi#adding-component-functionality-to-wasi">https://docs.wasmtime.dev/contributing-implementing-wasm-proposals.html?highlight=adding%20wasi#adding-component-functionality-to-wasi</a></p>



<a name="518209160"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Adding%20new%20WASI%20API%2C%20tutorial%3F/near/518209160" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mats Brorsson <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Adding.20new.20WASI.20API.2C.20tutorial.3F.html#518209160">(May 15 2025 at 05:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="421591">Bailey Hayes</span> <a href="#narrow/channel/219900-wasi/topic/Adding.20new.20WASI.20API.2C.20tutorial.3F/near/517909688">said</a>:</p>
<blockquote>
<p>Some steps here: <a href="https://docs.wasmtime.dev/contributing-implementing-wasm-proposals.html?highlight=adding%20wasi#adding-component-functionality-to-wasi">https://docs.wasmtime.dev/contributing-implementing-wasm-proposals.html?highlight=adding%20wasi#adding-component-functionality-to-wasi</a></p>
</blockquote>
<p>Thanks <span class="user-mention" data-user-id="421591">@Bailey Hayes</span> , but it was not exactly what I was looking for. I want to implement a new interface to WASI in Wasmtime. Is <a href="https://radu-matei.com/blog/adding-wasi-syscall/">https://radu-matei.com/blog/adding-wasi-syscall/</a> still the right way to do it?</p>



<a name="518296932"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Adding%20new%20WASI%20API%2C%20tutorial%3F/near/518296932" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Adding.20new.20WASI.20API.2C.20tutorial.3F.html#518296932">(May 15 2025 at 13:03)</a>:</h4>
<p>Do you want to propose a new interface for standardization or are you just looking to expose some host functionality to a wasm guest in your own environment?</p>



<a name="518298573"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Adding%20new%20WASI%20API%2C%20tutorial%3F/near/518298573" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mats Brorsson <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Adding.20new.20WASI.20API.2C.20tutorial.3F.html#518298573">(May 15 2025 at 13:10)</a>:</h4>
<p>For now it's about experimenting with exposing  some host functionality to a wasm guest. Eventually, it might become a proposal for new interface fow wasi.</p>



<a name="518301270"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Adding%20new%20WASI%20API%2C%20tutorial%3F/near/518301270" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Adding.20new.20WASI.20API.2C.20tutorial.3F.html#518301270">(May 15 2025 at 13:19)</a>:</h4>
<p>I believe this is the best documentation at the moment for wasmtime: <a href="https://docs.rs/wasmtime/32.0.0/wasmtime/component/macro.bindgen.html">https://docs.rs/wasmtime/32.0.0/wasmtime/component/macro.bindgen.html</a> (the linked <code>bindgen_examples</code> are a good quickstart)</p>



<a name="522528305"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Adding%20new%20WASI%20API%2C%20tutorial%3F/near/522528305" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mainrs <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Adding.20new.20WASI.20API.2C.20tutorial.3F.html#522528305">(Jun 05 2025 at 08:16)</a>:</h4>
<p>The resource that helped me out the most was the <code>wasmtime</code> repository itself. It has implementations for the wasi-xx proposals under the crates folder. It was really helpful regarding resource table handling, inner state and linking of new wasi APIs.</p>



<hr><p>Last updated: Oct 25 2025 at 23:03 UTC</p>
</html>